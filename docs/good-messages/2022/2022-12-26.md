# [<](2022-12-25.md) 2022-12-26 [>](2022-12-27.md)

1,759,449 events recorded by [gharchive.org](https://www.gharchive.org/) of which 1,759,449 were push events containing 2,371,315 commit messages that amount to 154,455,101 characters filtered with [words.py@e23d022007...](https://github.com/defgsus/good-github/blob/e23d022007992279f9bcb3a9fd40126629d787e2/src/words.py) to these 54 messages:


## [SanctusAnimus/Angel-Arena-Reborn](https://github.com/SanctusAnimus/Angel-Arena-Reborn)@[90573812a2...](https://github.com/SanctusAnimus/Angel-Arena-Reborn/commit/90573812a2d3342b57555316986f78b6dce37f67)
#### Monday 2022-12-26 00:48:24 by Dunkan

Patch 25.06.2022

Hero changes:

Abaddon
	- 1 skill self damage	changed from 30/35/40/45/50/55/60 to 50
	- 2 skill cast point  changed from 0.452 to 0.3
	- 2 skill duration  changed from  13 to 15
	- 3 skill movement speed changed from 25 to 15/17/19/21/23/25/25"

Abyssal Underlord
	- 2 skill root duration 	1.0/1.2/1.4/1.5/1.6/1.7/2.1" to 1.0/1.2/1.3/1.4/1.5/1.6/1.7

Alkchmist
	- shard skill Berserk Potion bonus ms 0 to 30

Ancient Аpparation
	- 2 skill shard damage changed from 40 to 150
	- 2 skill shard attack speed slow changed from 20 to 50

Dragon Knight
	- Fireball damage changed from 75 to 150

Furion
	- 1 skill Cooldown changed from 14/13/12/11/10/9/8 to 15
	- 3 skill treant health changed from 550/650/750/850/950/1050/1150 to 550/600/650/700/750/850/1100
	- 3 skill treant damage changed from 45/55/65/75/85/95/105 to 25/30/45/55/60/65/105
	- 4 skill Cooldown changed from 50 to 65

Huskar
	- 4 skill health damage changed from 45 to 20/22/25/27/33/36/45

Chaos Knight
 	- 3 skill crit chance changed from 30 to 25
 	- 3 skill crit max changed from 190/220/250/280/310/350/400 to 170/190/220/250/290/320/350
 	- 3 skill lifesteal changed from 30/35/40/45/50/55/60 to 25/30/35/40/45/50/55

Crystal Maiden's

 	- 3 skill mana per cast 10/15/20/25/30/35/40

Centaur
 	- 1 skill stun duration changed from 2.0 to 2.0/2.1/2.2/2.3/2.4/2.5/2.6

Dawnbreaker
 	- 4 skill damage of pulsation changed from 30/50/70/80/90/100/110 to 50/75/100/125/150/175/200
 	- 4 skill heal of pulsation changed from 50/70/90/110/130/150/170 to 50/75/100/125/150/175/200
 	- 4 skill damage changed from 130/160/190/220/250/280/310 to 200/300/400/500/600/700/800

Medusa
	- Cold Blooded Cooldown changed from 6 to 10

Marci
	- 4 skill Cooldown changed from 110/100/90/80/70/60/50 to 80/75/70/65/60/55/50
	- 4 skill between flurries changed from 1.75 to 1.55/1.50/1.45/1.40/1.35/1.30/1.25
	- 4 skill attack Stacks changed from 3/4/5/6/7/8/9 to 4/5/6/7/8/9/10
	- talent 25lvl silence duration changed from 1.5sec to 0.5sec

Primal Beast
	- Added to Angel Arena

Techies
	- Added techies skill frm dota

Undying
	- 4 skill Cooldown changed from 40 to 60
	- Shard Cooldown ultimate changed from 35 to 20

Item changes:

Tome of heroes
	- stack start game 5
	- delay before the start of the game 600sec
	- Max stack 40
	- Cooldown stack 20sec
	- Cost changed from 1250 to 1500

Ethereal Blade
	- Craft changed from Ghost scepter + Recipe to Mystic staff + Ghost scepter + Recipe

Gem
	- cast range changed from 300 to 500
	- active skill radius changed from 300 to 500
	- duration active skill changed from 4 to 8
	- Cooldown active skill changed from 12 to 30

Bosses:

Keymaster
	- now Ignores terrain
	- ms changed from 365 to 400

Creeps:

Satyr hand
	- 3 skill magic amplify changed from 50 to 20

Fixes:
Storm Spirit 1 skill damage fixed
Earth Spirit ultimate fixed
Elder Titan ultimate fixed
Abyssal Underlord ultimate fixed
Omniknight 3 skill and ultimate fixed
Pudge 3 skill fixed
Templar Assassin 3 skill fixed
Shadow Fiend aghanim fixed
Hoodwink shard skill fixed
Morphlimg 1 skill fixed
Swift blink range fixed
Overwhelming blink range fixed
Arcane blink range fixed

---
## [SanctusAnimus/Angel-Arena-Reborn](https://github.com/SanctusAnimus/Angel-Arena-Reborn)@[24633a752b...](https://github.com/SanctusAnimus/Angel-Arena-Reborn/commit/24633a752b5738342b0364e0ebb34764f2e2d41b)
#### Monday 2022-12-26 00:48:24 by Dunkan

Patch 25.06.2022

Hero changes:

Abaddon
	- 1 skill self damage	changed from 30/35/40/45/50/55/60 to 50
	- 2 skill cast point  changed from 0.452 to 0.3
	- 2 skill duration  changed from  13 to 15
	- 3 skill movement speed changed from 25 to 15/17/19/21/23/25/25"

Abyssal Underlord
	- 2 skill root duration 	1.0/1.2/1.4/1.5/1.6/1.7/2.1" to 1.0/1.2/1.3/1.4/1.5/1.6/1.7

Alkchmist
	- shard skill Berserk Potion bonus ms 0 to 30

Ancient Аpparation
	- 2 skill shard damage changed from 40 to 150
	- 2 skill shard attack speed slow changed from 20 to 50

Dragon Knight
	- Fireball damage changed from 75 to 150

Furion
	- 1 skill Cooldown changed from 14/13/12/11/10/9/8 to 15
	- 3 skill treant health changed from 550/650/750/850/950/1050/1150 to 550/600/650/700/750/850/1100
	- 3 skill treant damage changed from 45/55/65/75/85/95/105 to 25/30/45/55/60/65/105
	- 4 skill Cooldown changed from 50 to 65

Huskar
	- 4 skill health damage changed from 45 to 20/22/25/27/33/36/45

Chaos Knight
 	- 3 skill crit chance changed from 30 to 25
 	- 3 skill crit max changed from 190/220/250/280/310/350/400 to 170/190/220/250/290/320/350
 	- 3 skill lifesteal changed from 30/35/40/45/50/55/60 to 25/30/35/40/45/50/55

Crystal Maiden's

 	- 3 skill mana per cast 10/15/20/25/30/35/40

Centaur
 	- 1 skill stun duration changed from 2.0 to 2.0/2.1/2.2/2.3/2.4/2.5/2.6
Charon
        - Ultimate root can be dispelled

Dawnbreaker
 	- 4 skill damage of pulsation changed from 30/50/70/80/90/100/110 to 50/75/100/125/150/175/200
 	- 4 skill heal of pulsation changed from 50/70/90/110/130/150/170 to 50/75/100/125/150/175/200
 	- 4 skill damage changed from 130/160/190/220/250/280/310 to 200/300/400/500/600/700/800

Medusa
	- Cold Blooded Cooldown changed from 6 to 10

Marci
	- 4 skill Cooldown changed from 110/100/90/80/70/60/50 to 80/75/70/65/60/55/50
	- 4 skill between flurries changed from 1.75 to 1.55/1.50/1.45/1.40/1.35/1.30/1.25
	- 4 skill attack Stacks changed from 3/4/5/6/7/8/9 to 4/5/6/7/8/9/10
	- talent 25lvl silence duration changed from 1.5sec to 0.5sec

Primal Beast
	- Added to Angel Arena

Techies
	- Added techies skill frm dota

Undying
	- 4 skill Cooldown changed from 40 to 60
	- Shard Cooldown ultimate changed from 35 to 20

Item changes:

Tome of heroes
	- stack start game 5
	- delay before the start of the game 600sec
	- Max stack 40
	- Cooldown stack 20sec
	- Cost changed from 1250 to 1500

Ethereal Blade
	- Craft changed from Ghost scepter + Recipe to Mystic staff + Ghost scepter + Recipe

Gem
	- cast range changed from 300 to 500
	- active skill radius changed from 300 to 500
	- duration active skill changed from 4 to 8
	- Cooldown active skill changed from 12 to 30

Bosses:

Keymaster
	- now Ignores terrain
	- ms changed from 365 to 400

Creeps:

Satyr hand
	- 3 skill magic amplify changed from 50 to 20

Fixes:
Storm Spirit 1 skill damage fixed
Earth Spirit ultimate fixed
Elder Titan ultimate fixed
Abyssal Underlord ultimate fixed
Omniknight 3 skill and ultimate fixed
Pudge 3 skill fixed
Templar Assassin 3 skill fixed
Shadow Fiend aghanim fixed
Hoodwink shard skill fixed
Morphlimg 1 skill fixed
Swift blink range fixed
Overwhelming blink range fixed
Arcane blink range fixed

---
## [TaleStation/TaleStation](https://github.com/TaleStation/TaleStation)@[7c7e002584...](https://github.com/TaleStation/TaleStation/commit/7c7e00258473441d4f0287717797b603e1049ac3)
#### Monday 2022-12-26 01:06:13 by TaleStationBot

[MIRROR] [MDB IGNORE] Adds the Sandstorm random event, directional meteor functionality, space sand. (#3829)

* Adds the Sandstorm random event, directional meteor functionality, space sand. (#71802)

<!-- Write **BELOW** The Headers and **ABOVE** The comments else it may
not be viewable. -->
<!-- You can view Contributing.MD for a detailed description of the pull
request process. -->

## About The Pull Request


![sandstorm](https://user-images.githubusercontent.com/28870487/206070641-80d37afc-a365-4f5e-ad48-e8cdf0153ac9.png)

Hey guys, it's your boy. Back at it again with another meteor-adjacent
event PR.

Adds the Sandstorm random event, inspired by the long-unused admin only
one. It picks a direction to approach from, alerts the crew of its
imminent arrival, and after a little over a minute of preparatory time,
sends waves of sand and dust to grind down everything in that direction.

To accomplish this, some minor adjustments had to be made to meteor
generation code. They can now be passed an optional arg for a direction
to be thrown from, and will pick a random one if no direction is given.

Also introduces the newest addition to our cast of meteors -- space
sand! It's even weaker than space dust, and shows up exclusively in this
event. Space sand is **ineffective against rwalls**, and will not damage
the arrivals area's high-tech sand-resistant glass. This is to prevent
this event from venting one of the most dust-vulnerable areas on the
station, and to make sure new players aren't shafted into firelock hell
when the right angle is picked.

I did a lot of testing and tweaking of numbers to get the damage to
average at about the level I'm comfortable with. This is meant to be a
high-impact event that isn't as destructive (or unavoidable) as a meteor
wave. Speaking of avoidance, let's talk about mitigation:

You get an early warning and a direction the sand will come from. You
have time to grab repair supplies, move to safety, get a MODsuit. You
can make worthwhile repairs as the sand comes in from inside (or
outside, if you're brave enough) with nothing more than a welder and
iron sheets. If you're feeling particularly spicy, you can leverage your
prep time setting up shield generators, which spawn in engineering and
have been added to the maintenance machines loot pool. Anyone can
contribute, so do your part as a good crewmate and help out!

All that being said, the event can't be prevented entirely. Shit's going
to get shredded, especially on the outside of the station. Damage will
vary heavily based on the station and direction, ranging from
inconsequential to threatening. It should happen late enough into the
round that, at the bare minimum, the crew shouldn't be caught
unprepared.

For those of you who are worried, the ORIGINAL sandstorm admin event is
still with us too. It's been moved from the space dust file into the
Sandstorm event file. This PR also makes a very minor change to the
naming of the space _dust_ events, for better menuing.

So, to sum it all up: Sand hits grinds down one side of the station, you
get a minute of warning, shield generators now spawn in maintenance. Be
a good crewmate and help where you can.

<!-- Describe The Pull Request. Please be sure every change is
documented or this can delay review and even discourage maintainers from
merging your PR! -->

## Why It's Good For The Game

More event variety is good, and events that give the players agency on
how bad the impact will be is even better.

<!-- Argue for the merits of your changes and how they benefit the game,
especially if they are controversial and/or far reaching. If you can't
actually explain WHY what you are doing will improve the game, then it
probably isn't good for the game in the first place. -->

## Changelog

<!-- If your PR modifies aspects of the game that can be concretely
observed by players or admins you should add a changelog. If your change
does NOT meet this description, remove this section. Be sure to properly
mark your PRs to prevent unnecessary GBP loss. You can read up on GBP
and it's effects on PRs in the tgstation guides for contributors. Please
note that maintainers freely reserve the right to remove and add tags
should they deem it appropriate. You can attempt to finagle the system
all you want, but it's best to shoot for clear communication right off
the bat. -->

:cl: Rhials
add: Sandstorm random event! A random side of the station is pummeled by
an onslaught of sand and dust. If you hear that one is approaching, grab
a welder and some iron to help with repairs!
add: Space sand! It's weak and doesn't hurt reinforced walls, but
shouldn't be underestimated in high quantities.
code: You can now pass a start direction to the
spawn_meteors/spawn_meteor global procs.
/:cl:

<!-- Both :cl:'s are required for the changelog to work! You can put
your name to the right of the first :cl: if you want to overwrite your
GitHub username as author ingame. -->
<!-- You can use multiple of the same prefix (they're only used for the
icon ingame) and delete the unneeded ones. Despite some of the tags,
changelogs should generally represent how a player might be affected by
the changes rather than a summary of the PR's contents. -->

* Adds the Sandstorm random event, directional meteor functionality, space sand.

* fix

Co-authored-by: Rhials <Datguy33456@gmail.com>
Co-authored-by: Jolly-66 <70232195+Jolly-66@users.noreply.github.com>

---
## [Kepteyn/Skyrat-tg](https://github.com/Kepteyn/Skyrat-tg)@[1737ab8598...](https://github.com/Kepteyn/Skyrat-tg/commit/1737ab8598dc94f6c5d8a9f11d8b8bc5a75055d6)
#### Monday 2022-12-26 01:07:30 by SkyratBot

[MIRROR] Fixes parallax on >2 level maps going fucky with optimized multiz [MDB IGNORE] (#18298)

* Fixes parallax on >2 level maps going fucky with optimized multiz (#72169)

## About The Pull Request

We no longer always render parallax.
This was causing issues because we can't isolate the white of space from
the vaugely white of everything else.

So instead, if your parallax plane is out of view, we'll not only
disable it, but we'll disable the strand we send from the main plane TO
it.

Instead only blending against the bottom stack.

This does mean there's a possibility for fullwhite on z transition
borders (potentially fixable), or when hijacking the plane (also
fixable, but significantly more annoying).

This is enough to make large maps functional though, so I'm happy with
it

## Why It's Good For The Game

Allows for #71731 and other maps like it. Makes my code actually work

## Changelog
:cl:
fix: Using optimized multiz on > 2 z layer maps will no longer cause
fucko bungo
/:cl:

* Fixes parallax on >2 level maps going fucky with optimized multiz

Co-authored-by: LemonInTheDark <58055496+LemonInTheDark@users.noreply.github.com>

---
## [tgstation/tgstation](https://github.com/tgstation/tgstation)@[b174af7661...](https://github.com/tgstation/tgstation/commit/b174af7661cbfaf564292caabfccca18619bda23)
#### Monday 2022-12-26 02:24:20 by Jacquerel

Basic Mob Carp Part VIII: Basic Mob Carp (#72073)

## About The Pull Request

Wow we're finally here. This turns carp into Basic Mobs instead of
Simple Animals.
They use a variety of behaviours added in previous PRs to act in a
marginally more interesting way than they used to.
But don't worry there's still 2 or 3 PRs to follow this one until I'm
done with space fish.

Changes in this PR:
Carp will try to run away if they get below 50% health, to make use of
their "regenerate if not attacked" component.
Magicarp have different targetting behaviour for spells depending on
their spell;
- Ressurecting Carp will try to ressurect allied mobs.
- Animating Carp will try to animate nearby objects.
- Door-creating Carp will try to turn nearby walls into doors.

You can order Magicarp to cast their spell on something if you happen to
manage to tame one.
The eating element now has support for "getting hurt" when you eat
something. Carp eating can rings and hating it was too soulful not to
continue supporting.

## Why It's Good For The Game

Carp are iconic beasts and I think they should be more interesting.
Also we just want to turn mobs into basic mobs anyway.

## Changelog

:cl:
add: Carp will now run away if their health gets low, meaning they may
have a chance to regenerate.
add: Lia will now fight back if attacked instead of letting herself get
killed, watch out!
balance: Magicarp will now aim their spells more intelligently.
add: Tame Magicarp can be ordered to use their spells on things.
refactor: Carp are now "Basic Mobs" instead of "Simple Mobs"
fix: Dehydrated carp no longer give you a bad feeling when they're your
friend and a good feeling when they're going to attack you.
balance: Tamed carp are now friendly only to their tamer rather than
their whole faction, which should make dehydrated carp more active.
Order them to stay or follow you if you want them to behave around your
friends.
/:cl:

---
## [tgstation/tgstation](https://github.com/tgstation/tgstation)@[125745d232...](https://github.com/tgstation/tgstation/commit/125745d232163406c107d3947b87d6d406ac3a17)
#### Monday 2022-12-26 02:37:56 by Fikou

guardian death checks (#72251)

## About The Pull Request
if a guardian summoner is dead during the summoner setting process, we
(the guardian) now kill ourselves since itd mean a guardian that cant
die
to combat some fucked upness of it (if you inject a guardian and it only
spawns after you died and then dusts you), the process of spawning a
guardian from the playerside guardian creator stuff gets canceled if
youre dead or dont exist

## Why It's Good For The Game
yeah that seems good

## Changelog
:cl:
fix: guardian spirits check for death before they add themselves to you
/:cl:

---
## [SomeRandomOwl/tgstation](https://github.com/SomeRandomOwl/tgstation)@[63561ca455...](https://github.com/SomeRandomOwl/tgstation/commit/63561ca455933a38f3390f7fcfa6266fda3c53b3)
#### Monday 2022-12-26 02:40:22 by san7890

Guards against uplink failsafe code being the same as unlock code (#72113)

## About The Pull Request

There's probably a better way to do this to be honest, but I think it's
silly for both to potentially be the same and this should work alright.
## Why It's Good For The Game

Fixes #71446.

I don't think the Syndicate is that stupid.
## Changelog
:cl:
fix: After a recent mishap with a high-ranking Syndicate operative, the
uplink's unlock code and failsafe code (the one that makes it blow up if
you say it) should never turn out to be the same.
/:cl:

---
## [ranzang23/app-dev](https://github.com/ranzang23/app-dev)@[4dc1504db8...](https://github.com/ranzang23/app-dev/commit/4dc1504db88de37955cb37ee913161225c8f762b)
#### Monday 2022-12-26 03:11:50 by ranzang23

Update README.md

As a suicide survivor, demon hunter John Constantine (Keanu Reeves) has literally been to hell and back -- and he knows that when he dies, he's got a one-way ticket to Satan's realm unless he can earn enough goodwill to climb God's stairway to heaven. While helping policewoman Angela Dodson (Rachel Weisz) investigate her identical twin's apparent suicide, Constantine becomes caught up in a supernatural plot involving both demonic and angelic forces. Based on the DC/Vertigo "Hellblazer" comics.

---
## [gitster/git](https://github.com/gitster/git)@[f1c903debd...](https://github.com/gitster/git/commit/f1c903debdcbf6aaf8fd3abf222fa941b42d5d31)
#### Monday 2022-12-26 03:34:53 by Ævar Arnfjörð Bjarmason

cocci: make "coccicheck" rule incremental

Optimize the very slow "coccicheck" target to take advantage of
incremental rebuilding, and fix outstanding dependency problems with
the existing rule.

The rule is now faster both on the initial run as we can make better
use of GNU make's parallelism than the old ad-hoc combination of
make's parallelism combined with $(SPATCH_BATCH_SIZE) and/or the
"--jobs" argument to "spatch(1)".

It also makes us *much* faster when incrementally building, it's now
viable to "make coccicheck" as topic branches are merged down.

The rule didn't use FORCE (or its equivalents) before, so a:

	make coccicheck
	make coccicheck

Would report nothing to do on the second iteration. But all of our
patch output depended on all $(COCCI_SOURCES) files, therefore e.g.:

    make -W grep.c coccicheck

Would do a full re-run, i.e. a a change in a single file would force
us to do a full re-run.

The reason for this (not the initial rationale, but my analysis) is:

* Since we create a single "*.cocci.patch+" we don't know where to
  pick up where we left off, or how to incrementally merge e.g. a
  "grep.c" change with an existing *.cocci.patch.

* We've been carrying forward the dependency on the *.c files since
  63f0a758a06 (add coccicheck make target, 2016-09-15) the rule was
  initially added as a sort of poor man's dependency discovery.

  As we don't include other *.c files depending on other *.c files
  has always been broken, as could be trivially demonstrated
  e.g. with:

       make coccicheck
       make -W strbuf.h coccicheck

  However, depending on the corresponding *.c files has been doing
  something, namely that *if* an API change modified both *.c and *.h
  files we'd catch the change to the *.h we care about via the *.c
  being changed.

  For API changes that happened only via *.h files we'd do the wrong
  thing before this change, but e.g. for function additions (not
  "static inline" ones) catch the *.h change by proxy.

Now we'll instead:

 * Create a <RULE>/<FILE> pair in the .build directory, E.g. for
   swap.cocci and grep.c we'll create
   .build/contrib/coccinelle/swap.cocci.patch/grep.c.

   That file is the diff we'll apply for that <RULE>-<FILE>
   combination, if there's no changes to me made (the common case)
   it'll be an empty file.

 * Our generated *.patch
   file (e.g. contrib/coccinelle/swap.cocci.patch) is now a simple "cat
   $^" of all of all of the <RULE>/<FILE> files for a given <RULE>.

   In the case discussed above of "grep.c" being changed we'll do the
   full "cat" every time, so they resulting *.cocci.patch will always
   be correct and up-to-date, even if it's "incrementally updated".

   See 1cc0425a27c (Makefile: have "make pot" not "reset --hard",
   2022-05-26) for another recent rule that used that technique.

As before we'll:

 * End up generating a contrib/coccinelle/swap.cocci.patch, if we
   "fail" by creating a non-empty patch we'll still exit with a zero
   exit code.

   Arguably we should move to a more Makefile-native way of doing
   this, i.e. fail early, and if we want all of the "failed" changes
   we can use "make -k", but as the current
   "ci/run-static-analysis.sh" expects us to behave this way let's
   keep the existing behavior of exhaustively discovering all cocci
   changes, and only failing if spatch itself errors out.

Further implementation details & notes:

 * Before this change running "make coccicheck" would by default end
   up pegging just one CPU at the very end for a while, usually as
   we'd finish whichever *.cocci rule was the most expensive.

   This could be mitigated by combining "make -jN" with
   SPATCH_BATCH_SIZE, see 960154b9c17 (coccicheck: optionally batch
   spatch invocations, 2019-05-06).

   There will be cases where getting rid of "SPATCH_BATCH_SIZE" makes
   things worse, but a from-scratch "make coccicheck" with the default
   of SPATCH_BATCH_SIZE=1 (and tweaking it doesn't make a difference)
   is faster (~3m36s v.s. ~3m56s) with this approach, as we can feed
   the CPU more work in a less staggered way.

 * Getting rid of "SPATCH_BATCH_SIZE" particularly helps in cases
   where the default of 1 yields parallelism under "make coccicheck",
   but then running e.g.:

       make -W contrib/coccinelle/swap.cocci coccicheck

   I.e. before that would use only one CPU core, until the user
   remembered to adjust "SPATCH_BATCH_SIZE" differently than the
   setting that makes sense when doing a non-incremental run of "make
   coccicheck".

 * Before the "make coccicheck" rule would have to clean
   "contrib/coccinelle/*.cocci.patch*", since we'd create "*+" and
   "*.log" files there. Now those are created in
   .build/contrib/coccinelle/, which is covered by the "cocciclean" rule
   already.

Outstanding issues & future work:

 * We could get rid of "--all-includes" in favor of manually
   specifying a list of includes to give to "spatch(1)".

   As noted upthread of [1] a naïve removal of "--all-includes" will
   result in broken *.cocci patches, but if we know the exhaustive
   list of includes via COMPUTE_HEADER_DEPENDENCIES we don't need to
   re-scan for them, we could grab the headers to include from the
   .depend.d/<file>.o.d and supply them with the "--include" option to
   spatch(1).q

1. https://lore.kernel.org/git/87ft18tcog.fsf@evledraar.gmail.com/

Signed-off-by: Ævar Arnfjörð Bjarmason <avarab@gmail.com>
Signed-off-by: Taylor Blau <me@ttaylorr.com>

---
## [i3roly/CMI8788](https://github.com/i3roly/CMI8788)@[370c6a64df...](https://github.com/i3roly/CMI8788/commit/370c6a64df2b08bb8feaae0fe7aaa410f1c04159)
#### Monday 2022-12-26 03:57:17 by gagan sidhu

wrap SNDRV_TRIGGER* to kIOAudioEngine. tim cook went 'full <you know what>'

1.  we need oxygen_trigger to properly set the bits when we start the engine, and also when it is paused for whatever reason (sleep or some bullshit).
	-for today, i'll just wrap the SNDRV_TRIGGER values to kIOAudioEngineState, maybe look at them tomorrow.

in short, pcm_running should have the right mask whenever the engine is not suspended/paused.
	-whether i should call this in prepare is also up for debate, but i will probably have to call it in the powerstatus functions.

2. start moving some of these debug prints to a higher level.

TIM COOK WENT FULL <YOU KNOW WHAT>.
	-he decided catering to that FAT BITCH OPRAH and other TALENTLESS FREAKS' stock sales superseded the wellbeing of OSX, which he proceeded to FUCK UP COMPLETELY.

fucking generic box-head combover <YOU KNOW WHAT>

https://www.youtube.com/watch?v=X6WHBO_Qc-Q

I LOVE UUU BEN

---
## [Skyrat-SS13/Skyrat-tg](https://github.com/Skyrat-SS13/Skyrat-tg)@[7b658b3c0d...](https://github.com/Skyrat-SS13/Skyrat-tg/commit/7b658b3c0d1b9c7b9672a0a1aa709d2789974190)
#### Monday 2022-12-26 05:12:57 by SkyratBot

[MIRROR] Drinking singulo ignores supermatter hallucinations and pulls nearby objects [MDB IGNORE] (#18157)

* Drinking singulo ignores supermatter hallucinations and pulls nearby objects (#71927)

## About The Pull Request
Drinking a singulo will now:

- Give immunity to supermatter hallucinations
- Pulls objects to you based on the total volume in your system (20u =
1x1, 45u = 2x2, 80u = 3x3)
- Makes a burp and supermatter rays/sound when objects are pulled

The new ingredient is:

- Vokda 5u
- Wine 5u
- Liquid Dark Matter 1u (replaces Radium)

## Why It's Good For The Game
More cool effects for drinks. Singularity is all about gravity and the
drink should have a theme around that.

![dreamseeker_2q21YXS698](https://user-images.githubusercontent.com/5195984/207297517-90d26395-dd30-4106-bdd4-b30b1ba3e20b.gif)

## Changelog
:cl:
add: Drinking singulo will now ignore supermatter hallucinations and
pull objects to you
balance: Change singulo drink recipe to require liquid dark matter
instead of radium.
/:cl:

* Drinking singulo ignores supermatter hallucinations and pulls nearby objects

Co-authored-by: Tim <timothymtorres@gmail.com>

---
## [sleepynecrons/cmss13](https://github.com/sleepynecrons/cmss13)@[15af7f1ee5...](https://github.com/sleepynecrons/cmss13/commit/15af7f1ee5e7dbd568ea01b53c993e127b4bdb12)
#### Monday 2022-12-26 07:00:38 by ThePiachu

Cargo ammo and ammo box mapping (re-up) (#1759)

<!-- Write **BELOW** The Headers and **ABOVE** The comments else it may
not be viewable. -->

## About The Pull Request

Previous version of this PR ( #1650 ) claimed to have changed 384 files,
which would be impossible to review. So re-uploading this PR with
hopefully a sane amount of files changed...

---

When I was playing cargo I spent a good half an hour in a round just
mindlessly packing ammo magazines into boxes in squad prep. It didn't
put a dent in the squad prep supply, and I barely got a handful of
boxes. So I thought to myself that this is pretty much a waste of time
for cargo and decided to code a better solution:

https://www.youtube.com/watch?v=cnXcEYAV8P4

So now select vendors (opt-in via `VEND_LOAD_AMMO_BOXES`) support ammo
consolidation. They count the number of ammo magazines you have and from
that they derive the number of magazine boxes you can vend. If you vend
a magazine, it updates the number of boxes available, and if you vend a
box, it updates the number of magazines available (as well as all
derived boxes - see the 3 pack of grenades and 25 pack box).

The `item_to_box_mapping` tracks ammo boxes (minus loose ammo), grenade
boxes, grenade packets and mine boxes.

Most notable affected vendors - Requisition ammo vendor, Requisition
vendor that features grenades, Squad vendors that have ammo in them.

So now Requisition will be able to easily raid Squad Vendors to stock up
their ammo drops and save countless hours of mind-numbing cargo work.

This code ALSO correctly works when you're re-stocking a vendor with
either individual magazines or magazine boxes. Correct amounts are
updated everywhere. So you *could* take a magazine box, put it in a
vendor and thus let people vend 16 magazines out of it seemlessly.
Really useful just incase you need to restock Requisitions with
individual ammo or something...

Other notes:
- Boxes of magazines are put directly under the corresponding ammo so
you can vend them in larger amounts easier. Useful for 3-packs of
grenades
- We should add a Shotgun Shell Box Box so we can also handle those
easily...
- Nailgun ammo box had to be converted from being /smg/ since that
created an invalid ammo box that nobody used.
- Nulled out a magazine type for an intermediary box that later gets
used for MREs and all that

<!-- Describe The Pull Request. Please be sure every change is
documented or this can delay review and even discourage maintainers from
merging your PR! -->

## Why It's Good For The Game

Gameplay around loading magazines into ammo boxes is not interesting, so
cutting it down to minimum is for the best.

<!-- Please add a short description of why you think these changes would
benefit the game. If you can't justify it in words, it might not be
worth adding, and may discourage maintainers from reviewing or merging
your PR. This section is not strictly required for (non-controversial)
fix PRs or backend PRs. -->

## Changelog

<!-- You can use multiple of the same prefix (they're only used for the
icon ingame) and delete the unneeded ones. Despite some of the tags,
changelogs should generally represent how a player might be affected by
the changes rather than a summary of the PR's contents. -->

<!-- If your PR modifies aspects of the game that can be concretely
observed by players or admins you should add a changelog. If your change
does NOT meet this description, remove this section. Be sure to properly
mark your PRs to prevent unnecessary GBP loss. Please note that
maintainers freely reserve the right to remove and add tags should they
deem it appropriate. You can attempt to finagle the system all you want,
but it's best to shoot for clear communication right off the bat. -->

:cl:
add: Added an automated ammo box management system to various vendors
stocking bulk ammo and grenades. It will automatically combine ammo
magazine into boxes, and divide boxes into individual magazines (or
grenades, MRE packets, etc.). The boxes will appear at the bottom of the
vendor (yes, this also includes the regular grenade boxes that used to
be higher).
qol: Cargo will no longer need to pack individual vended ammo magazines
into boxes thanks to the ammo box management system. Your chains have
been broken!
qol: Requisitions vendor now stocks 3-packs of grenades as well as
individual HEDP grenades.
qol: Requisitions ammo vendor now can vend a lot more individual
magazines (actual number of magazines remains unchanged, just the ammo
boxes have been consolidated into magazines).
qol: Requisition vendors now vend to floor when they are not vending to
the front desks. This will make filling crates of ammo boxes or rappels
easier.
code: Minor changes to code around some ammo boxes to remove one phantom
box and prevent intermediate box types from being indexed when they
shouldn't be.
code: Refactored the code that checks whether items are in mint enough
condition to re-stock.
/:cl:

<!-- Both :cl:'s are required for the changelog to work! You can put
your name to the right of the first :cl: if you want to overwrite your
GitHub username as author ingame. -->

---
## [mijofa/bootstrap2020](https://github.com/mijofa/bootstrap2020)@[1c5ca1e6d9...](https://github.com/mijofa/bootstrap2020/commit/1c5ca1e6d977ead6816a7f2a7eb3f4b4e6fca334)
#### Monday 2022-12-26 07:53:19 by Trent W. Buck

Use pipewire (not pulseaudio)

This fixes a persistent bug where if you tried to change volume while vlc was playing a video, sometimes (often!) pulseaudio would just crash.
pulseaudio would restart, but the already-open vlc would never make noises again.
To fix it you had to close and reopen vlc.

    pulseaudio:
    orc_code_region_allocate_codemem():
    Failed to create write and exec mmap regions.
    This is probably because SELinux execmem check is enabled (good) and $TMPDIR and $HOME are mounted noexec (bad).

Mike found that this is because Debian pipewire is compiled with --enable-orc.
That is https://github.com/GStreamer/orc and what it does is create new executables at runtime like
/tmp/orcexec.XXXXXX or /run/user/1000/orcexec.XXXXXX or ~/orcexec.XXXXXX
This is obviously banned on PrisonPC -- all user-writable areas are mounted -o noexec precisely to defeat this class of attack.

We probably could have solved this by recompiling pulseaudio with ./configure --disable-orc.

    https://sources.debian.org/src/pulseaudio/14.2-2/debian/control/#L26

However, we already had pipewire ready to go, and
we planned to switch to pipewire permanently in Debian 12.

The only reason to stick with pulseaudio for Debian 11 was that this commit is long and yukky.
But given that it fixes and actual user-visible and SUPER ANNOYING bug, fuck it, pipewire TODAY.

PS: pipewire does not use orc at all; it's not even in the codebase.

---
## [cmss13-devs/cmss13](https://github.com/cmss13-devs/cmss13)@[a742c64df9...](https://github.com/cmss13-devs/cmss13/commit/a742c64df98ec4f23eaa64162a2518a91c642ead)
#### Monday 2022-12-26 08:03:10 by carlarctg

Fix entering a ghosted xeno not removing ghostize sleep. (#2076)

<!-- Write **BELOW** The Headers and **ABOVE** The comments else it may
not be viewable. -->

# About the pull request

<!-- Remove this text and explain what the purpose of your PR is.

Mention if you have tested your changes. If you changed a map, make sure
you used the mapmerge tool.
If this is an Issue Correction, you can type "Fixes Issue #169420" to
link the PR to the corresponding Issue number #169420.

Remember: something that is self-evident to you might not be to others.
Explain your rationale fully, even if you feel it goes without saying.
-->

Fix entering a ghosted xeno not removing ghostize sleep.

# Explain why it's good for the game

This sucks ass! Let me wake up!!!!! can KILL you if you enter a xeno in
a difficult situation!!!!!!

<!-- Please add a short description of why you think these changes would
benefit the game. If you can't justify it in words, it might not be
worth adding, and may discourage maintainers from reviewing or merging
your PR. This section is not strictly required for (non-controversial)
fix PRs or backend PRs. -->


# Testing Photographs and Procedure
<!-- Include any screenshots/videos/debugging steps of the modified code
functioning successfully, ideally including edge cases. -->
<details>
<summary>Screenshots & Videos</summary>

Put screenshots and videos here with an empty line between the
screenshots and the `<details>` tags.

</details>


# Changelog

<!-- If your PR modifies aspects of the game that can be concretely
observed by players or admins you should add a changelog. If your change
does NOT meet this description, remove this section. Be sure to properly
mark your PRs to prevent unnecessary GBP loss. Please note that
maintainers freely reserve the right to remove and add tags should they
deem it appropriate. You can attempt to finagle the system all you want,
but it's best to shoot for clear communication right off the bat. -->
<!-- If you add a name after the ':cl', that name will be used in the
changelog. You must add your CKEY after the CL if your GitHub name
doesn't match. Be sure to properly mark your PRs to prevent unnecessary
GBP loss. Maintainers freely reserve the right to remove and add tags
should they deem it appropriate. -->

:cl:
fix: Fix entering a ghosted xeno not removing ghostize sleep.
/:cl:

<!-- Both :cl:'s are required for the changelog to work! -->

---
## [OrionTheFox/Skyrat-tg](https://github.com/OrionTheFox/Skyrat-tg)@[1c76ea5334...](https://github.com/OrionTheFox/Skyrat-tg/commit/1c76ea533439dcd7fca15a2dd500a44dc6158883)
#### Monday 2022-12-26 08:16:37 by SkyratBot

[MIRROR] Changes our map_format to SIDE_MAP [MDB IGNORE] (#18070)

* Changes our map_format to SIDE_MAP (#70162)

## About The Pull Request

This does nothing currently, but will allow me to test for layering
issues on LIVE, rather then in just wallening.
Oh also I'm packaging in a fix to one of my macros that I wrote wrong,
as a joke

[removes SEE_BLACKNESS usage, because we actually cannot use it
effectively](https://github.com/tgstation/tgstation/pull/70162/commits/c9a19dd7cce95038340ebd5c1a6e4cb27ee7c9ee)

[c9a19dd](https://github.com/tgstation/tgstation/pull/70162/commits/c9a19dd7cce95038340ebd5c1a6e4cb27ee7c9ee)

Sidemap removes the ability to control it on a plane, so it basically
just means there's an uncontrollable black slate even if you have other
toggles set.

This just like, removes that, since it's silly

[fixes weird layering on solars and ai portraits. Pixel y was casuing
things to render below who
shouldn't](https://github.com/tgstation/tgstation/pull/70162/commits/3885b9d9ed634cdc4c8041b19df5b5ea9a1a37ae)

[3885b9d](https://github.com/tgstation/tgstation/pull/70162/commits/3885b9d9ed634cdc4c8041b19df5b5ea9a1a37ae)

[Fixes flicker
issues](https://github.com/tgstation/tgstation/pull/70162/commits/2defc0ad20a0ee7d12e0b071f6d31b6127b8765d)

[2defc0a](https://github.com/tgstation/tgstation/pull/70162/commits/2defc0ad20a0ee7d12e0b071f6d31b6127b8765d)

Offsetting the vis_contents'd objects down physically, and then up
visually resolves the confliciting that was going on between the text
and its display.

This resolves the existing reported flickering issues

[fixes plated food not appearing in
world](https://github.com/tgstation/tgstation/pull/70162/commits/28a34c64f830660d7fb1cc669b9fc3ed9f5c7d61)

[28a34c6](https://github.com/tgstation/tgstation/pull/70162/commits/28a34c64f830660d7fb1cc669b9fc3ed9f5c7d61)

pixel_y'd vis_contents strikes again. It's a tad hacky but we'll just
use pixel_z for this

[Adds wall and upper wall plane
masters](https://github.com/tgstation/tgstation/pull/70162/commits/89fe2b4eb40edc36879e4e1954dee8616be94522)

[89fe2b4](https://github.com/tgstation/tgstation/pull/70162/commits/89fe2b4eb40edc36879e4e1954dee8616be94522)

We use these + the floor and space planes to build a mask of all the
visible turfs.
Then we take that, stick it in a plane master, and mask the emissive
plane with it.

This solves the lighting fulldark screen object getting cut by emissives
Shifts some planes around to match this new layering. Also ensures we
only shift fullscreen objects if they don't object to it.

[compresses plane master
controllers](https://github.com/tgstation/tgstation/pull/70162/commits/bd64cc196a4265d42809eebbd1afa46fa33a576d)

[bd64cc1](https://github.com/tgstation/tgstation/pull/70162/commits/bd64cc196a4265d42809eebbd1afa46fa33a576d)

we don't use them for much rn, but we might in future so I'm keeping it
as a convienince thing

:cl:
refactor: The logic of how we well, render things has changed. Make an
issue report if anything looks funky, particularly layers. PLEASE USE
YOUR EYES
/:cl:

Co-authored-by: Mothblocks <35135081+Mothblocks@ users.noreply.github.com>

* Changes our map_format to SIDE_MAP

* Modular!

Co-authored-by: LemonInTheDark <58055496+LemonInTheDark@users.noreply.github.com>
Co-authored-by: Mothblocks <35135081+Mothblocks@ users.noreply.github.com>
Co-authored-by: Funce <funce.973@gmail.com>

---
## [AstreaTSS/interactions-py-library](https://github.com/AstreaTSS/interactions-py-library)@[e527a7d034...](https://github.com/AstreaTSS/interactions-py-library/commit/e527a7d034f93781d2739a380a1c87c089fdf572)
#### Monday 2022-12-26 08:28:07 by EdVraz

feat(channel): Add new overwrite helper methods (#1173)

* fix: edge case

* refactor: move import

* guys I don't recommend coding when you're sick

* do stuff

* omg what the fuck did i code yesterday

* fix: simplify code

* feat: add another helper method

* Update channel.py

---
## [Empire-Strikes-Back/Kid](https://github.com/Empire-Strikes-Back/Kid)@[8d661ab483...](https://github.com/Empire-Strikes-Back/Kid/commit/8d661ab4834c10844c0afe550364f8af922bc0dd)
#### Monday 2022-12-26 08:40:21 by Kid

James, for one view that we have left

unlike James harden I don't want to be heavy

like Rich Roll befire he was dead of human concerns I want to be light and apply vegan plus fish advantage

I follow Jesus - I know about rich, possessions and perfect, calling 12, Great Banquet, sow reap store

let my name be Kid - Thurman Merman
let me take Fennec's place in brothers only garden
like Richard and James and Jeremy honestly dont know who will come first - I dont yet know who I will be
but i will be a program

:Jeremy-Clarkson are you now a mental

---
## [BakaKaito/MergeBot.NET](https://github.com/BakaKaito/MergeBot.NET)@[45f33907f1...](https://github.com/BakaKaito/MergeBot.NET/commit/45f33907f148021d7f17f0d11f7af50ce4639708)
#### Monday 2022-12-26 08:47:07 by Koi

Mr. Mime is a thing, unfortunately.
Mild clean, some more Cherish set handling attempts.
Exclude set MetDate from mystery gifts.
Fix daycare enum parsing.
Check for no result in case $qc was used or some other weird thing happens.
Remove FixOT and TradeCord as routine types (FlexTrade handles both).
Try to apply trainer info for Mystery gifts.
Re-add fixed met date if not GO origin.
Update DenBot distribution data, minor fixes.
Fix Yamask-Galar in daycare, some more oopsies.
-Add DenBot - a seed lookup and day skipper bot for raids.
-Change AutoRoll's behavior to make use of some of DenBot's functionality.
Minor clean.
Revise TradeCord "traded" check, remove potential user path straggler entries because paranoia, some minor fixes.
TradeCord fixes (shocker, I know).
Extract Json serializer.
Minor clean and fixes.
Minor fixes.
Fix Milcery when an Alcremie variant is a parent.
Update to latest Core and ALM dependencies.
Handle non-shiny events in a better way.
Work around a race condition?
Simplify and de-bugify trade completion check.
Fix indexing, improve chance for Melmetal-Gmax because it's nigh impossible to get.
Rework TradeCord internals, add new functionality:
-Migrate user data from ".txt" files to a serialized Json (migration for a large amount of users will take a few minutes, be patient).
-Make TradeCord configurable, add its own settings category.
-Add some template events with an optional end timer (YYYY/MM/DD 8PM as an example, though any local time format should work).
-Add barebones Pokedex (counter, flavor text).
-Can check dex completion by typing `$dex`, check missing entries by typing `$dex missing`.
-Completing the Pokedex will slightly improve shiny rate.
-Can now mass release cherish event Pokemon and shinies ($massrelease shiny/cherish).
-Various tweaks, improvements, and bugfixes.

Slightly change FixOT's behavior:
-If a shown Pokemon is illegal and an event, attempt to find a match within the MGDB first.
-Try to force users to trade away the shown Pokemon, log attempt to change shown Pokemon.
Add consideration for easter eggs being enabled in settings, fix Suicune
Change species rng for TradeCord, some bugfixes (I really need to rewrite this mess)
Add check if we're using ListUtil for Giveaway instead of TradeCord.
Amend commit since I'm squashing and force-pushing while bringing the fork in line with the main branch
Add Giveaway module to Discord bot (#22)

Thanks, rigrassm.
Co-authored-by: Koi-3088 <61223145+Koi-3088@users.noreply.github.com>
Specify USB port instead of adding the first result (can be found via Device Manager).
Re-add boolean check because we don't want to fix everything
FixOT will attempt to regenerate illegal Pokémon.
Apply trash bytes for reasons.
Minor TradeCord fixes and adjustments.
Minor clean for C#9
Use "GetValidPreEvolutions()" instead of "GetPreEvolutions()".
Index forms correctly.
Fix the fixed and re-introduced empty daycare index error.
*an* Ultra Ball.
Add EvoTree breeding for TradeCord.
Remove unnecessary value declarations for pinging on encounter match.
Mildly beautify EncounterBot mark output.
Integrate Anubis' system update prevention into Soft Reset and Regigigas Encounter Modes.
Rename "Regi" Encounter Mode to "Soft Reset".
Speed up "A" clicks for Regigigas and Soft Reset modes.
Add Mark logging output for EncounterBot.
Fix oops (re-order logic, remove unnecessary lines).
Add optional species and form specification for $massrelease
Use an obscure string splitter because people like symbols in their names.
Fix things that broke after rebasing to the latest main repo commit.
Use a less unfortunate field name and value splitter...again.
Fix Marowak-Alola always generating as an NPC trade.
Add filters for "$list <species>" to narrow down results.
Fix Cherish Pichu and Octillery
Stop making dumb mistakes, me (implying the rest of it isn't a dumb mistake).
Can't breed antiques.
Use a less unfortunate embed name and value splitter
Add Melmetal-Gmax to TradeCord.
Add ability to search by caught ball.
Have MassRelease ignore events.
Add specific regional form breeding.
Revise egg rate and egg shiny chance.
Have trade evolutions hold an Everstone.
Add an extra right click when navigating to settings for AutoRoll.
Add reworked encounter/egg/fossil logs.
Minor clean.
Minor clean.
Get rid of EncounterBot, FossilBot, EggFetch text logs until I properly rework them.
Break on an empty page due to aggressive rounding
Add multi-page lists for Tradecord.
More random bugfixes.
Fix some bugs before major clean
Add Language parameter for TradeCord.
Change trainer info input format for TradeCord.
Move focus on Showdown set instead of randomizing a pkm file.
Allow user to enter whatever they want for $list, handle edge cases like Kommo-o
Add "$list all" to show non-duplicate caught species.
Automatically remove from favorites if trading or gifting (small QOL thing).
Change how favorites are removed from user file.
Revert base egg shiny chance nerf.
Fix daycare
Add favorites command to TradeCord.
Slightly nerf eggs.
Fix TradeCord list for shinies
Add TradeCord (my dumbest and messiest project so far, Archit pls don't hate the mess).
Add Showdown output for Star/Square shinies and OTGender.
Add optional link code input for FixOT.
Change how OTName, TID, SID is displayed.
Add Regigigas SR bot.
Add SoJ Camp SR bot.
Ribbons now work with EggTrade (remove ribbons if egg).
Remove EggRoll.
Add another filter for FixOT
Fix.. FixOT
Update offsets for EncounterBot catching.
Slightly change StrongSpawn to work with Regi SR and make it its own mode.
Make SpinTrade only available for USB-Botbase
Update valid eggs for CT
winforms: resize icon.ico to fix crash at startup on unix using mono
Rework Spin, read initial in-game coordinates in order to correct drift
Add TID, SID, Language output for Showdown
Remove obsolete OT and Language parsing
Very minor clean until I have time for a proper one.
Detach controller when stopping USB bot.
Actually set LastUsedBall for EncounterBot (missed when bringing in line with main repo)
Move extra RaidBot timings following the official commit
Remove PKHeX Discord invite from Readme.md

Maybe fewer people will pester devs now about my unofficial fork?
Update for latest main repo EncounterBot commits.
Update README.md
Add back best commit: Red's SpinTrade.
Add egg trades, foreign Dittos and OT for Twitch.
If ItemMule is enabled, also display the item a user is receiving.
Add periodic time sync toggle for all methods of hosting (except for non-soft locked AutoRoll) to (hopefully) prevent den rollover during extended hosts.

Add routine to exit a lobby for SoftLock if no players are ready in time (to preserve soft lock).

Add a routine to recover from disbanded lobbies (when someone disconnects unexpectedly) for SoftLock.

Add a routine to restart game if all else fails and we're stuck in a raid.

Add a routine for adding and deleting friends if we're soft locked and raids go empty.

Slightly reorganize settings, extract methods, minor clean.
Don't use such a generic file name for stream assets.
Check USB port index for running bots. Should fix adding additional USB bots when no config is saved.
Add fixed met date for FixOT.
How do I boolean
Change airplane mode logic, tweak timings and routine for soft lock lobby exit
Rework EggRoll cooldown (static list in favor of a txt file).
Start clean up and refactor
Add setting to increase delay after pressing "Home" after a date skip.
Use USB port index for blocking and sprite pngs if connection type is USB
Add option for airplane host (usb-botbase required)
Add option to softlock on selected species for AutoRoll
Add automatic compatibility for all console languages when date skipping (have to set ConsoleLanguage under ScreenDetection)
Attempt to fix multiple USB device add and connect...again
Minor clean
Fix oops?
Handle add/remove of bots
Distinguish between multiple USB devices, tweak BotRemoteControl for USB, other various fixes
Add SpA modifier for foreign Dittos
Add alpha USB-Botbase support
Fix DateTime parsing for European format for EggRoll
Set fixed EggMetDate and MetDate for EggRoll
More FixOT filters
Remove Beheeyem. Oops.
Split EggRoll into its own routine and trade type, only output "Receiving: Mysterious Egg" if routine is EggRoll, other minor tweaks and fixes
Make FixOT its own queue with roles and counts
Add a couple more OTs to $fix
Parsing for EggRaffle auto-clear and $clearcooldown
Adjust timings and split Watt collecting clicks for AutoRoll
Fix oops with file attachments for Ditto
Further improvements for OT, memes for invalid pokemon (disable EasterEggs)
Add spaces, digits for OT
Randomize memes, cut down bloat
Fix miscellaneous bots after Anubis' recent QOL additions
-Ignore events for OT because headache.
-Add overlooked "$convert <generation>" input for OT.
-Move $clearcooldown to SudoModule
-Clear timer automatically if NoTrainerFound
-More reliable Dittos
-Foreign Dittos for $convert
-Command to clear cooldown for EggRaffle in case trade gets disconnected
-Fix "Trade finished" line to keep result secret
-EggRaffle as a toggle, option to specify channels
-Seed Check output to both DMs and Channel (apparently some want it)
-Randomly generated egg raffle via a "$roll" command with a configurable cooldown
-FixAdOT reworked, has its own command "$fix" and no longer overrides $clone
-Ball: <value> output for Showdown sets
-Fix oversight
-Option to output Seed Check results to Discord channel with a User mention
-Showdown set output for OT name and eggs
-Basic "OT: <name>" option without Showdown set output
-Initial $convert support for EggTrade
-Egg moves for EggTrade test attempt
-Minor update
-EggTrade (by nicknaming a Pokémon "Egg" using $trade)
-Failsafe for memes if enabled but field left blank or incomplete
-Niche breedable Ditto trade mode.
Add minimize button
EggFetch text logs
StrongSpawn mode for EncounterBot
Re-add EncounterBot Master Ball catching
More parsing for FixAdOTs
Park Ball as held item instead of string
Actually remove the offset instead of saying I did
Initial DLC commit
Faster code entry
Removed catching for EncounterBot (need a new offset)
CloneBot mode to fix Nickname and OT if adverts detected

---
## [Stalkeros2/Skyrat-tg](https://github.com/Stalkeros2/Skyrat-tg)@[cd13fcdf46...](https://github.com/Stalkeros2/Skyrat-tg/commit/cd13fcdf467b1a9fe5d8fc5256552b0601284dca)
#### Monday 2022-12-26 09:45:54 by Jolly

[MODULAR] contraband.dmi is no longer a hard override on posters (#18106)

* hhngh

* dunks this fucking dmi

* fuck you

---
## [OrionTheFox/Skyrat-tg](https://github.com/OrionTheFox/Skyrat-tg)@[df737af4a0...](https://github.com/OrionTheFox/Skyrat-tg/commit/df737af4a02b18388b293005c340a7a46423236e)
#### Monday 2022-12-26 09:48:03 by SkyratBot

[MIRROR] *hand, or That /One/ Emote You Always Felt Was Missing [MDB IGNORE] (#18200)

* *hand, or That /One/ Emote You Always Felt Was Missing (#71600)

## About The Pull Request
It's happened to me _repeatedly_ that I'd see someone down on the floor,
and wanted to just, give them a hand, so they could take it and get up
that way, without just, directly clicking on them, since that's a little
bland. I've also wanted to just, offer my hand to someone so they could
grab it, so that I could pull them alongside me, rather than just
targeting one of their arms and ctrl-clicking them.

I've had this idea for a _long_ time, and only just decided to do this
today.

Now, I know what you might say. "Golden, that's a lot of code for
something this simple!" You're not wrong. _However_. I decided to go
along and to give some more love to the `/datum/status_effect/offering`
status effect and the offering-related alerts, to make them a lot more
versatile and a lot less hardcoded. Hence the whole "refactoring" part
of this.

Of course, when I add something, I don't do it half-way. So, the way the
emote works is much like the `*slap` emote, except that:

- When you click on someone, it does the exact same as if you were
offering the item to them, except that it's targeted (much like
ctrl-shift-click).
- If there's nobody directly adjacent to you, it won't do anything.
- If there's at least one person lying down around you, you will offer
them your help to get up. Should they take your hand and let you help
them up, you will both receive a simple memory about being helped up (or
helping up), as well as a 45-seconds-long small mood buff, because it
feels nice to be on either end of such a friendly gesture. If they get
up, they automatically get disqualified from being offered some help
standing up, and likewise, if you lie down, that offer goes away as
well.
- If there's at least one person around you, you will instead extend
your hand in their direction, for them to grab onto it. Should they do
so, you will then grab them by their arms and pull them.

I reworked the offering status effect to no longer have a hardcoded
`can_hold_items()` check, so that kisses and the hand offering would no
longer need you to have free hands to complete. The logic here is that
you can still pull someone even with both hands filled, so I figured I'd
leave it this way.

Note: If anyone would like to give the item a better sprite, by all
means, go ahead, that'd be amazing. I'm just not really a great spriter
and couldn't be bothered to waste hours making a very _meh_ hand.

## Why It's Good For The Game
It's fluff, and nice fluff at that. It makes it easier for people to be
nice to one-another without having to necessarily spend so long writing
up an emote that the person on the floor will already have gotten back
up. I'm sure the MRP folks will like it, and I'm certain the HRP
downstreams will love it too ;)

## Changelog

:cl:
add: Added the *hand emote, which you can offer to someone standing up
in order to give them the possibility to grab onto your hand and let you
drag them away, or to someone lying down to help them back up, which
always makes everyone involved a little happier!
refactor: De-hardcoded and genericized a lot of the offering status
effect and alert code, to make it require a lot less copy-paste to
handle new cases.
fix: Offering a kiss no longer requires the receiver to have free hands
to accept said kiss!
/:cl:

* *hand, or That /One/ Emote You Always Felt Was Missing

Co-authored-by: GoldenAlpharex <58045821+GoldenAlpharex@users.noreply.github.com>

---
## [OrionTheFox/Skyrat-tg](https://github.com/OrionTheFox/Skyrat-tg)@[4cce4bcf10...](https://github.com/OrionTheFox/Skyrat-tg/commit/4cce4bcf10aabec33f0652b07034bfe71bfca66a)
#### Monday 2022-12-26 09:48:03 by SkyratBot

[MIRROR] Minor plane cube cleanup [MDB IGNORE] (#18223)

* Minor plane cube cleanup (#72038)

## About The Pull Request

[Fixes area lighting not working on turf change in multiz
cases](https://github.com/tgstation/tgstation/commit/7b92deffbca92a834cb0a361fd685de51a12ea53)

If you modify a area lit turf when using multiz, it'd end up using the
wrong plane for its light, because of stupid shit on my part.
Stupid shit resolved

[Fixes some uses of plane masters that only specified one rather then
all](https://github.com/tgstation/tgstation/commit/a59ec96d29710b967bf8b3ffe8210b230cb194b3)

We almost never only want to show SOME hidden planes.
Should really make a helper for this someday

* Minor plane cube cleanup

Co-authored-by: LemonInTheDark <58055496+LemonInTheDark@users.noreply.github.com>

---
## [Willardstation/tg-voidcrew](https://github.com/Willardstation/tg-voidcrew)@[9440d42a8e...](https://github.com/Willardstation/tg-voidcrew/commit/9440d42a8e1c5f268a614948769c67558e79b98d)
#### Monday 2022-12-26 09:56:38 by MrMelbert

Chaplain armor beacon now uses radial + previews possible armor sets, plus some choice beacon code cleanup. (#71674)

## About The Pull Request

- The chaplain choice beacon now uses a radial to select the armor set,
instead of a list, giving the user a preview of what each looks like.


![image](https://user-images.githubusercontent.com/51863163/205417930-f5ceab11-6974-48a9-a871-abcb8228bcf2.png)

- Lots of additional cleanup to choice beacon code in general. Less copy
pasted code.
- All beacons now speak from the beacon with their message, instead of
some going by "headset message". Soul removed

## Why It's Good For The Game

I always forgot when selecting my armor which looks like what, and
choosing an ugly one is a pain since you only get one choice. This
should help chaplains get the armor they actually want without needing
to check the wiki.

## Changelog

:cl: Melbert
qol: The chaplain's armament beacon now displays a radial instead of a
text list, showing previews of what all the armor sets look like
qol: (Almost) all choice beacons now use a pod to send their item,
instead of just magicking it under your feet
code: Cleaned up some choice beacon code. 
/:cl:

Co-authored-by: Fikou <23585223+Fikou@users.noreply.github.com>

---
## [treckstar/yolo-octo-hipster](https://github.com/treckstar/yolo-octo-hipster)@[4b59173ff4...](https://github.com/treckstar/yolo-octo-hipster/commit/4b59173ff482cf09fc172f01cdc7bcc107784f54)
#### Monday 2022-12-26 10:22:03 by treckstar

Life is one big road with lots of signs. So when you riding through the ruts, don't complicate your mind. Flee from hate, mischief and jealousy. Don't bury your thoughts, put your vision to reality. Wake Up and Live!

---
## [Huffie56/cmss13](https://github.com/Huffie56/cmss13)@[7f1e80ca3d...](https://github.com/Huffie56/cmss13/commit/7f1e80ca3dd4800f54b5ff4dc3663dd1f804c28c)
#### Monday 2022-12-26 10:57:01 by carlarctg

MIDIs are now either 'Meme' or 'Atmospheric', players can toggle each option (#1939)

<!-- Write **BELOW** The Headers and **ABOVE** The comments else it may
not be viewable. -->

# About the pull request

<!-- Remove this text and explain what the purpose of your PR is.

Mention if you have tested your changes. If you changed a map, make sure
you used the mapmerge tool.
If this is an Issue Correction, you can type "Fixes Issue #169420" to
link the PR to the corresponding Issue number #169420.

Remember: something that is self-evident to you might not be to others.
Explain your rationale fully, even if you feel it goes without saying.
-->

Updated savefile number from 19 to 20. Meme and atmospheric preferences
are enabled by default.

Admin sounds now need a selection between 'Meme' or 'Atmospheric' type.
Ideally, this would let players decide if they want to listen to hijack
or first drop songs without needing to listen to GOOD HITS or whatnot.

I am uncertain about the savefile bit of code. I don't fully understand
it.

As stated I don't care about GBP, so if the tags are teechnicallly
incorrect go ahead and change them or whatever.

# Explain why it's good for the game

<!-- Please add a short description of why you think these changes would
benefit the game. If you can't justify it in words, it might not be
worth adding, and may discourage maintainers from reviewing or merging
your PR. This section is not strictly required for (non-controversial)
fix PRs or backend PRs. -->

> Admin sounds now need a selection between 'Meme' or 'Atmospheric'
type. Ideally, this would let players decide if they want to listen to
hijack or first drop songs without needing to listen to GOOD HITS or
whatnot.

As it says. Lots of people hate the memes and just want to listen to the
cool atmosphere. This is of course dependant on staff selecting the
right option, which is sometimes up to opinion, but I fully trust staff
will be able to handle this subjective affair correctly.

# Testing Photographs and Procedure
<!-- Include any screenshots/videos/debugging steps of the modified code
functioning successfully, ideally including edge cases. -->
<details>
<summary>Screenshots & Videos</summary>

Put screenshots and videos here with an empty line between the
screenshots and the `<details>` tags.

</details>


# Changelog

<!-- If your PR modifies aspects of the game that can be concretely
observed by players or admins you should add a changelog. If your change
does NOT meet this description, remove this section. Be sure to properly
mark your PRs to prevent unnecessary GBP loss. Please note that
maintainers freely reserve the right to remove and add tags should they
deem it appropriate. You can attempt to finagle the system all you want,
but it's best to shoot for clear communication right off the bat. -->
<!-- If you add a name after the ':cl', that name will be used in the
changelog. You must add your CKEY after the CL if your GitHub name
doesn't match. Be sure to properly mark your PRs to prevent unnecessary
GBP loss. Maintainers freely reserve the right to remove and add tags
should they deem it appropriate. -->

:cl:
refactor: Updated savefile number from 18 to 19. Meme and atmospheric
preferences are enabled by default.
admin: Admin sounds now need a selection between 'Meme' or 'Atmospheric'
type. Ideally, this would let players decide if they want to listen to
hijack or first drop songs without needing to listen to GOOD HITS or
whatnot.
/:cl:

<!-- Both :cl:'s are required for the changelog to work! -->

Co-authored-by: Stan_Albatross <66756236+stanalbatross@users.noreply.github.com>

---
## [FelixSiegel/J-I-B](https://github.com/FelixSiegel/J-I-B)@[0fa4aa72f5...](https://github.com/FelixSiegel/J-I-B/commit/0fa4aa72f5a80fa0b4886fe5eb75eae319ec7543)
#### Monday 2022-12-26 11:12:17 by jumpie700

hate my life why are the ignored ones in the list?

---
## [himansh-u/python-programs](https://github.com/himansh-u/python-programs)@[6f8966c224...](https://github.com/himansh-u/python-programs/commit/6f8966c2240a810485be05d036cd1d81cb5c9fea)
#### Monday 2022-12-26 11:39:25 by Himanshu Verma

Create purecapitalist.py

this aint doin nothin just made it for the facts like
ate samosa 
singpore's chocolate
did some lulu rides
beating jay z and all dat
being happy and just livin the real artistic life with intellectualism and coolness
talking to my loves, some socializing 
bought the fucking pass to the 2 parties, danced a fucking lot
getting more attached to the reality as it the best when we celebrate
ate pav bhaji yesterday 
still nigga life is great.

---
## [Verkister/CHOMPStation2](https://github.com/Verkister/CHOMPStation2)@[6e9904c81f...](https://github.com/Verkister/CHOMPStation2/commit/6e9904c81f5ec6359e9cd5a66a5269429f4352a1)
#### Monday 2022-12-26 12:10:08 by Verkister

Unlocks the trash eater...
The restrictions were added to prevent gamers using bellies for unga gear storage. It would be pretty damn silly for someone to use a big fucking bird for that lol

---
## [Medacorp/Luigi-s-Mansion](https://github.com/Medacorp/Luigi-s-Mansion)@[20f6100019...](https://github.com/Medacorp/Luigi-s-Mansion/commit/20f61000196ecbec866a83a0d9998a48cc1d1074)
#### Monday 2022-12-26 12:52:56 by Dhranios

Broke damage taking

For those actually reading this:
The system to damage players is rewritten to be more use-friendly. It no longer considers normal damage as part of taken damage at all. It got more streamlined where some variables are provided (amount, knockback type, attacker and method), and everything is handled automatically. The ghost no longer says "run this knockback function, deal this damage", but rather "here's my variables, player, you do the rest". Method specifically will allow me to add custom death messages.

Entity models variants are now saved on the entity, rather than hardcoded. This same change also fixes ghosts losing loot data on model change (including turning invisible/visible). Portrait ghosts turning (in)visible is now simplified and a centeralized ghost function as well.

Added entity variables to no-health ghosts (fixing gold mice money).
Added non-portrait ghost variable for training room score (only used by extensive training add-on, but functionality is part of base map).
Added non-boo health-ghost variable (both mansion data and override) for vanish time (how many ticks of doing nothing but haunting before it vanishes).
Added ghost variables (both mansion data and override) for damage dealt (attack and collision). Only a few damage values remain hardcoded (non-ghost sources + bowser).
Banana peels, shot fire/water/ice/needle and ice spikes created by ghosts now remember their owner.
Fixed some UV mapping issues
Renamed most of the money spawned entries to more descriptive names
Fixed room clear chests don't upgrade correctly to be pre-opened if contents were already spawned before updating

---
## [clemenscodes/capitaltracker](https://github.com/clemenscodes/capitaltracker)@[31893b004c...](https://github.com/clemenscodes/capitaltracker/commit/31893b004c014b63e4aa94a61a22b45de72dcd24)
#### Monday 2022-12-26 13:48:02 by Clemens Horn

fuck you

Signed-off-by: Clemens Horn <clemens.horn@mni.thm.de>

---
## [Evie7056/sojourn-station](https://github.com/Evie7056/sojourn-station)@[8620d970b0...](https://github.com/Evie7056/sojourn-station/commit/8620d970b0aaa8d632e83a4dcc35547826f555df)
#### Monday 2022-12-26 15:56:37 by DimmaDunk

Shields, sounds, holsters and more (#4169)

* Shields, sounds, holsters and more

- Better sound for blocking with shields, also sounds for stopping projectiles with them (and breaking)
- Ports the double belt pistol holder (pouch) and throwing knives rig (pouch) from Eris. With belt-worn sprites made by me.
- Adds the belt pistol holster and knife rig to the marshal vendors and absolutist printing disk
- Ports the Bulldozer shield from Eris, tweaks its recipe to include an actual closet
- Makes suit sensors spike in danger if someone's toxloss is at 70 or higher, since that is the point of liver failure
- On the same note, reduces the amount of organ damage from MSOF as it was too punishing, allowing for a better window of opportunity to save someone from dying
- Makes deployable barriers needed to be anchored to be able to brace your gun on it
- Adds most types of holsters to marshals vendors, ups their quantity
- Soteria Gauze and Ointment buffed on par with Church ones, to justify their convoluted hand-crafting method
- Makeshift AK and Luty added to random handmade guns to spawn
- Rangers get the double holster instead of the single one
- Adds a generic katana to loadout for four points
- Adds better sounds for the following emotes: male and female *sigh, *whistle (more variety), female *urah
- Adds snort and awhistle (targeted) emotes
- Makes a lot of audible emotes actually check if you're muzzled instead of magically being executed despite mouth coverage
- Adds some of the missing emotes to the *help list
- Adds hissing, meowing, and purring sound for cats, they will hiss at any ghosts they detect now!
- Fixes Mana from Heaven invisible sprite
- Claw and Baton energy drinks added overdose that causes organ damage at 60 units consumed
- Fixes incorrect Claw RED and BLUE sprites
- Claw Blue made actually made tastier
- Case Closer baton now contains atomic coffee instead of espresso (Marshal buff)
- Hay Fever claw energy improved citric formula
- Attempts to port Shields blocking projectiles functionality from Eris, but fails miserably (Tested not to work, but leaving the groundwork just in case)

* Nerfs liver failure damage even further

Random number 2 to 6 damage per tick

* Adds *zartan emote

Whistling of "For he's a jolly good fellow", GI Joe reference.

* Armor pen fix

Certain powered hammers were not properly inheriting armor pen somehow

* Preppers fairness

- Removes Sentinel Seeker from the random prepper mob spawn list
- Makes Sentinel Seeker a low spawner on par with Renders and nightmare stalkers as it shares similar stats with them
- Replaces certain prepper mob spawns with various low-chance Sentinel Seeker spawns on areas of high loot concentration (mech bays, prepper armory, near the excelsior disks, etc)
- Removes a trap spawner on the same room as Outsider spawn, as it can sometimes be a mine impossible to traverse on the only exit way
- Replaces hardspawn of Sentinel Seeker in Preppers medbay with a low chance for one, compensates by adding two more ranged mobs to the area

* Louder emotes

- Some female emotes were too low
- Typo fixes on bear rawr proc

* Apply suggestions from code review

This is a BYOND joke

Co-authored-by: Trilbyspaceclone <30435998+Trilbyspaceclone@users.noreply.github.com>

---
## [voc/jev22_schedule](https://github.com/voc/jev22_schedule)@[a093bd8084...](https://github.com/voc/jev22_schedule/commit/a093bd80844526c640b3c2bc9b135255cff459fe)
#### Monday 2022-12-26 18:00:13 by viri

version 2022-12-26 19:00; FireShonks 0.28; Reconnect To Chaos! 2.1; Hellarious: Hacking in Hell 0.4 final; Curious Community Labs Chaos Experience 0.1.3; xrelog22: Independent Multiverses 1.6; Wintergalaktische Club Mate Party 0.5; ChilyConChaos 2022-12-26 19:00; Winterchaos 0.2; Hacking in Parallel 0.10; Forum für Freiräume - Gib Uns Mehr! 0.37; End-of-Year event 0.1; DWeb NY Pre-kickoff + RemoteCCC @ Woodbine 0.1

---
## [voc/jev22_schedule](https://github.com/voc/jev22_schedule)@[cd0deea6c9...](https://github.com/voc/jev22_schedule/commit/cd0deea6c97c863940f45f8d4315d210d55c07d4)
#### Monday 2022-12-26 18:40:14 by viri

version 2022-12-26 19:40; FireShonks 0.28; Reconnect To Chaos! 2.1; Hellarious: Hacking in Hell 0.4 final; Curious Community Labs Chaos Experience 0.1.3; xrelog22: Independent Multiverses 1.6; Wintergalaktische Club Mate Party 0.5; ChilyConChaos 2022-12-26 19:40; Winterchaos 0.2; Hacking in Parallel 0.10; Forum für Freiräume - Gib Uns Mehr! 0.37; End-of-Year event 0.1; DWeb NY Pre-kickoff + RemoteCCC @ Woodbine 0.1

---
## [dragomagol/tgstation](https://github.com/dragomagol/tgstation)@[cf02f62298...](https://github.com/dragomagol/tgstation/commit/cf02f622986932af8fb09e48cbdf5ec0ac567cf5)
#### Monday 2022-12-26 18:40:21 by LemonInTheDark

useless update_appearance reduction, emissive_blocker micro optimization (saves a second of init) (#71658)

## About The Pull Request

[Saves 0.2 seconds of init time. 50% of emissive
blockers](https://github.com/tgstation/tgstation/commit/8318b648f6d32844aacbfb4c309152cd45801f5c)

Emissive blockers are a decent expense during init, even these, which
are the ones that update outside of initialize.
I've inlined them, removed some redundant vars and checks, reduced the
arg count, and shifted some things around. This ends up saving 200ms, or
50% of its total cost.

I also shifted mutable_appearance about a bit. it's not a massive
saving, but it is technically faster

[Prevents a few redundant appearance_updates, saves 0.8 seconds of
init](https://github.com/tgstation/tgstation/commit/5475cd778b66b22b1e2c8d86b2c6d59fb84f219a)

Prequisit info: update_appearance is decently expensive
It's good then to only do it if we have a reason to, right?

Me and moth were shooting the shit about just general init time, and we
came up with the idea of tracking which update_appearances actually
"worked" and which didn't.

That bit comes later, let's enjoy the fruits of that work first

First, holograms were calling update_appearance on process, for almost
no reason.
I patched the one event they don't already "react" to, and then locked
it behind a change decection if.
good for live, doesn't impact init.

Next, decals. If you add a decal to something before it inits, it'll
react to the after successful init signal.
The trouble is the same atom could have its appearance updated from this
MORE then once, since decals can be stacked on tiles, and signal
unregisters don't work once the signal is sent.
So we add a flag to track if we've had this happen to us or not, so it
only happens once.
saves 80 ms

Power! lots of things call power_change on init, often more then once.
We'll update appearance for each of those calls, even if only one is an
actual change.
That's silly, better to track what sort of power we're using for our
appearance and go off that changing

This was taking about 300ms. Really stupid

Icon smoothing. After emissive blockers were added, any change to
something's icon smoothing would lead to an update_appearance call.
Nasty shit, specially cause of walls, which don't even use emissive
blockers.
Ok then, so we'll always update appearance for movables, and will allow
turfs that are interested to hook it manually.
Not many of those anyhow
This is slightly a dev ux thing, but it saves 600ms so I think it's
worth it. Rare case anyway

Telecomms:
telecomm machines were updating appearance on process. This is to cover
for them turning on/off on process.
Better then to just check if on actually changed.
This cost adds up midgame, doesn't impact init tho

Materials:
There's this update_appearance call in material on_apply. it doesn't do
anything.
The logs will lie to you and say it does, but it's just like reapplying
emissives. It doesn't need to exist
Saves like 50ms

Canisters:
Live thing, lots of time wasted updating appearance for no reason, lets
see if we change anything first yes?

[Uses defines to wrap update_appearance for
tracking](https://github.com/tgstation/tgstation/commit/4fa82e1c9d93577aadb3c743f17196331f62e67c)

[Undoes _update_appearance changes, instead reccomends 2 regexes to
use](https://github.com/tgstation/tgstation/commit/a8c8fec57a4e43d1fa636b5ac68459903faa9fc5)

I need file and line number for my tracking, so I need to override
update_appearance calls, and also preferably not require every override
of update_appearance to handle dummy file + line args.

So instead, I created a wrapper proc that checks to see if appearanaces
match (they're unique remember, the two of the same visual appearance
will be equivalent)
The trouble is I can't intercept JUST proc calls, or JUST function
definitions with defines. it needs to be both.

So I renamed the /update_appearance proc to /_update_appearance

this way I can capture old uses, and don't need to worry about merge/dev
brain skew

~~It does mean that all update_appearance proc definitions now look
weird tho.
My profiling is leaking into dev ux. I wish I had better templating.~~

**The above is no longer being pr'd**, it's instead just recommended via
a few regexes adjacent to the define.
Smelled wrong anyhow

[Adds a setter for panel_open, so I can update_appearance on
it](https://github.com/tgstation/tgstation/pull/71658/commits/cf1df8a69fc1a816391d085ee7419b14f9fe9167)

## Why It's Good For The Game

Speed

---
## [dragomagol/tgstation](https://github.com/dragomagol/tgstation)@[176f7a0e42...](https://github.com/dragomagol/tgstation/commit/176f7a0e422b8417456e1ab65fa59e7ee88a16c5)
#### Monday 2022-12-26 18:40:21 by san7890

Traitor UI only shows Unlock/Failsafe Code if you have it (#72114)

## About The Pull Request

There are cases in which you don't have an unlock code (if the uplink is
implanted in you from the start) and you obviously don't always start
with with a failsafe code (need to buy it). So, let's only fill in this
fields in the UI should they exist.

There might be something to be said about wanting to ensure that people
remember that they can check this UI screen to find the failsafe code
should they lose it later, and I wouldn't mind changing the string to be
something like "Failsafe: None" in that case. However, I just think that
keeping it as:

```txt
Code:
Failsafe:
```

is silly and should be changed somehow.
## Why It's Good For The Game


![image](https://user-images.githubusercontent.com/34697715/208604758-d7ff3ae9-e552-4dd2-998d-81715cd06ffc.png)

Note: That white box isn't part of the UI, that's a part of the edit I
did to the screenshot in the area where the stuff... isn't? What was i
thinking

I think the UI looks a lot cleaner for those cases when you just don't
have anything.
## Changelog
:cl:
qol: The Traitor's Antagonist Panel's Unlock and Failsafe entries will
only appear if there is an Unlock/Failsafe Code to display.
/:cl:

---
## [voc/jev22_schedule](https://github.com/voc/jev22_schedule)@[cc92021691...](https://github.com/voc/jev22_schedule/commit/cc92021691d6dfc250752aa12a9d95d3d2bd430a)
#### Monday 2022-12-26 19:00:14 by viri

version 2022-12-26 20:00; FireShonks 0.28; Reconnect To Chaos! 2.1; Hellarious: Hacking in Hell 0.4 final; Curious Community Labs Chaos Experience 0.1.3; xrelog22: Independent Multiverses 1.6; Wintergalaktische Club Mate Party 0.5; ChilyConChaos 2022-12-26 20:00; Winterchaos 0.2; Hacking in Parallel 0.10; Forum für Freiräume - Gib Uns Mehr! 0.37; End-of-Year event 0.1; DWeb NY Pre-kickoff + RemoteCCC @ Woodbine 0.1

---
## [Rah-Jose-Israel/Philosophy-of-This_Project](https://github.com/Rah-Jose-Israel/Philosophy-of-This_Project)@[866509afcb...](https://github.com/Rah-Jose-Israel/Philosophy-of-This_Project/commit/866509afcb2f4da0d01976575cfd5106a8bed7c7)
#### Monday 2022-12-26 19:08:56 by Rah-Jose-Israel

Enter A new grad With literally no idea what the shit to do with his life.
So this means just we do something, This is that something.
post Q2

---
## [voc/jev22_schedule](https://github.com/voc/jev22_schedule)@[b76b16ef2c...](https://github.com/voc/jev22_schedule/commit/b76b16ef2cfa2e5774b5baa514973decd2630c6c)
#### Monday 2022-12-26 19:20:16 by viri

version 2022-12-26 20:20; FireShonks 0.29; Reconnect To Chaos! 2.1; Hellarious: Hacking in Hell 0.4 final; Curious Community Labs Chaos Experience 0.1.3; xrelog22: Independent Multiverses 1.6; Wintergalaktische Club Mate Party 0.5; ChilyConChaos 2022-12-26 20:20; Winterchaos 0.2; Hacking in Parallel 0.10; Forum für Freiräume - Gib Uns Mehr! 0.37; End-of-Year event 0.1; DWeb NY Pre-kickoff + RemoteCCC @ Woodbine 0.1

---
## [rust-lang-ci/rust](https://github.com/rust-lang-ci/rust)@[65a3ba2408...](https://github.com/rust-lang-ci/rust/commit/65a3ba24089752ff8febf5794f60d05bd8af3686)
#### Monday 2022-12-26 19:24:10 by bors

Auto merge of #105114 - saethlin:mir-opt-ub-asserts, r=<try>

Tweak assert_unsafe_precondition helpers so they optimize well in MIR

It turns out that https://github.com/rust-lang/rust/pull/104121 does not actually achieve what `@Lokathor` wanted, when debug assertions are enabled. In my opinion there are really multiple issues here, this PR addresses all of them:

The implementation of `is_aligned_and_not_null` is compiled to a shocking amount of MIR, because the implementation of `ptr::is_null` is contorted to work in `const fn`, and the implementation of `ptr::is_aligned` is based on `ptr::is_aligned_to` which among other things has a check that the alignment is a power of 2. These of course clean up quite nicely in LLVM... but the goal here is to enable inlining _before_ we get to LLVM.

Then some of the helper functions aren't `#[inline]`. The MIR inliner only inlines `#[inline]` functions at `-Zmir-opt-level=2`, which is what `--release` corresponds to. Whether or not that heuristic should be loosened up, these are good candidates for inlining so I don't see any harm in adding the attribute.

Then the MIR inlining cost estimation seems a bit pessimistic to me. The MIR we generate tends to have a lot of assignments from locals to locals. By eye it looks like a lot of these could be erased by another optimization pass, so I don't think they represent nearly the complexity of any other instruction. For now, this excludes them from cost estimation entirely.

I also removed the extra function call penalty from diverging call terminators. My logic there is that a diverging terminator is often a panic path, and those sometimes (and especially in this case) have a predicate which can be statically reasoned about. There is a fair chance that inlining a function with a diverging terminator will result in optimizing away the divergence entirely, or making other optimizations after the diverging path, based on assume its predicate. (I'm aware that currently MIR opt is not very good at this sort of cleanup, so this is somewhat of a gamble)

(I hope this looks good in perf...)

r? `@cjgillot`
cc `@JakobDegen`

---
## [voc/jev22_schedule](https://github.com/voc/jev22_schedule)@[c4b00eda22...](https://github.com/voc/jev22_schedule/commit/c4b00eda228a84adebcd50901c04077f5ff61906)
#### Monday 2022-12-26 19:40:13 by viri

version 2022-12-26 20:40; FireShonks 0.29; Reconnect To Chaos! 2.1; Hellarious: Hacking in Hell 0.4 final; Curious Community Labs Chaos Experience 0.1.3; xrelog22: Independent Multiverses 1.7; Wintergalaktische Club Mate Party 0.5; ChilyConChaos 2022-12-26 20:40; Winterchaos 0.2; Hacking in Parallel 0.10; Forum für Freiräume - Gib Uns Mehr! 0.37; End-of-Year event 0.1; DWeb NY Pre-kickoff + RemoteCCC @ Woodbine 0.1

---
## [BlueMemesauce/tgstation](https://github.com/BlueMemesauce/tgstation)@[0747099063...](https://github.com/BlueMemesauce/tgstation/commit/074709906301e3e396179c861ca0af068c3f36ec)
#### Monday 2022-12-26 19:44:34 by RikuTheKiller

Adds a reagent injector component and BCI manipulators to all circuit labs (#71236)

<!-- Write **BELOW** The Headers and **ABOVE** The comments else it may
not be viewable. -->
<!-- You can view Contributing.MD for a detailed description of the pull
request process. -->

## About The Pull Request

This PR adds a reagent injector component that's exclusive to BCIs.
(Requested to be integrated into BCIs by Mothblocks.)
When outside of a circuit, the component itself stores the reagents.
However, if it's inside of a BCI, the storage is moved to the BCI. The
storage can contain up to 15u of reagents and acts like an open
container. (However, it won't spill even if you throw it, it just acts
like an open container code-wise, don't worry about it.)
You can only have one reagent injector in a circuit. Trying to insert
multiple will give you an error message.
The entire dose is administered at once. (Requirement set by
Mothblocks.)

Please don't try to dispute any of the specific limitations in the
comments as they're out of my control. They're reasonable anyways.

Reagent Injector Input/Output:
Inject (Input Signal) - Administers all reagents currently stored inside
of the BCI into the user.
Injected (Output Signal) - Triggered when reagents are injected. Not
triggered if the reagent storage is empty.

New BCI Input:
Show Charge Meter (Number) - Toggles showing the charge meter action.
(Adds some capacity for stealth.)

Install Detector Outputs: (Added following a comment about having to use
weird workarounds for proper loops.)
Current State (Number) - Outputs 1 if the BCI is implanted and 0 if it's
not.
Installed (Signal) - Triggered when the BCI is implanted into it's user.
Removed (Signal) - Triggered when the BCI is removed from it's user.

This PR also adds BCI manipulation chambers to all currently present
circuit labs. (Solution proposed by Mothblocks.)
Yes I had to do some other mapping changes to allow for this. No I don't
have any mapping experience, why do you ask?

<!-- Describe The Pull Request. Please be sure every change is
documented or this can delay review and even discourage maintainers from
merging your PR! -->

## Why It's Good For The Game

One small step for BCIs, one giant leap for circuit kind. (First
"proper" circuit to human interaction in the entire game!)

This allows for some funky stuff and also makes it less of a pain in the
ass to use BCIs. What's not to love?

<!-- Argue for the merits of your changes and how they benefit the game,
especially if they are controversial and/or far reaching. If you can't
actually explain WHY what you are doing will improve the game, then it
probably isn't good for the game in the first place. -->

## Changelog

<!-- If your PR modifies aspects of the game that can be concretely
observed by players or admins you should add a changelog. If your change
does NOT meet this description, remove this section. Be sure to properly
mark your PRs to prevent unnecessary GBP loss. You can read up on GBP
and it's effects on PRs in the tgstation guides for contributors. Please
note that maintainers freely reserve the right to remove and add tags
should they deem it appropriate. You can attempt to finagle the system
all you want, but it's best to shoot for clear communication right off
the bat. -->

:cl:
add: Added a reagent injector component and BCI manipulators to all
circuit labs. (+ install detector component)
/:cl:

<!-- Both :cl:'s are required for the changelog to work! You can put
your name to the right of the first :cl: if you want to overwrite your
GitHub username as author ingame. -->
<!-- You can use multiple of the same prefix (they're only used for the
icon ingame) and delete the unneeded ones. Despite some of the tags,
changelogs should generally represent how a player might be affected by
the changes rather than a summary of the PR's contents. -->

Co-authored-by: Mothblocks <35135081+Mothblocks@users.noreply.github.com>

---
## [BlueMemesauce/tgstation](https://github.com/BlueMemesauce/tgstation)@[bf582cb833...](https://github.com/BlueMemesauce/tgstation/commit/bf582cb833d89b7121b4fefa37e8da1773783245)
#### Monday 2022-12-26 19:44:34 by Profakos

Trophy case update (#71015)

## About The Pull Request

I have been chipping away/procrastinating at this since May, but after
several years, I have finally updated how Trophy Cases work.

So, what this PR does is the following:

- Standardized everything in persistence.dm to use snake case, and added
basic autodocs
- Automatically moves trophies from data/npc_saves/TrophyItems.json to
data/trophy_items.json. Removed legacy .sav conversion by request, it
has been a long time.
- Trophy cases are opened and loaded the same way you would open a
regular ID locked display case (used curator access, relevant access
autodoc has been updated)
- Instead of cheap plastic replicas that turn to dust anyways, trophy
cases use holograms, which can be dispelled by hand
- Trophy data gets saved if an item stays in the trophy case when the
shuttle arrives to centcom, and the item has a description set. This is
in line with paintings, which has to still hang on the wall at round
end.
- You can edit the description of new trophies by using the librarian's
key to unlock History Mode
- When you click on a closed trophy case, it will open a tgui, and will
not display the case description. It will still do for open cases.
Vendatrays have been updated to do the same.
- The UI's icon uses icon2base64(getFlatIcon(showpiece, no_anim=TRUE)).
Vendatrays have been updated similarly, so items with directions and
animations are displayed properly. The base64 strings are updated in
update_static_data.
- Fixes vendatrays from displaying some characters in strange ways, such
as displaying /improper.
- Renames some one letter, or nonindicate argument and var names in
trophy case code
- Adds a trophy management admin panel, where admins can finally delete
all the curator ID cards swallowed over the years. Or, they can replace
the paths with funny new paths.
- If an entry has an incorrect, no longer existing path, it will be
marked red in the management panel
- Adds MAX_PLAQUE_LEN define, which 144 characters
- Removes start_showpieces from trophy cases, as it was completely
unused. The start_showpiece_type var is still around.
- Moves trophy_message var to trophy cases. Only a dice collector
display case used them in the Snowdin map.

What this PR does not do

- Sadly, it still only saves the base image of an item, and no layers or
altered image states. This has to come in the future.

<details>
<summary>Click here to see various states of the trophy tgUI</summary>
 

![kép](https://user-images.githubusercontent.com/2676196/199545412-e5b7e7a8-59fb-41e6-aca5-6b07ba33501c.png)
Locked history mode, existing item.


![kép](https://user-images.githubusercontent.com/2676196/199545574-9e705603-9b7a-457d-9575-2d4145ad940d.png)
Unlocked history mode, but holographic trophy is present.


![kép](https://user-images.githubusercontent.com/2676196/199545883-45c3916b-011f-462a-8296-6eb13db32158.png)
Locked history mode, no item.


![kép](https://user-images.githubusercontent.com/2676196/199545967-a33e2501-aa5f-473b-b79f-ebd950df2afc.png)
Unlocked history mode, no item.


![kép](https://user-images.githubusercontent.com/2676196/199546100-718bd639-3199-4df7-ad77-ed3dbf27b290.png)
Unlocked history mode, item placed, default text. (Note: this picture is
out of date. The typo has been fixed, and "record a message" is now
"record a description" for consistency)
 

![kép](https://user-images.githubusercontent.com/2676196/199546202-5ebbbd28-907c-4f2d-b7cd-29d2ef21c7f3.png)
Unlocked history mode, item placed, new text.

</details>

<details>
<summary>Click here to see the admin panel</summary>


![kép](https://user-images.githubusercontent.com/2676196/199553349-8684f23f-4699-42f2-a27e-15cccad29d0b.png)


</details>

## Why It's Good For The Game

Less curator ID's stuck in the Trophy Cases, and the existing ones can
be cleaned up. A more immersive Trophy Case user experience, in general.

## Changelog


:cl:
refactor: refactored trophy cases, to be more user friendly
admin: created a trophy managment admin panel
/:cl:

---
## [BlueMemesauce/tgstation](https://github.com/BlueMemesauce/tgstation)@[c1f0141967...](https://github.com/BlueMemesauce/tgstation/commit/c1f01419671ad084a6c048ec7900d008de53bfe2)
#### Monday 2022-12-26 19:44:34 by LemonInTheDark

Fixes mineral turfs having weird lighting (#71219)

## About The Pull Request

Pixel offsets, unlike transforms, offset overlays too. this was breaking
lighting overlays for mineral walls.

We did pixel offsets to save on init time, but we can acomplish the same
thing using an initial matrix. It's static, so there's no additional
cost. S free

Damn moth

## Changelog
:cl:
fix: Mining walls won't have fucked lighting anymore
/:cl:

---
## [voc/jev22_schedule](https://github.com/voc/jev22_schedule)@[fdb4d79629...](https://github.com/voc/jev22_schedule/commit/fdb4d7962944c61f1d1e2088b7b223666450de5d)
#### Monday 2022-12-26 20:00:16 by viri

version 2022-12-26 21:00; FireShonks 0.29; Reconnect To Chaos! 2.1; Hellarious: Hacking in Hell 0.4 final; Curious Community Labs Chaos Experience 0.1.3; xrelog22: Independent Multiverses 1.7; Wintergalaktische Club Mate Party 0.5; ChilyConChaos 2022-12-26 21:00; Winterchaos 0.3; Hacking in Parallel 0.10; Forum für Freiräume - Gib Uns Mehr! 0.37; End-of-Year event 0.1; DWeb NY Pre-kickoff + RemoteCCC @ Woodbine 0.1

---
## [grdw/aoc2022](https://github.com/grdw/aoc2022)@[f68cb958bf...](https://github.com/grdw/aoc2022/commit/f68cb958bfd1f08a4c8bcc6b32dc9a288d8d91ec)
#### Monday 2022-12-26 20:01:36 by grdw

Yeah, I fucking cheated this one. How the fuck was I supposed to know what the fuck all this Held-Karp TSP bs is

---
## [voc/jev22_schedule](https://github.com/voc/jev22_schedule)@[15846a541c...](https://github.com/voc/jev22_schedule/commit/15846a541c9d28ddec1275fd06a73228707ec5a6)
#### Monday 2022-12-26 20:20:13 by viri

version 2022-12-26 21:20; FireShonks 0.29; Reconnect To Chaos! 2.1; Hellarious: Hacking in Hell 0.4 final; Curious Community Labs Chaos Experience 0.1.3; xrelog22: Independent Multiverses 1.7; Wintergalaktische Club Mate Party 0.5; ChilyConChaos 2022-12-26 21:20; Winterchaos 0.3; Hacking in Parallel 0.10; Forum für Freiräume - Gib Uns Mehr! 0.37; End-of-Year event 0.1; DWeb NY Pre-kickoff + RemoteCCC @ Woodbine 0.1

---
## [voc/jev22_schedule](https://github.com/voc/jev22_schedule)@[0434b100dd...](https://github.com/voc/jev22_schedule/commit/0434b100dd8171d86e7fce88c18a6cf5692e9991)
#### Monday 2022-12-26 21:00:14 by viri

version 2022-12-26 22:00; FireShonks 0.29; Reconnect To Chaos! 2.1; Hellarious: Hacking in Hell 0.4 final; Curious Community Labs Chaos Experience 0.1.3; xrelog22: Independent Multiverses 1.7; Wintergalaktische Club Mate Party 0.5; ChilyConChaos 2022-12-26 22:00; Winterchaos 0.3; Hacking in Parallel 0.10; Forum für Freiräume - Gib Uns Mehr! 0.37; End-of-Year event 0.1; DWeb NY Pre-kickoff + RemoteCCC @ Woodbine 0.1

---
## [voc/jev22_schedule](https://github.com/voc/jev22_schedule)@[b73bf05334...](https://github.com/voc/jev22_schedule/commit/b73bf0533493d81bd3ca567203d8be2081d92902)
#### Monday 2022-12-26 21:20:14 by viri

version 2022-12-26 22:20; FireShonks 0.29; Reconnect To Chaos! 2.1; Hellarious: Hacking in Hell 0.4 final; Curious Community Labs Chaos Experience 0.1.3; xrelog22: Independent Multiverses 1.7; Wintergalaktische Club Mate Party 0.5; ChilyConChaos 2022-12-26 22:20; Winterchaos 0.3; Hacking in Parallel 0.10; Forum für Freiräume - Gib Uns Mehr! 0.37; End-of-Year event 0.2; DWeb NY Pre-kickoff + RemoteCCC @ Woodbine 0.1

---
## [desmondw/jService](https://github.com/desmondw/jService)@[27f72f2ef5...](https://github.com/desmondw/jService/commit/27f72f2ef55cca17175db54a77cb56cd2048dbbd)
#### Monday 2022-12-26 21:38:38 by Krikor Ailanjian

Added game

My team at work used to play jeopardy on the Google assistant app after stand up every day. the app was horrible and kept crashing so used your API to build a better version in browser, here it is. Thank you so much for working on this it's really great, when it went down for a few days we had to go back to the app and it was a real pain so really thankful you have this up!!

---
## [voc/jev22_schedule](https://github.com/voc/jev22_schedule)@[8bb3c15345...](https://github.com/voc/jev22_schedule/commit/8bb3c153456a1924894267c4abd8d9d2806f62ea)
#### Monday 2022-12-26 21:40:13 by viri

version 2022-12-26 22:40; FireShonks 0.29; Reconnect To Chaos! 2.1; Hellarious: Hacking in Hell 0.4 final; Curious Community Labs Chaos Experience 0.1.3; xrelog22: Independent Multiverses 1.7; Wintergalaktische Club Mate Party 0.5; ChilyConChaos 2022-12-26 22:40; Winterchaos 0.3; Hacking in Parallel 0.10; Forum für Freiräume - Gib Uns Mehr! 0.37; End-of-Year event 0.2; DWeb NY Pre-kickoff + RemoteCCC @ Woodbine 0.1

---
## [voc/jev22_schedule](https://github.com/voc/jev22_schedule)@[66a1d87a38...](https://github.com/voc/jev22_schedule/commit/66a1d87a38e6c6f704cd54532e2b8e56ad94958d)
#### Monday 2022-12-26 22:20:13 by viri

version 2022-12-26 23:20; FireShonks 0.29; Reconnect To Chaos! 2.1; Hellarious: Hacking in Hell 0.4 final; Curious Community Labs Chaos Experience 0.1.3; xrelog22: Independent Multiverses 1.7; Wintergalaktische Club Mate Party 0.5; ChilyConChaos 2022-12-26 23:20; Winterchaos 0.4; Hacking in Parallel 0.10; Forum für Freiräume - Gib Uns Mehr! 0.37; End-of-Year event 0.2; DWeb NY Pre-kickoff + RemoteCCC @ Woodbine 0.1

---
## [treckstar/yolo-octo-hipster](https://github.com/treckstar/yolo-octo-hipster)@[0ffa8388ce...](https://github.com/treckstar/yolo-octo-hipster/commit/0ffa8388ce286d725987eaa25a79e2539fb39e76)
#### Monday 2022-12-26 22:22:04 by treckstar

People listen up don't stand so close, I got somethin that you all should know. Holy matrimony is not for me, I'd rather die alone in misery.

---
## [underst11d/donkstation](https://github.com/underst11d/donkstation)@[6dd4839ef3...](https://github.com/underst11d/donkstation/commit/6dd4839ef321aa0a997549d1ae07fe7ccbba59ed)
#### Monday 2022-12-26 22:31:33 by carshalash

Gatfruit will no longer drop from ice portals. (#72048)

## About The Pull Request

For some god-forsaken reason, somebody decided that ice portals should
be able to drop one of the most disruptive items in the game. This PR
amends this by removing it from the drop pool.

## Why It's Good For The Game

In 2013 gatfruit was introduced in the following PR #2000 . This was
almost a decade ago at this point, repeatedly through the PR the creator
states his belief that this item should only ever be obtainable through
admin intervention due to its ridiculous capabilities. At the time
everyone in the PR agreed it was a reasonable item to add **as it was
unobtainable without admin intervention**. Over the years, it has crept
its way to become more prevalent and openly obtainable, the most
offensive of these options is the ice moon portal. As is, there is a 1
in 28 chance of obtaining the seeds, this sounds pretty inoffensive
right? That's just 3.44% probability. Now, let us search the instances
of the portal that spawns this.


![image](https://user-images.githubusercontent.com/16896032/208220173-bbefe604-0885-44a5-9add-b5f0c62067cc.png)

That is a big number, a lot of chances to get that seed packet and other
gamer looters. Now, let's take a look at the probability of being able
to get these seeds, assuming you wipe out all of the portals.


![image](https://user-images.githubusercontent.com/16896032/208220460-3f59a2ac-d936-4f3a-aa14-9c637af6a9d7.png)

92.8% chance to be able to get these seeds each shift if you focus
entirely on gaming the portals. That's a pretty insane probability of
being able to obtain the gatfruit seeds.

While I dislike people who sprint to the seed vault, there is at least
the possibility of a pod person telling them to fuck off when they
demand their _free_ gamer seed. There is also the fact that the ruin
isn't a guaranteed spawn every shift.

## Changelog

:cl:
balance: Gatfruit seeds will no longer drop from ice portals.
/:cl:

---
## [WilldooIT/odoo](https://github.com/WilldooIT/odoo)@[e7c8fed8e3...](https://github.com/WilldooIT/odoo/commit/e7c8fed8e373d7005c16c88d3a7bad6f425d13e5)
#### Monday 2022-12-26 23:13:47 by qsm-odoo

[FIX] website, *: allow to re-edit company team snippet images

*: web_editor

Since [1], it was not possible to edit a company team snippet image
anymore as soon as the page was saved once. Indeed that commit added
o_not_editable/contenteditable="false" on the parent column to make sure
no text can be added in that column and contenteditable="true" on the
images so that they are still editable (even though HTML-specs-wise
adding contenteditable="true" on images probably does not mean much as
images are self-closing tags, our editor understand that as the ability
to edit the image anyway). That contenteditable="true" part is however
removed when leaving edit mode... and was not restored upon entering
edit mode again.

This fixes the problems with an ugly patch. We'll review what to do in
master.

Funny enough, that bug was actually gone in 15.0... by mistake. A recent
bug fix actually reintroduced that isolated bug at [2] (by reintroducing
the fact that images in a non-editable environment are not possible to
edit). The 3 opened tickets this commit mentions were actually reported
for 15.0 immediately after that, while the 14.0 being broken about this
since the beginning apparently did not bother anyone.

[1]: https://github.com/odoo/odoo/commit/656cac1bf21c7c5a56aa569008aac58436c747fb
[2]: https://github.com/odoo/odoo/commit/e113bae04a64a8bd341a80736086ab7c25079dd3

opw-3031217
opw-3032482
opw-3035289

closes odoo/odoo#104156

Signed-off-by: Romain Derie (rde) <rde@odoo.com>

---
## [DavidJCobb/davidjcobb.github.io](https://github.com/DavidJCobb/davidjcobb.github.io)@[8646782b0f...](https://github.com/DavidJCobb/davidjcobb.github.io/commit/8646782b0ff38b1725db715aa1387aae6c4e24e7)
#### Monday 2022-12-26 23:27:22 by DavidJCobb

Extensive work, to add articles to the site

This task ballooned into a lot more work than I expected, and it didn't occur to me to branch it until now, so this commit will be a bit... disgustingly large.

I'm currently trying to add an articles section to the site, as a secondary focus to the portfolio (so, the only link from the homepage is in the site footer). Initial articles will include writings on raycast math, to eventually include public-domain code samples.

I intend to publish these changes in full once I have at least two articles: a guide for raycasting cones, and a guide for raycasting cylinders. (Still need to work out the math for the latter. I've been using the articles themselves as notepads of sorts.) I might also take my math cheatsheet (containing things like FOIL) and make a third article out of it.

---

Site HEAD content (social media META tags, favicon, etc.) moved into a separate Liquid include, to allow reuse across multiple layouts.

Separated out my main SCSS file into utilities, theming constants, and layout information.

Refactored the CSS background, which previously consisted of several gradients (to form the sand-and-sky coloration) and a pseudo-element (for scanlines). All backgrounds are now defined directly on the HTML element as layers. Some of the new SCSS utilities are used to properly merge background layers, so that the scanlines and gradients can be coded separately. (This, in turn, allows me to override just the gradients, so the 404 page now does so.)

Created a layout with a sidebar, for use on articles and the article listing page. This layout rearranges itself on smartphones (with some ugly accommodations to work around a Firefox bug with CSS media queries). The layout isn't perfect (among other things, the "site nav" portion of the sidebar is always default-collapsed), but it is what it needs to be and does what it needs to do in order to work optimally across platforms without any JavaScript.

Created an (ugly) system for mathematical markup, to allow for math in HTML, without JavaScript, that copies properly to plaintext and is only slightly a disaster for screen readers. There is ample room for improvement in this regard, but also ample possibility to improve. The system is called `lu-math`. Full documentation pending.

Added a site footer which links to the articles page. In the sidebar layout, on mobile, social links are moved down here, too.

Added a draft of an article on computing ray/cone intersections. The article is incomplete: I still need to test my C++ implementation (by porting it to GLSL and throwing it into Shadertoy for a raytracing test) and, if it works, include it in the article under CC0/public domain.

---

# [<](2022-12-25.md) 2022-12-26 [>](2022-12-27.md)

