# [<](2022-01-31.md) 2022-02-01 [>](2022-02-02.md)

1,666,545 events recorded by [gharchive.org](https://www.gharchive.org/) of which 1,666,545 were push events containing 2,713,963 commit messages that amount to 232,754,161 characters filtered with [words.py@e23d022007...](https://github.com/defgsus/good-github/blob/e23d022007992279f9bcb3a9fd40126629d787e2/src/words.py) to these 34 messages:


## [axietheaxolotl/tgstation](https://github.com/axietheaxolotl/tgstation)@[6ed2fafd4e...](https://github.com/axietheaxolotl/tgstation/commit/6ed2fafd4eccdc6f11e53acb9a1017b037d76360)
#### Tuesday 2022-02-01 00:24:11 by Iamgoofball

Removes the fucking 20 second stunlock rng from tourettes because it's fucking stupid and I just had the most agonizing thirty fucking minutes of my goddamn life, holy shit (#64416)

Removes the 20 second stunlock from tourettes

---
## [jydidier/termux-packages](https://github.com/jydidier/termux-packages)@[7b355a29d0...](https://github.com/jydidier/termux-packages/commit/7b355a29d05fa8570c2d9e25b55d135db96d6725)
#### Tuesday 2022-02-01 00:24:54 by Henrik Grimler

texlive{,-full}: remove package

It is one (soon two) years behind, and is a big hack: some of the debs
are larger than our upload system can handle, and the file lists are
generated from the tlpdb in a not so nice way that breaks horribly on
every texlive release.  Disk space is somewhat of a concern again on
the host that fosshost gives us at no (!) cost, and removing
texlive-full gives us ~1 GB of space.

The reasonable thing to do would be to set up a separate
"termux-texlive" repo, and create a package for every texlive package
rather than for every collection as done here.  Debian, ubuntu and
friends properly creates subpackages.  I am not really motivated to do
this though, so if someone else has use of a properly packaged texlive
and wants to look into it, then that would be great.

Users that want to use texlive should install texlive-installer
instead, it anyways allows for more convenient installation (you can
freely choose which scheme and which packages to install).

---
## [gurfan/vgstation13](https://github.com/gurfan/vgstation13)@[622f3fac2b...](https://github.com/gurfan/vgstation13/commit/622f3fac2b24476f23d8c9ebfae2dba5e371a3cc)
#### Tuesday 2022-02-01 00:38:10 by ShiftyRail

The Thing Before Christmas (#31715)

I thought this was a good way to spice up the winter season.
While I know Ling was removed for a reason, I want you to consider that it got removed years ago. It is fair to say that the playerbase and the game changed so much since then than a "tabula rasa" might be justified.

Besides, ling had deathsting removed and its obnoxious chemical stings axxed too. (#23014)
From a QoL standpoint, the stings have been converted to spells and should be as easy to use as the vampire ones.

As a final note, it's painstaingly true that ling is the least worked over of all our antags and is in dire need of some love and new content. However, this content can only come if people experience ling first-hand and get motivated to fix it.

Worse come to worse, we remove it again lole

Merry Christmas everyone.

:cl:
- rscadd: Santa Claus is coming to town. More specifically, he's coming to Antartica. Wait, he was already here all this time? And why does he look so familiar... OH GOD HELP

---
## [fazulk/barfzz](https://github.com/fazulk/barfzz)@[84dca0f159...](https://github.com/fazulk/barfzz/commit/84dca0f1594736219c1411bbffa996f33bf40b32)
#### Tuesday 2022-02-01 00:52:17 by Jeff Fasulkey

Feat/fuck you (#37)

* f

* f

* f

* f: asdf

---
## [mikehyrus/mame](https://github.com/mikehyrus/mame)@[a49e215466...](https://github.com/mikehyrus/mame/commit/a49e2154666b0ee7423e2d859c21b7592a4c61b8)
#### Tuesday 2022-02-01 00:58:51 by Firehawke

Apple II updates for January 2022 (#9189)

* New working software list additions (apple2_flop_clcracked.xml)
---------------------------------------------------------------

Earth Science: Interplanetary Travel (cleanly cracked) [4am, Firehawke]
Isaac Newton and F.I.G. Newton (cleanly cracked) [4am, Firehawke]
Return to Reading: The Call of the Wild (cleanly cracked) [4am, Firehawke]
The German Hangman (cleanly cracked) [4am, Firehawke]
Legionnaire (cleanly cracked) [4am, Firehawke]

* New working software list additions (apple2_flop_clcracked.xml)
---------------------------------------------------------------

Bridge Tutor with Precision and Scientific Bidding (cleanly cracked) [4am, san inc, Firehawke]
The French Hangman (cleanly cracked) [4am, Firehawke]
The Russian Hangman (cleanly cracked) [4am, Firehawke]

* New working software list additions (apple2_flop_orig.xml)
----------------------------------------------------------

Mickey's Space Adventure [4am, Firehawke]
The Environment Life Dynamic [4am, Firehawke]

* New working software list additions (apple2_flop_orig.xml)
----------------------------------------------------------

Stellar Power [4am, Firehawke]

New working software list additions (apple2_flop_clcracked.xml)
---------------------------------------------------------------

Ken Uston's Professional Blackjack (Version 1.12) (cleanly cracked) [4am, Firehawke]
Dinosaur's Lunch (cleanly cracked) [4am, Firehawke]
Race Car Keys (cleanly cracked) [4am, Firehawke]
Functional Harmony: Basic Chords (cleanly cracked) [4am, Firehawke]
Functional Harmony: Diatonic Seventh Chords (cleanly cracked) [4am, Firehawke]
Functional Harmony: Borrowed and Altered Chords (cleanly cracked) [4am, Firehawke]
Building Reading Skills: The Letter-Sound Farm (cleanly cracked) [4am, Firehawke]
Follow Me (cleanly cracked) [4am, Firehawke]

* New working software list additions (apple2_flop_clcracked.xml)
---------------------------------------------------------------

The German Hangman (Revision 2) (cleanly cracked) [4am, Firehawke]
The Russian Hangman (Revision 2) (cleanly cracked) [4am, Firehawke]
The Spanish Hangman (Revision 2) (cleanly cracked) [4am, Firehawke]

* New working software list additions (apple2_flop_clcracked.xml)
---------------------------------------------------------------

Exploring Library Land (cleanly cracked) [4am, Firehawke]
Library Treasure Hunt (cleanly cracked) [4am, Firehawke]
Expedition U.S.A.! (cleanly cracked) [4am, Firehawke]
Codes and Cyphers (cleanly cracked) [4am, san inc, Firehawke]
Ripley's Believe It Or Not: Beginning Library Research Skills (cleanly cracked) [4am, Firehawke]

* New working software list additions (apple2_flop_orig.xml)
----------------------------------------------------------

Glutton [4am, Firehawke]

---
## [Mr-Carp/fulpstation](https://github.com/Mr-Carp/fulpstation)@[c797bf79ea...](https://github.com/Mr-Carp/fulpstation/commit/c797bf79ea71c9fd26f598306753a9abc55427d8)
#### Tuesday 2022-02-01 01:13:09 by Pepsilawn

Fixes broken ass area on Helios tation (#440)

* Fixes Helios

* fuck you turbine

* MACHINERY/wish_granter

---
## [Peksterix/NYPxTrident](https://github.com/Peksterix/NYPxTrident)@[552fc2e4bb...](https://github.com/Peksterix/NYPxTrident/commit/552fc2e4bbe37738fc87af86dc1db2c9f8afa2ee)
#### Tuesday 2022-02-01 01:16:17 by Peksterix

24 hours no sleep, brain empty and i want to die. I dont remember what i did in this commit

---
## [Cutiekittypet/Tannhauser-Gate](https://github.com/Cutiekittypet/Tannhauser-Gate)@[1dfcffccd1...](https://github.com/Cutiekittypet/Tannhauser-Gate/commit/1dfcffccd1d453fc0d3f928f5dfa1d3115f977f9)
#### Tuesday 2022-02-01 01:34:09 by Zenitheevee

Tarkon Update 1.5: Meet the Ensign  (#11089)

* THE LORE, GUYS, THE LORE

* P-T 1.5: Meet The Ensign

* Dont remember, live is fucky and i need to test shit

* So many active turfs now fixed...

* Medical Malpractice: Swapped patients thumbs with their big toes.

* THE SOOOUUUULLLLLLLNGNGHHGHGHHH

* ok maybe i want this back.

* some other stuff and future-proof testing

---
## [F-fengzi/count](https://github.com/F-fengzi/count)@[3c22706691...](https://github.com/F-fengzi/count/commit/3c227066919b9928beb0dfa72226fc150d481255)
#### Tuesday 2022-02-01 03:33:53 by Fengzi

yeah just annoying thingy goes no no idk

the code is shit btw but who cares HAPPY NEW YEAR!!!

---
## [TenSeventy7/android_kernel_samsung_exynos9610_mint](https://github.com/TenSeventy7/android_kernel_samsung_exynos9610_mint)@[cde7800278...](https://github.com/TenSeventy7/android_kernel_samsung_exynos9610_mint/commit/cde7800278eaa783281831a384fc5821cfb398f7)
#### Tuesday 2022-02-01 03:38:30 by Peter Zijlstra

sched/core: Fix ttwu() race

Paul reported rcutorture occasionally hitting a NULL deref:

  sched_ttwu_pending()
    ttwu_do_wakeup()
      check_preempt_curr() := check_preempt_wakeup()
        find_matching_se()
          is_same_group()
            if (se->cfs_rq == pse->cfs_rq) <-- *BOOM*

Debugging showed that this only appears to happen when we take the new
code-path from commit:

  2ebb17717550 ("sched/core: Offload wakee task activation if it the wakee is descheduling")

and only when @cpu == smp_processor_id(). Something which should not
be possible, because p->on_cpu can only be true for remote tasks.
Similarly, without the new code-path from commit:

  c6e7bd7afaeb ("sched/core: Optimize ttwu() spinning on p->on_cpu")

this would've unconditionally hit:

  smp_cond_load_acquire(&p->on_cpu, !VAL);

and if: 'cpu == smp_processor_id() && p->on_cpu' is possible, this
would result in an instant live-lock (with IRQs disabled), something
that hasn't been reported.

The NULL deref can be explained however if the task_cpu(p) load at the
beginning of try_to_wake_up() returns an old value, and this old value
happens to be smp_processor_id(). Further assume that the p->on_cpu
load accurately returns 1, it really is still running, just not here.

Then, when we enqueue the task locally, we can crash in exactly the
observed manner because p->se.cfs_rq != rq->cfs_rq, because p's cfs_rq
is from the wrong CPU, therefore we'll iterate into the non-existant
parents and NULL deref.

The closest semi-plausible scenario I've managed to contrive is
somewhat elaborate (then again, actual reproduction takes many CPU
hours of rcutorture, so it can't be anything obvious):

					X->cpu = 1
					rq(1)->curr = X

	CPU0				CPU1				CPU2

					// switch away from X
					LOCK rq(1)->lock
					smp_mb__after_spinlock
					dequeue_task(X)
					  X->on_rq = 9
					switch_to(Z)
					  X->on_cpu = 0
					UNLOCK rq(1)->lock

									// migrate X to cpu 0
									LOCK rq(1)->lock
									dequeue_task(X)
									set_task_cpu(X, 0)
									  X->cpu = 0
									UNLOCK rq(1)->lock

									LOCK rq(0)->lock
									enqueue_task(X)
									  X->on_rq = 1
									UNLOCK rq(0)->lock

	// switch to X
	LOCK rq(0)->lock
	smp_mb__after_spinlock
	switch_to(X)
	  X->on_cpu = 1
	UNLOCK rq(0)->lock

	// X goes sleep
	X->state = TASK_UNINTERRUPTIBLE
	smp_mb();			// wake X
					ttwu()
					  LOCK X->pi_lock
					  smp_mb__after_spinlock

					  if (p->state)

					  cpu = X->cpu; // =? 1

					  smp_rmb()

	// X calls schedule()
	LOCK rq(0)->lock
	smp_mb__after_spinlock
	dequeue_task(X)
	  X->on_rq = 0

					  if (p->on_rq)

					  smp_rmb();

					  if (p->on_cpu && ttwu_queue_wakelist(..)) [*]

					  smp_cond_load_acquire(&p->on_cpu, !VAL)

					  cpu = select_task_rq(X, X->wake_cpu, ...)
					  if (X->cpu != cpu)
	switch_to(Y)
	  X->on_cpu = 0
	UNLOCK rq(0)->lock

However I'm having trouble convincing myself that's actually possible
on x86_64 -- after all, every LOCK implies an smp_mb() there, so if ttwu
observes ->state != RUNNING, it must also observe ->cpu != 1.

(Most of the previous ttwu() races were found on very large PowerPC)

Nevertheless, this fully explains the observed failure case.

Fix it by ordering the task_cpu(p) load after the p->on_cpu load,
which is easy since nothing actually uses @cpu before this.

Fixes: c6e7bd7afaeb ("sched/core: Optimize ttwu() spinning on p->on_cpu")
Reported-by: Paul E. McKenney <paulmck@kernel.org>
Tested-by: Paul E. McKenney <paulmck@kernel.org>
Signed-off-by: Peter Zijlstra (Intel) <peterz@infradead.org>
Signed-off-by: Ingo Molnar <mingo@kernel.org>
Link: https://lkml.kernel.org/r/20200622125649.GC576871@hirez.programming.kicks-ass.net
Signed-off-by: John Vincent <git@tenseventyseven.cf>

---
## [Sterophonick/sterophonick.github.io](https://github.com/Sterophonick/sterophonick.github.io)@[f5fd16ad9a...](https://github.com/Sterophonick/sterophonick.github.io/commit/f5fd16ad9ac5fd70ef67e1f4b4e39a4859a7f969)
#### Tuesday 2022-02-01 03:54:50 by Sterophonick

the funny trans girl game (this game looks genuinely cool even though i know literally nothing about bloodborne)

---
## [NBtheMC/The-Adventurers-Guild](https://github.com/NBtheMC/The-Adventurers-Guild)@[7ba7db6ed9...](https://github.com/NBtheMC/The-Adventurers-Guild/commit/7ba7db6ed9393cb1e84a8e38d8d865b5c60ff2fa)
#### Tuesday 2022-02-01 05:25:26 by Eric Long

Storylet System works. Fuck yeah.

fuck yeah. Shit's mostly done.

---
## [MicrosoftDocs/SupportArticles-docs](https://github.com/MicrosoftDocs/SupportArticles-docs)@[9f8cf116e2...](https://github.com/MicrosoftDocs/SupportArticles-docs/commit/9f8cf116e288dd201c0763afd7692da7aeb3d60b)
#### Tuesday 2022-02-01 09:01:36 by SaurabhSarkarMS

Update troubleshoot-windows-enrollment-errors.md

I have added a section "Important" at line number 347.
Technical Justification/Validation for the added statement- Kindly refer to the ICM https://portal.microsofticm.com/imp/v3/incidents/details/222369419/home

Business Justification for adding the statement- 
While troubleshooting cases in support we have seen customers (specially service based industries like HCL/TCS/Wipro) implementing this unsupported scenario several times.
The traditionally take over management of devices which are joined to the customer's domain and try to enroll it to their tenant(wherein there is no link b/w the customer's domain and their tenant)
Surprisingly this configuration works a lot of times! (Currently HCL has a customer wherein this works for 10k machines and does not work for 1k machine in the same environment)
Since we donot have a pubic facing doc calling this scenario as "Not Supported", organizations tend to implement this at first, and by the time it breaks for them, its too late to roll back given the anomaly(of devices working VS devices not working) and Microsoft is not able to help them much here as the configuration is not supported.
I understand that this is not a known issue or a bug, but "by design", and we possibly cannot document everything that we dont support, however in my opinion this is a scenario that definitely needs to be explicitly called out in our docs.
Just to add a little more reference- We had a case from Wipro for the very same issue with Microsoft Support in 2018 which ran for over 10 months after which PG mentioned that this is not supported.
Last year we had HCL do it for one of their customers and this year again they have comeup with another customer which is in that state. Now we have an internal kb article which states this, ensuring that there are no such delays in communicating this to the customer anymore. However (as expected) in almost all the cases we have customers coming back to us asking for a public documentation for the same.

Relevant Recent CSS Cases- 26550041 and 28928647 (There are many many more which i can probably dig up if needed)
Having a public documentation would not only help us in better communicating this to the customer, but also ensuring that this "unsupported scenario" which works 90% of the times, is something that customers are aware of, and dont fall into the trap.

---
## [gys619/lucky](https://github.com/gys619/lucky)@[e19993ce87...](https://github.com/gys619/lucky/commit/e19993ce87693b76b25f131e711bce927fd24ea9)
#### Tuesday 2022-02-01 09:19:23 by gys619

新增：[ .DS_Store, .editorconfig, .gitattributes, .gitignore, CK_WxPusherUid.json, JDJRSignValidator.js, JDJRValidator_Aaron.js, JDJRValidator_Pure.js, JDJRValidator_Smiek.js, JDSignValidator.js, JD_extra_cookie.js, JS1_USER_AGENTS.js, JS_USER_AGENTS.js, LICENSE, QuantumultX/gallery.json, QuantumultX/lxk0301_gallery.json, Surge/Task.sgmodule, Surge/lxk0301_Task.sgmodule.sgmodule, TS_USER_AGENTS.ts, USER_AGENTS.js, ZooFaker_Necklace.js, activity/jdCookie.js, activity/jd_0yuankanjia.js, activity/jd_5g.js, activity/jd_818.js, activity/jd_UnknownTask4.js, activity/jd_angryBean.js, activity/jd_apple_live.js, activity/jd_appliances.js, activity/jd_babel_red.js, activity/jd_beauty_ex.js, activity/jd_big_winner.js, activity/jd_blueCoin.py, activity/jd_bookshop.js, activity/jd_bridge.js, activity/jd_bzlshdgt.js, activity/jd_car_exchange.js, activity/jd_carnivalcity.js, activity/jd_cfd_fresh.js, activity/jd_cfd_fresh_exchange.js, activity/jd_cfdtx.js, activity/jd_city_exchange.js, activity/jd_city_lottery.js, activity/jd_citytx.js, activity/jd_coupon.js, activity/jd_crazy_joy.js, activity/jd_crazy_joy_bonus.js, activity/jd_crazy_joy_coin.js, activity/jd_daily_egg.js, activity/jd_daily_lottery.js, activity/jd_ddwj.js, activity/jd_ddworld_exchange.js, activity/jd_decompression.js, activity/jd_delCoupon.js, activity/jd_desire.js, activity/jd_digital_floor.js, activity/jd_djyyj.js, activity/jd_dlpj.js, activity/jd_ds.js, activity/jd_dyj_help.js, activity/jd_family.js, activity/jd_fcdyj_help_wx.js, activity/jd_fcwb.js, activity/jd_festival.js, activity/jd_film_museum.js, activity/jd_firecrackers.js, activity/jd_firecrackers2.js, activity/jd_fission.js, activity/jd_focus.js, activity/jd_ftzy_help.js, activity/jd_global.js, activity/jd_global_mh.js, activity/jd_golden_machine.js, activity/jd_gouwuche.js, activity/jd_gyp.js, activity/jd_haier.js, activity/jd_half_redrain.js, activity/jd_hb.js, activity/jd_health.js, activity/jd_honour.js, activity/jd_hotNeight.js, activity/jd_hotnight.js, activity/jd_hyj.js, activity/jd_hyj_help.py, activity/jd_immortal.js, activity/jd_immortal_answer.js, activity/jd_industrial_task.js, activity/jd_industryLottery.js, activity/jd_jchsign.js, activity/jd_jdh.js, activity/jd_jika.js, activity/jd_jingsubang.js, activity/jd_joy.js, activity/jd_joy_feedPets.js, activity/jd_joy_park_newtask.js, activity/jd_joy_reward.js, activity/jd_joy_run.js, activity/jd_joy_steal.js, activity/jd_jr_draw.js, activity/jd_jump.js, activity/jd_jxd.js, activity/jd_jxdzz.js, activity/jd_jxg.js, activity/jd_jxhlk.js, activity/jd_jxhlk.py, activity/jd_jxlhb.js, activity/jd_jxnc.js, activity/jd_jxstory.js, activity/jd_koi_Help.js, activity/jd_kxcdz.js, activity/jd_ldhwj.js, activity/jd_live_redrain.js, activity/jd_live_redrain2.js, activity/jd_ljd.js, activity/jd_lol.js, activity/jd_lotteryMachine.js, activity/jd_lottery_drew.js, activity/jd_lsj.js, activity/jd_lxLottery.js, activity/jd_lzclient.js, activity/jd_market_lottery.js, activity/jd_mcxhd.js, activity/jd_medal.js, activity/jd_medal_exchange.py, activity/jd_mh.js, activity/jd_mhyyl.js, activity/jd_mhyyl_prize.js, activity/jd_mhyyl_sendCard.js, activity/jd_mofang_ex.js, activity/jd_moneyTree_help.js, activity/jd_ms.js, activity/jd_ms_redrain.js, activity/jd_mx_shop.js, activity/jd_neight1.js, activity/jd_neight2.js, activity/jd_newTreasure.py, activity/jd_newYearMoney.js, activity/jd_newYearMoney_lottery.js, activity/jd_nian.js, activity/jd_nian_ar.js, activity/jd_nian_sign.js, activity/jd_nian_wechat.js, activity/jd_nzmh.js, activity/jd_party_night.js, activity/jd_petTreasureBox.js, activity/jd_pubg.js, activity/jd_qcshj.js, activity/jd_qjd.py, activity/jd_qqxing.js, activity/jd_qycl.js, activity/jd_redPacket.js, activity/jd_redPacket_help.js, activity/jd_refreshInvokeKey.js, activity/jd_ryhxj.js, activity/jd_selectionOffice.js, activity/jd_sevenDay.js, activity/jd_sign_graphics.js, activity/jd_sjjc.js, activity/jd_sjnhj.js, activity/jd_small_home.js, activity/jd_speed.js, activity/jd_summer_movement.js, activity/jd_superMarket.js, activity/jd_super_box.js, activity/jd_super_mh.js, activity/jd_super_redrain.js, activity/jd_sxLottery.js, activity/jd_syj.js, activity/jd_tcl.js, activity/jd_teamFLP.js, activity/jd_tewu.js, activity/jd_tiger_help.js, activity/jd_travel.js, activity/jd_travel_help.js, activity/jd_travel_shop.js, activity/jd_ttpt.js, activity/jd_unbind.js, activity/jd_unknownTask1.js, activity/jd_unsubscribe.js, activity/jd_watch.js, activity/jd_xg.js, activity/jd_xgyl.js, activity/jd_xiaomi.js, activity/jd_xinxiangyin.js, activity/jd_xqscjd.js, activity/jd_xtg.js, activity/jd_xtg_help.js, activity/jd_year.js, activity/jd_yijia.js, activity/jd_yijiajiu.js, activity/jd_ylyn.js, activity/jd_ys.js, activity/jd_zbjmh.js, activity/jd_zoo.js, activity/jd_zooCollect.js, activity/jd_zooElecsport.js, activity/jd_zzt.js, activity/jx_mc_coin.js, activity/jx_sign.js, activity/jx_sign_xd.js, backUp/AlipayManor.js, backUp/GetJdCookie.md, backUp/GetJdCookie2.md, backUp/GetJdCookie3.md, backUp/JDJRValidator_Smiek.js, backUp/JD_extra_cookie.js, backUp/TG_PUSH.md, backUp/ZooFaker_Necklace.js, backUp/aclog.png, backUp/elecV2P.md, backUp/getJDCookie.js, backUp/gitSync.md, backUp/gua_MMdou.js, backUp/gua_UnknownTask1.js, backUp/gua_UnknownTask3.js, backUp/gua_UnknownTask4.js, backUp/gua_UnknownTask5.js, backUp/gua_carnivalcity.js, backUp/gua_ddgame.js, backUp/gua_doge.js, backUp/gua_olympic_opencard.js, backUp/gua_olympic_opencard2.js, backUp/gua_opencard10.js, backUp/gua_opencard12.js, backUp/gua_opencard13.js, backUp/gua_opencard14.js, backUp/gua_opencard17.js, backUp/gua_opencard21.js, backUp/gua_opencard22.js, backUp/gua_opencard23.js, backUp/gua_opencard24.js, backUp/gua_opencard25.js, backUp/gua_opencard26.js, backUp/gua_opencard27.js, backUp/gua_opencard28.js, backUp/gua_opencard30.js, backUp/gua_opencard31.js, backUp/gua_opencard38.js, backUp/gua_opencard4.js, backUp/gua_opencard43.js, backUp/gua_opencard5.js, backUp/gua_opencard6.js, backUp/gua_opencard7.js, backUp/gua_opencard8.js, backUp/gua_opencard9.js, backUp/gua_wealth_island.js, backUp/gua_wealth_island_help.js, backUp/gua_xiaolong.js, backUp/iCloud.md, backUp/iOS_Weather_AQI_Standard.js, backUp/jdJxncShareCodes.js, backUp/jdJxncTokens.js, backUp/jdUA.py, backUp/jd_15.py, backUp/jd_DrawEntrance.js, backUp/jd_HongBao.js, backUp/jd_OpenCard.py, backUp/jd_all_bean_change.js, backUp/jd_angryBean.js, backUp/jd_angryCash.js, backUp/jd_angryKoi.js, backUp/jd_appliances.js, backUp/jd_babel_red.js, backUp/jd_bean_change.js, backUp/jd_beauty_ex.js, backUp/jd_beauty_twelfth.js, backUp/jd_big_winner.js, backUp/jd_blueCoin.py, backUp/jd_bookshop.js, backUp/jd_bs.py, backUp/jd_bzlshdgt.js, backUp/jd_car.js, backUp/jd_car_exchange.js, backUp/jd_car_exchange_xh.js, backUp/jd_carnivalcity.js, backUp/jd_cart_remove.js, backUp/jd_cashHelp.py, backUp/jd_cash_exchange.js, backUp/jd_cfd.js, backUp/jd_cfd_SlotMachine.js, backUp/jd_cfd_fresh.js, backUp/jd_cfd_fresh_exchange.js, backUp/jd_cfd_loop.js, backUp/jd_cfd_mooncake.js, backUp/jd_cfd_mooncake_help.js, backUp/jd_cfdtx.js, backUp/jd_city_exchange.js, backUp/jd_citytx.js, backUp/jd_crazy_joy.js, backUp/jd_crazy_joy_bonus.js, backUp/jd_crazy_joy_coin.js, backUp/jd_daily_egg.js, backUp/jd_ddPlayer.js, backUp/jd_ddo_pk.js, backUp/jd_ddwj.js, backUp/jd_ddworld_exchange.js, backUp/jd_decompression.js, backUp/jd_delCoupon.js, backUp/jd_delete.py, backUp/jd_deletenotify.py, backUp/jd_djjl.js, backUp/jd_djyyj.js, backUp/jd_dpqd.js, backUp/jd_dreamFactory.js, backUp/jd_dt.js, backUp/jd_dyj_help.js, backUp/jd_earn30.js, backUp/jd_enen.js.bak, backUp/jd_exchangejxbeans.js, backUp/jd_family.js, backUp/jd_fan.js, backUp/jd_fansa.js, backUp/jd_fc.js, backUp/jd_fcffl.js, backUp/jd_film_museum.js, backUp/jd_finance.js, backUp/jd_flpa.js, backUp/jd_foodRunning.js, backUp/jd_fruit.js, backUp/jd_getFollowGift.py, backUp/jd_goddess.js, backUp/jd_goldPhone.js, backUp/jd_golden_machine.js, backUp/jd_gq.js, backUp/jd_gyp.js, backUp/jd_half_redrain.js, backUp/jd_hb_a.js, backUp/jd_health.js, backUp/jd_hyj.js, backUp/jd_hyj_help.py, backUp/jd_industrial_task.js, backUp/jd_industryLottery.js, backUp/jd_iqoo_run.js, backUp/jd_jchsign.js, backUp/jd_jika.js, backUp/jd_jingsubang.js, backUp/jd_joy.js, backUp/jd_joy_help.js, backUp/jd_joy_park_newtask.js, backUp/jd_joy_reward.js, backUp/jd_joy_reward_Mod.js, backUp/jd_joy_run.js, backUp/jd_joy_score.js, backUp/jd_joy_steal.js, backUp/jd_joy_tx.js, backUp/jd_joyjd_open.js, backUp/jd_joyjd_open_list.js, backUp/jd_jr_draw.js, backUp/jd_jump.js, backUp/jd_jxcfd_cash100.py, backUp/jd_jxd.js, backUp/jd_jxg.js, backUp/jd_jxgc.js, backUp/jd_jxgc_tuan.py, backUp/jd_jxlhb.js, backUp/jd_jxmc_mkmb.js, backUp/jd_jxnc.js, backUp/jd_jxnnfls.py, backUp/jd_kanjia.js, backUp/jd_kanjia2.js, backUp/jd_kanjia3.js, backUp/jd_kj.js, backUp/jd_kxcdz.js, backUp/jd_kyd.js, backUp/jd_ldhwj.js, backUp/jd_live_redrain.js, backUp/jd_lol.js, backUp/jd_lotteryMachine.js, backUp/jd_lottery_drew.js, backUp/jd_lsj.js, backUp/jd_lxLottery.js, backUp/jd_lzclient.js, backUp/jd_lzdz2_fashion.js, backUp/jd_lzdz2_fashion1.js, backUp/jd_mall_active.js, backUp/jd_market_lottery.js, backUp/jd_mb.js, backUp/jd_mhtask.js, backUp/jd_mid.js, backUp/jd_mid2.js, backUp/jd_mofang.js, backUp/jd_mofang_ex.js, backUp/jd_mohe.js, backUp/jd_necklace_new.js, backUp/jd_newTreasure.py, backUp/jd_ns_open.js, backUp/jd_nzmh.js, backUp/jd_olympicgames.js, backUp/jd_openCard.py, backUp/jd_pet.js, backUp/jd_phone.js, backUp/jd_plantBean.js, backUp/jd_ppdz.js, backUp/jd_price.js, backUp/jd_priceProtect_Mod.js, backUp/jd_qcshj.js, backUp/jd_qixi.js, backUp/jd_qjd.js, backUp/jd_qjd.py, backUp/jd_qqxing.js, backUp/jd_rankingList.js, backUp/jd_redPacket.js, backUp/jd_redPacket_help.js, backUp/jd_ryhxj.js, backUp/jd_sevenDay.js, backUp/jd_shop.js, backUp/jd_sign_graphics1.js, backUp/jd_sjnhj.js, backUp/jd_small_home.js, backUp/jd_speed.js, backUp/jd_spider_requests.py, backUp/jd_summer_exchange.js, backUp/jd_summer_movement.js, backUp/jd_summer_movement_bet.js, backUp/jd_summer_movement_card.js, backUp/jd_summer_movement_help.js, backUp/jd_summer_movement_map.js, backUp/jd_superBrand2.js, backUp/jd_superMarket.js, backUp/jd_superMarket_xh.js, backUp/jd_super_redrain.js, backUp/jd_syj.js, backUp/jd_task.json, backUp/jd_team60.js, backUp/jd_teamAnJia.js, backUp/jd_teamFLP.js, backUp/jd_travel.js, backUp/jd_travel_shop.js, backUp/jd_try.js, backUp/jd_ttpt.js, backUp/jd_twlove.js, backUp/jd_unbind.js, backUp/jd_unsubscriLive.js, backUp/jd_unsubscribe.js, backUp/jd_utils.js, backUp/jd_vivo_add.js, backUp/jd_wish.js, backUp/jd_wxCollectionActivity.js, backUp/jd_wxShopFollowActivity.js, backUp/jd_wxj.js, backUp/jd_xiaomi.js, backUp/jd_xqscjd.js, backUp/jd_xsqjd.js, backUp/jd_xtg.js, backUp/jd_xxy.js, backUp/jd_year.js, backUp/jd_yijia.js, backUp/jd_young.js, backUp/jd_yqyl.js, backUp/jd_ys.js, backUp/jd_zd.js, backUp/jd_zdjr.js, backUp/jd_zjd.py, backUp/jd_zy_ddwj_help.js, backUp/jddj_fruit.js, backUp/jx_sign_xd.js, backUp/mengniu.js, backUp/mySelf.boxjs.json, backUp/redrian_user.py, backUp/reposync.md, backUp/rush_anjia.js, backUp/tencentscf.md, backUp/webhook.js, backUp/xmSports.js, boxjs.json, cleancart_activity.js, code.sh, config.json, desktop.ini, docker/Dockerfile, docker/Readme.md, docker/auto_help.sh, docker/bot/jd.png, docker/bot/jd_bot, docker/bot/requirements.txt, docker/bot/setup.py, docker/crontab_list.sh, docker/default_task.sh, docker/docker_entrypoint.sh, docker/example/custom-append.yml, docker/example/custom-overwrite.yml, docker/example/default.yml, docker/example/docker\345\244\232\350\264\246\346\210\267\344\275\277\347\224\250\347\213\254\347\253\213\345\256\271\345\231\250\344\275\277\347\224\250\350\257\264\346\230\216.md, docker/example/jd_scripts.custom-append.syno.json, docker/example/jd_scripts.custom-overwrite.syno.json, docker/example/jd_scripts.syno.json, docker/example/multi.yml, docker/notify_docker_user.js, docker/proc_file.sh, function/common.js, function/config.js, function/eval.js, function/jdValidate.js, function/jdcookie.js, function/jxAlgo.js, function/ql.js, function/sendNotify.js, getJDCookie.js, githubAction.md, gua_HappyNewYear_Shares.js, gua_MMdou.js, gua_UnknownTask7.js, gua_UnknownTask9.js, gua_opencard112.js, gua_opencard93.js, gua_opencard95.js, gua_opencard96.js, gua_wealth_island.js, gua_wealth_island_help.js, index.js, jdCookie.js, jdDreamFactoryShareCodes.js, jdEnv.py, jdFactoryShareCodes.js, jdFruitShareCodes.js, jdJxncShareCodes.js, jdJxncTokens.js, jdPetShareCodes.js, jdPlantBeanShareCodes.js, jd_CheckCK.js, jd_CkSeq.js, jd_DailyBonus_Mod.js, jd_DrawEntrance.js, jd_EsportsManager.js, jd_Evaluation.py, jd_HappyNewYear_Shares.js, jd_QLOneKeyDependency.sh, jd_UpdateUIDtoRemark.js, jd_aid_factory.js, jd_aid_fortune.js, jd_angryBean.js, jd_angryKoi.js, jd_babel_sign.js, jd_bean_change.js, jd_bean_change_new.js, jd_bean_home.js, jd_bean_info.js, jd_bean_sign.js, jd_beauty.js, jd_beauty_ex.js, jd_big_winner.js, jd_blueCoin.js, jd_blueCoin.py, jd_bookshop.js, jd_car.js, jd_car_exchange.js, jd_cash.js, jd_cash_exchange.js, jd_ccSign.js, jd_cfd.js, jd_cfd_fresh.js, jd_cfd_loop.js, jd_cfd_mooncake.js, jd_cfd_mooncake_help.js, jd_cfd_pearl.js, jd_cfd_pearl_ex.js, jd_checkcookie.sh, jd_china-joy_card.py, jd_club_lottery.js, jd_config.sample.sh, jd_connoisseur.js, jd_daily_egg.js, jd_daily_lottery.js, jd_ddnc_farmpark.js, jd_ddworld_exchange.js, jd_delCoupon.js, jd_delete_coupon.js, jd_dpqd.js, jd_dreamFactory.js, jd_dreamFactory_help.js, jd_dreamFactory_tuan.js, jd_duobao.js, jd_dwapp.js, jd_exchangejxbeans.js, jd_family.js, jd_fanli.js, jd_fcwb.js, jd_festival.js, jd_foodRunning.js, jd_fruit.js, jd_fruit_friend.js, jd_fruit_task.js, jd_getFollowGift.py, jd_gold_creator.js, jd_gold_sign.js, jd_goodMorning.js, jd_half_redrain.js, jd_hbCount.py, jd_health.js, jd_health_collect.js, jd_health_help.js, jd_identical.py, jd_jdfactory.js, jd_jdtj_winner.js, jd_jdzz.js, jd_jfcz.js, jd_jieMo.js, jd_jin_tie.js, jd_joy.js, jd_joy_feedPets.js, jd_joy_park.js, jd_joy_park_help.js, jd_joy_park_task.js, jd_joy_reward.js, jd_joy_reward_Mod.js, jd_joy_run.js, jd_joy_steal.js, jd_joy_tx.js, jd_joyjd_open.js, jd_joypark_open.js, jd_jr_draw.js, jd_jump.js, jd_jxg.js, jd_jxgckc.js, jd_jxhlk.py, jd_jxlhb.js, jd_jxmc.js, jd_jxmc_hb.js, jd_jxnc.js, jd_jxnn.js, jd_kanjia.js, jd_kd.js, jd_live.js, jd_live_redrain.js, jd_lotteryMachine.js, jd_lottery_drew.js, jd_lxLottery.js, jd_lzdz1_jx.json, jd_m_sign.js, jd_mall.js, jd_mall_active.js, jd_market_lottery.js, jd_medal.js, jd_mhtask.js, jd_mhyyl.js, jd_mhyyl_sendCard.js, jd_mofang.js, jd_mofang_ex.js, jd_mohe.js, jd_mohe_help.js, jd_moneyTree.js, jd_moneyTree_help.js, jd_morningSc.js, jd_mpdzcar.js, jd_mpdzcar_game.js, jd_mpdzcar_help.js, jd_ms.js, jd_nzmh.js, jd_openCard.py, jd_pet.js, jd_pigPet.js, jd_plantBean.js, jd_plantBean_help.js, jd_price.js, jd_priceProtect_Mod.js, jd_qjd.py, jd_qqxing.js, jd_rankingList.js, jd_redPacket.js, jd_redPacket_help.js, jd_redrain.js, jd_redrain_half.js, jd_refreshInvokeKey.js, jd_reward.ts, jd_scripts_check_dependence.py, jd_sendBeans.js, jd_sevenDay.js, jd_sgmh.js, jd_shop.js, jd_shop_sign.js, jd_sign.js, jd_signFree.js, jd_sign_graphics.js, jd_sign_graphics1.js, jd_small_home.js, jd_speed.js, jd_speed_sign.js, jd_speed_sign_Part1.js, jd_speed_sign_Part2.js, jd_speed_sign_Part3.js, jd_speed_sign_Part4.js, jd_speed_sign_Part5.js, jd_superMarket.js, jd_super_mh.js, jd_super_redrain.js, jd_superbox.js, jd_sxLottery.js, jd_syj.js, jd_tiger_help.js, jd_try.js, jd_try_notify.py, jd_tw.js, jd_unbind.js, jd_unsubscriLive.js, jd_unsubscribe.js, jd_upgrade.js, jd_userAwardExpandinfo.py, jd_week.js, jd_wish.js, jd_work_invokeKey.js, jd_work_validate.js, jd_wsdlb.js, jd_wxCollectionActivity.js, jd_wxShopFollowActivity.js, jd_wxgame.js, jd_wyw.js, jd_xmf_exchange.js, jd_xyhy.js, jd_year.js, jd_yfcoupon.js, jd_ylyn.js, jd_yqyl.js, jd_zdjr.js, jd_zjb.js, jd_zjb_help.js, jd_zqfl.py, jddjCookie.js, jddj_bean.js, jddj_fruit.js, jddj_fruit_collectWater.js, jddj_getPoints.js, jddj_getck.js, jddj_plantBeans.js, joy_run_token.json, jx_aid_cashback.js, jx_cfd_card.js, jx_factory_automation.js, jx_factory_commodity.js, jx_sign.js, jx_sign_xd.js, jx_ttysq.js, lxk0301.boxjs.json, magic.js, package-lock.json, package.json, ql.js, sendNotify.js, sendNotify.py, serverless.yml, shell_script_mod.sh, sign_graphics_validate.js, task_before.sh, test.js, tools/a.py, tools/empty.json, tools/jd_dreamFactory_product.js, utils/JDCookie.py, utils/JDJRValidator.js, utils/JDJRValidator_Pure.js, utils/JDJRValidator_Pure1.js, utils/JDSignValidator.js, utils/JD_DailyBonus.js, utils/MoveMentFaker.js, utils/MovementFaker.js, utils/USER_AGENTS.js, utils/ZooFaker_Necklace.js, utils/common.js, utils/config.js, utils/eval.js, utils/jdCookie.js, utils/jdShareCodes.js, utils/jdValidate.js, utils/jd_jxmcToken.js, utils/jd_sign_validate.js, utils/jdcookie.js, utils/jxAlgo.js, utils/magic.js, utils/ql.js, utils/sendNotify.js, utils/sign_graphics_validate.js, utils/sign_graphics_validate1.js]
修改内容：[ README.md]

---
## [IMAU-paleo/UFEMISM](https://github.com/IMAU-paleo/UFEMISM)@[b6955a8ddb...](https://github.com/IMAU-paleo/UFEMISM/commit/b6955a8ddb85e5506715ae51949c7a68cb5a15a2)
#### Tuesday 2022-02-01 09:56:06 by TijnBerends

Small remapping change

Reintroduced the old CSR-format matrices into the remapping module, to greatly reduce memory use.

When constructing the remapping matrices, the number of non-zeros (both per row and in total) is unknown in advance, and can vary greatly across the rows. Preallocating memory with PETSc is a pain in the ass, but not doing so makes it insanely slow (since apparently when it runs out, it allocates new memory which is only one single element larger, so that it has to copy the arrays every time a single element is added). However, PETSc also has a routine for setting up a PETSc matrix directly from a set of CSR arrays (which are only very slightly differently formatted from the UFEMISM ones). What I did therefore is to use my own CSR routines for setting up the line integral matrices (since my own memory expansion routines are much more efficient), then convert them to PETSc matrices once they're finished, and move on with the PETSc matrix operations from there. This seems to be a good compromise between computational speed and memory use.

---
## [radu-v/android_kernel_oneplus_sdm845](https://github.com/radu-v/android_kernel_oneplus_sdm845)@[9d398de33e...](https://github.com/radu-v/android_kernel_oneplus_sdm845/commit/9d398de33e35c7f580f3b68c9eb7a5067ce5d574)
#### Tuesday 2022-02-01 10:09:53 by alk3pInjection

drm: Handle dim for udfps

* Apparently, los fod impl is better than udfps cuz it
  has onShow/HideFodView hook, which allows us to toggle
  dimlayer seamlessly.

  Since udfps only partially supports the former one,
  we'd better kill dim in kernel. This is kinda a hack
  but it works well, bringing perfect fod experience
  back to us.

Co-authored-by: Art_Chen <Chenxy0201@qq.com>
Signed-off-by: alk3pInjection <webmaster@raspii.tech>
Change-Id: I80bfd508dacac5db89f4fff0283529c256fb30ce
Signed-off-by: mcdachpappe <noreference@web.de>

---
## [rust-lang-ci/rust](https://github.com/rust-lang-ci/rust)@[547f2ba06b...](https://github.com/rust-lang-ci/rust/commit/547f2ba06bc4aa93a375c54e1af3fd1216eeaf62)
#### Tuesday 2022-02-01 10:12:04 by bors

Auto merge of #86988 - thomcc:chunky-splitz-says-no-checking, r=the8472

Carefully remove bounds checks from some chunk iterator functions

So, I was writing code that requires the equivalent of `rchunks(N).rev()` (which isn't the same as forward `chunks(N)` — in particular, if the buffer length is not a multiple of `N`, I must handle the "remainder" first).

I happened to look at the codegen output of the function (I was actually interested in whether or not a nested loop was being unrolled — it was), and noticed that in the outer `rchunks(n).rev()` loop, LLVM seemed to be unable to remove the bounds checks from the iteration: https://rust.godbolt.org/z/Tnz4MYY8f (this panic was from the split_at in `RChunks::next_back`).

After doing some experimentation, it seems all of the `next_back` in the non-exact chunk iterators have the issue: (`Chunks::next_back`, `RChunks::next_back`, `ChunksMut::next_back`, and `RChunksMut::next_back`)...

Even worse, the forward `rchunks` iterators sometimes have the issue as well (... but only sometimes). For example https://rust.godbolt.org/z/oGhbqv53r has bounds checks, but if I uncomment the loop body, it manages to remove the check (which is bizarre, since I'd expect the opposite...). I suspect it's highly dependent on the surrounding code, so I decided to remove the bounds checks from them anyway. Overall, this change includes:
- All `next_back` functions on the non-`Exact` iterators (e.g. `R?Chunks(Mut)?`).
- All `next` functions on the non-exact rchunks iterators (e.g. `RChunks(Mut)?`).

I wasn't able to catch any of the other chunk iterators failing to remove the bounds checks (I checked iterations over `r?chunks(_exact)?(_mut)?` with constant chunk sizes under `-O3`, `-Os`, and `-Oz`), which makes sense, since these were the cases where it was harder to prove the bounds check correct to remove...

In fact, it took quite a bit of thinking to convince myself that using unchecked_ here was valid — so I'm not really surprised that LLVM had trouble (although compilers are slightly better at this sort of reasoning than humans). A consequence of that is the fact that the `// SAFETY` comment for these are... kinda long...

---

I didn't do this for, or even think about it for, any of the other iteration methods; just `next` and `next_back` (where it mattered). If this PR is accepted, I'll file a follow up for someone (possibly me) to look at the others later (in particular, `nth`/`nth_back` looked like they had similar logic), but I wanted to do this now, as IMO `next`/`next_back` are the most important here, since they're what gets used by the iteration protocol.

---

Note: While I don't expect this to impact performance directly, the panic is a side effect, which would otherwise not exist in these loops. That is, this could prevent the compiler from being able to move/remove/otherwise rework a loop over these iterators (as an example, it could not delete the code for a loop whose body computes a value which doesn't get used).

Also, some like to be able to have confidence this code has no panicking branches in the optimized code, and "no bounds checks" is kinda part of the selling point of Rust's iterators anyway.

---
## [ghc/ghc](https://github.com/ghc/ghc)@[31088dd32a...](https://github.com/ghc/ghc/commit/31088dd32a4dbbed649dff0700610eb7ed7a9fca)
#### Tuesday 2022-02-01 10:34:57 by David Feuer

Add test supplied in T20996 which uses data family result kind polymorphism

David (@treeowl) writes:

> Following @kcsongor, I've used ridiculous data family result kind
> polymorphism in `linear-generics`, and am currently working on getting
> it into `staged-gg`. If it should be removed, I'd appreciate a heads up,
> and I imagine Csongor would too.
>
> What do I need by ridiculous polymorphic result kinds? Currently, data
> families are allowed to have result kinds that end in `Type` (or maybe
> `TYPE r`? I'm not sure), but not in concrete data kinds. However, they
> *are* allowed to have polymorphic result kinds. This leads to things I
> think most of us find at least quite *weird*. For example, I can write
>
> ```haskell
> data family Silly :: k
> data SBool :: Bool -> Type where
>   SFalse :: SBool False
>   STrue :: SBool True
>   SSSilly :: SBool Silly
> type KnownBool b where
>   kb :: SBool b
> instance KnownBool False where kb = SFalse
> instance KnownBool True where kb = STrue
> instance KnownBool Silly where kb = Silly
> ```
>
> Basically, every kind now has potentially infinitely many "legit" inhabitants.
>
> As horrible as that is, it's rather useful for GHC's current native
> generics system. It's possible to use these absurdly polymorphic result
> kinds to probe the structure of generic representations in a relatively
> pleasant manner. It's a sort of "formal type application" reminiscent of
> the notion of a formal power series (see the test case below). I suspect
> a system more like `kind-generics` wouldn't need this extra probing
> power, but nothing like that is natively available as yet.
>
> If the ridiculous result kind polymorphism is banished, we'll still be
> able to do what we need as long as we have stuck type families. It's
> just rather less ergonomical: a stuck type family has to be used with a
> concrete marker type argument.

Closes #20996

Co-authored-by: Matthew Pickering <matthewtpickering@gmail.com>

---
## [vladlogyin/linux-tb-j616f](https://github.com/vladlogyin/linux-tb-j616f)@[de337ee301...](https://github.com/vladlogyin/linux-tb-j616f/commit/de337ee301422756dff43d6c60fbb0400c1235e9)
#### Tuesday 2022-02-01 12:03:02 by Marc Zyngier

irqchip/gic-v2m: Add PCI Multi-MSI support

We'd never implemented Multi-MSI support with GICv2m, because
it is weird and clunky, and you'd think people would rather use
MSI-X.

Turns out there is still plenty of devices out there that rely
on Multi-MSI. Oh well, let's teach that trick to the v2m widget,
it is not a big deal anyway.

Signed-off-by: Marc Zyngier <marc.zyngier@arm.com>

---
## [AleksandrPanov/opencv_contrib](https://github.com/AleksandrPanov/opencv_contrib)@[78392f786d...](https://github.com/AleksandrPanov/opencv_contrib/commit/78392f786da6d3871590c62d88e6ba323d834e5b)
#### Tuesday 2022-02-01 13:46:46 by fegorsch

Rename `near` to `zNear`

`near` is an illegal variable name on Windows (if `windef.h` is included),
because a macro with the same name is defined.

Someone else already put your rage into words, see
http://lolengine.net/blog/2011/3/4/fuck-you-microsoft-near-far-macros.

---
## [avar/git](https://github.com/avar/git)@[17cd61b8ef...](https://github.com/avar/git/commit/17cd61b8ef0c2d0288e31c94dd1c01cf6b96a663)
#### Tuesday 2022-02-01 14:14:05 by Ævar Arnfjörð Bjarmason

object-file.c: do fsync() and close() before post-write die()

Change write_loose_object() to do an fsync() and close() before the
oideq() sanity check at the end. This change re-joins code that was
split up by the die() sanity check added in 748af44c63e (sha1_file: be
paranoid when creating loose objects, 2010-02-21).

I don't think that this change matters in itself, if we called die()
it was possible that our data wouldn't fully make it to disk, but in
any case we were writing data that we'd consider corrupted. It's
possible that a subsequent "git fsck" will be less confused now.

The real reason to make this change is that in a subsequent commit
we'll split this code in write_loose_object() into a utility function,
all its callers will want the preceding sanity checks, but not the
"oideq" check. By moving the close_loose_object() earlier it'll be
easier to reason about the introduction of the utility function.

Signed-off-by: Ævar Arnfjörð Bjarmason <avarab@gmail.com>

---
## [Stayyoungcryo/Stayyoungcryo](https://github.com/Stayyoungcryo/Stayyoungcryo)@[dd1998ffd9...](https://github.com/Stayyoungcryo/Stayyoungcryo/commit/dd1998ffd9a15a2453c461aa3326962fdb200677)
#### Tuesday 2022-02-01 14:20:18 by Joanna lykouresis

Create FUNDING human potential

Dimple Naik small
DIMPLE NAIK
CLINIC DIRECTOR – °CRYO STAY YOUNG FRESHWATER
Dimple is a qualified Traditional Chinese Medicine (TCM) Practitioner, Acupuncturist & Cryotherapist with professional training, extensive knowledge, and 15+ years of global experience, from world-class institutions and clinical practices based in Australia, the USA, UK & China.

READ MORE
Dimple has an in-depth knowledge of the human anatomy and physiology and focusses on providing her clients with thorough, individualized custom programs, treating a variety of conditions and symptoms including but not limited to weight loss, pain management, muscle recovery, depression and stress, insomnia, gynaecological disorders, digestive disorders, infertility, anti-ageing, skin rejuvenation

---
## [Stayyoungcryo/Stayyoungcryo](https://github.com/Stayyoungcryo/Stayyoungcryo)@[5b52640ba4...](https://github.com/Stayyoungcryo/Stayyoungcryo/commit/5b52640ba4a430a4a2c7c887a665b2b88faf44c7)
#### Tuesday 2022-02-01 14:36:31 by Joanna lykouresis

Create README.md

OUR CLIENTS LOVE °CRYO

"What an amazing experience. I had the Cryo Facial, red light therapy and localised cryotherapy on my knees. I’ve had pain in my knees from bursitis and I’m writing this the next morning not even wearing my knee brace. Thank you Dimple! You have a customer for life xxx"

- DAVID ARIDI

"The experience was amazing from the moment you book your appointment to the caring and informative personal consultation by Dimple. The best result was how I felt after the whole body cryotherapy. I felt rested and had slept so well that night. Highly recommended."

- JODI SAMPSON

"The localised Treatment really helped get rid of the pain and inflammation from my shoulder injury. State of the art facility and great customer service from the team"

- RYAN O'GORMAN

"Fantastic service, very informative and friendly. Their full body Cryo chamber is a step above the standard chambers I have used elsewhere. I would strongly recommend using CRYO Northern Beaches!"

---
## [sarthakroy2002/kernel_realme_RMX2020](https://github.com/sarthakroy2002/kernel_realme_RMX2020)@[57558862ad...](https://github.com/sarthakroy2002/kernel_realme_RMX2020/commit/57558862ad9cc47f112d6f6df99f3f7ea574328f)
#### Tuesday 2022-02-01 15:20:42 by Wang Han

power: Introduce OnePlus 3 fingerprintd thaw hack

Taken from Oneplus 3, this hack will make fingerprintd recover from suspend quickly.

Small fixes for newer kernels since we're coming from 3.10.108..

Change-Id: I0166e82d51a07439d15b41dbc03d7e751bfa783b
Co-authored-by: Cyber Knight <cyberknight755@gmail.com>
[cyberknight777: forwardport and adapt to 4.14]
Signed-off-by: Shreyansh Lodha <slodha96@gmail.com>
Signed-off-by: Pierre2324 <pdbbasketball@gmail.com>
Signed-off-by: PainKiller3 <ninadpatil100@gmail.com>
Signed-off-by: Dhruv <dhruvgera61@gmail.com>
Signed-off-by: Cyber Knight <cyberknight755@gmail.com>

---
## [Morokite/Skyrat-tg](https://github.com/Morokite/Skyrat-tg)@[de8695ae49...](https://github.com/Morokite/Skyrat-tg/commit/de8695ae4987fb8fd3c08cbb1683ce581c7e572b)
#### Tuesday 2022-02-01 15:30:16 by SkyratBot

[MIRROR] makes most statpanel tabs update a tenth or so as often (>= 4 seconds instead of 4 deciseconds) because theyre wastful of cpu [MDB IGNORE] (#10929)

* makes most statpanel tabs update a tenth or so as often (>= 4 seconds instead of 4 deciseconds) because theyre wastful of cpu (#63991)

makes most updating stat panel tabs update once every 4 seconds instead of 4 deciseconds, but switching tabs instantly updates statpanel data for you. also makes examining a turf make flat icons for a maximum of 10 contents instead of 30 because its ridiculous to call getFuckingFlatIcon() wrappers that many times. also makes SSfluids not have SS_TICKER and updates its wait accordingly because theres no reason for it to be a ticker subsystem

the mc tab updates every 2 seconds unless someone has the pref enabled to refresh it quickly because SOME UNILLUMINATED LEMONS absolutely must watch overtime spikes in real time

statpanels can take between 1-3% of masters total processing time at very high pop, which is silly considering theres no need for someone to know any of the data updated accurate to less than half of a second. The only reason it needed to update so fast was because it looked awful when switching tabs, which will only be updated on the next fire. now switching tabs updates data instantly so theres no need to update the rest of the data quickly.

also makes each stat tab update into its own proc so we can tell how much each tab update costs

* makes most statpanel tabs update a tenth or so as often (>= 4 seconds instead of 4 deciseconds) because theyre wastful of cpu

* E

* https://github.com/Skyrat-SS13/Skyrat-tg/pull/11003

Co-authored-by: Kylerace <kylerlumpkin1@gmail.com>
Co-authored-by: Gandalf <9026500+Gandalf2k15@users.noreply.github.com>

---
## [bbhunter/Infosec_Reference](https://github.com/bbhunter/Infosec_Reference)@[cef2bd6f6c...](https://github.com/bbhunter/Infosec_Reference/commit/cef2bd6f6c2cbf3476f4b212b7c3c94adefc138e)
#### Tuesday 2022-02-01 16:46:17 by rmusser01

If you're reading this, I hope you're having at least a decent 3rd weekend of December. Hopefully next year won't be such a trashfire. #miracles ; Thanks to all the people who have helped make this year be not a _complete_ clusterfuck; small update. more backlog clearing. Next will hopefully be exec/evasion cleanup, then the redteam page and adding actual 'team' content to it. Shoutout agin to S for the much appreciated criticism. Here's to hoping for no new pandemics/genocides/wars/complete collapse of society for at least the next year. #smallmiracles

---
## [xbmc/xbmc](https://github.com/xbmc/xbmc)@[ee5e0a485b...](https://github.com/xbmc/xbmc/commit/ee5e0a485ba8b2321f50f493a7a10a063f8f54f7)
#### Tuesday 2022-02-01 19:44:05 by fritsch

AESinkAudioTrack: Pause-Burst - a little revisit

Pause-Bursts in RAW format are a red hering in general as they rely on
a non-existing API within Android. The implementation opens the audio
device but directly pauses it, hoping that internally the system does
the needful to keep the sink alive.

Sadly this happens intransparent for kodi, as the reported buffer of the
device stays zero. VideoPlayer calls AddPause multiple times in the
beginning to sync audio and video properly, while expecting that pause
bursts on audio side will fill up the sink (prepare it) and on the same time
causing a certain stable or better said: known delay when real data is
added later on.

The implementation asks android to pause, but blocks video player for the
amount of millis that it wants to add, stating: buffer is already filled.

As we sleep the non-existing data in, we need to "hack" the way back, remember
buffer is empty and not filled when first AddPacket is coming. We fake
this situation further until the real audio data has reached the same level
then we continue normally. Especially the way out is the hack as AE
exactly knows that out of a sudden 10 ms of data cannot be added in 0 ms if
the buffer is actually full. Though AE nicely gives us some time to get
our stuff in line.

But hack stays hack. If someone of google reads this:
Please add a method where you expose your IEC Packer so that we can create
and enqueue pause_bursts like normal audio. That way these hacks here would
not be needed at all.

---
## [willior/Action_RPG_1](https://github.com/willior/Action_RPG_1)@[08d9707b9a...](https://github.com/willior/Action_RPG_1/commit/08d9707b9a9e98b1806d16981041a241aa065fd3)
#### Tuesday 2022-02-01 19:45:19 by willior

changing some Player mechanics

this is related to the STUN status. i need to make these changes now before continuing with the combo system.
the player has some stats in which he cannot perform actions. currently this is the ACTION state (casting) and PICKUP state. i'd decided that i wanted the player to be hittable during these states, but the issue was handling what behaviour to call if the player was stunned during one of these states. the current system allows the pickup or casting animations to finish before moving to the STUN state. how i feel this is kind of awkward, so i'll have to come up with something better.
an easy way to handle this - and this is how it was handled in SoE & SoM - is to simply make the Player invincible while they are in a casting or a pickup animation. this way you wouldn't have to worry about stun states being applied during the animation, because the Player would simply not get hit.
a more complicated approach, and one that i anticipate would invite many bugs to fix, would be to have these animations interruptable. a few concerns with this:
i think if a player attempts to pick up an item on the ground, they should grab that item whether they were interrupted or not. so even if a player gets hit/stunned while picking up an item, they will still receive it. this might make for a small amount of awkwardness because the item is only "grabbed" after a short delay of beginning the pickup state. a less visually awkward but potentially more frustrating situation would be to prevent the Pickup from being grabbed if the player were stunned/hit out of the animation BEFORE actually acquiring the item. this would be complicated to implement, because the delay code exists on the IngredientPickups. meaning, once the "pickup ingredient" function is called, the ingredient is added to the Pouch 0.4s after the function call. i suppose a way around this would be to pass the ingredient in question as an argument to the player pickup method, and calling the function from the Player script after a delay instead of just after a delay. this way, if a player were stunned, the method never gets called.
i think after a bit of testing, keeping it simple is best. disabling the hurtbox during pickups will be fine, i think, beacuse the animation is so short, if there were a hitbox overlapping during the animation, it'd likely it's still overlapping at the end. i have cleaned up a bit of the pickup code, though. instead of the IngredientPicking setting the player state, the pickup calls a method on the Player that begins the state, which makes more sense (this method used to be called from within the Animation resource, so now it should be clearer).
for casting, it's going to be different. most importantly, if ingredients get removed from the Pouch, the formula should be cast, no exception. i do not ingredients getting wasted accidentally. currently, the ingredients are removed/formula is instanced the moment we confirm the formula from the FormulaTargetScreen. i'm wondering if i should delay this, and allow the player to be interrupted during a casting sequence, in which case the formula would not get cast but the Player would retain their ingredients. again, this would be complicated to implement. however, i do NOT want the player to be invincible for the entirety of casting animations. this was the case in SoM & SoE and it basically broke the game's balance because you would simple time your casting animation to start just before the enemy's attack hits, nullifying it. in those games, casting a spell was basically a free action where you didn't really have to consider much. i want the player to have to consider the right timing for casting formulas.
so the way it's set up currently might actually not need to be changed. the Player can still get hit and take damage during a casting animation, but they do not enter the HIT state. the player can even receive the STUN status, however the casting will continue and the Stun animation will only play when the casting animation finishes.
so, basically, two things:
1. Player cannot be hit during PICKUP state.
2. Player CAN be hit during ACTION state, however they can't be staggered; and if they get stunned, the duration begins when the STUN status is received. so for example, if a player was stunned for 1 second during a 4 second casting animation, the stun status would effectively be useless.
the casting animation should always play out. at the end of it, we check for a Stun node. if one is found, we immediately set the state = STUN, and call start_stun() if one is found. if not, state is reverted normally. the reason we manually set state = STUN if we find a stun node on action_finished() is because start_stun() checks if state == ACTION and returns out if true. so we need to make sure the state is not ACTION when we call start_stun() from the action_state().

---
## [FlymeDllVa/gqlgen](https://github.com/FlymeDllVa/gqlgen)@[43b56cbaf3...](https://github.com/FlymeDllVa/gqlgen/commit/43b56cbaf3f1de1d1ad379055ab1de157592cf38)
#### Tuesday 2022-02-01 20:02:55 by Ben Kraft

Forward `go mod tidy` stdout/stderr

This is a command that can fail (in my case I think for stupid reasons
in a hell of my own construction, but nonetheless).  Right now we just
get
```
$ go run github.com/Khan/webapp/dev/cmd/gqlgen
tidy failed: go mod tidy failed: exit status 1
exit status 3
```
which is not the most informative.  Now, instead, we'll forward its
output to our own stdout/stderr rather than devnull.

---
## [mrakgr/The-Spiral-Language](https://github.com/mrakgr/The-Spiral-Language)@[9c47c1a1f1...](https://github.com/mrakgr/The-Spiral-Language/commit/9c47c1a1f1b551911f048352d6c4aba02d7dcae0)
#### Tuesday 2022-02-01 20:31:24 by Marko Grdinić

"9:55am. Let's see what the new month will bring. Yesterday I spent the entire day in bed.

10:10am. Today is GGO novel reading time. Since I still feel dizzy I won't obligate myself to study. Still, let me get the review out of the way.

At least, I am getting no lack of sleep.

///

The first two weeks of January I spent learning Blender's geometry nodes. The goal was to figure out how to distribute flowers on some vines, the problem is that I ran into limitations with them. Despite being made for distributing objects, Blender's geo nodes cannot parameterize the instances meaning they can only distribute select clones. Maybe that would be fine for just a flower, but once I move to making a town, I do not want it to be made of only a few different buildings.

Once I ran into that limitation, at that point I had a choice to simply grind it out by hand or learn a new tool that could automate it. By mid of the month I've been studying Blender for 3.5 months, so I've been in an ideal situation to finally start establishing my workflow and start producing, but instead I decided to dive even deeper and started studying [Houdini](https://youtu.be/z1-T_vLa7_w). [Here is](https://youtu.be/hgxOzlXibZQ) a speed modeling demo of how it actually works in action. Everything is done by manipulating nodes on the right side.

While Blender is a 3d modeling package, Houdini can in fact be considered a fully fledged programming language for creating 3d art. The way it works is rather than destructively modifying objects like in regular art packages, it instead works by composing nodes which are combinator functions. The entire program is oriented towards this kind of non-destructive workflow and that makes it easy to both go back and make changes, as well as create generators for various kinds of models. It was used to [create the world](https://www.sidefx.com/learn/world-building/) of Far Cry 5 for example.

I'll go into it in more detail in the next review. I should be doing that now, but I am not my usual self because I got hit by Covid last week and I still haven't recovered from it. My head has air where brains used to be, and I feel like a zombie. I'll treat this as sick leave and try to relax. Hopefully by the end of the week I'll be ready to get back into the fray.

///

10:50am. Let me go with this. It is nice and small.

11:05am. Let me read the GGO novels. Screw responsibilities. Laziness max!

12:55pm. Done with chores and breakfast. Let me watch the Far Cry 5 video.

1:30pm. The PL monthly thread is up. Let me check the above and then i will post it.

1:40pm. Dealt with that. Let me get back to...well, I've watched the Far Cry 5 vid, let me watch the speed modeling one.

1:55pm. https://youtu.be/XZ73T-fEbAw
"You need a PHD to Learn Houdini 3D"

I should have used this as a link instead of the speed modeling one.

Let me add it in an edit.

2:10pm. I do not feel like reading, let me find something to play.

2:40pm. I do not feel like reading or playing. Let me watch some of those level making vids.

...I'll leave it for later. I do not feel like it after all. Let me go back to reading.

6:55pm. Done with lunch. It seems I've lost both my senses of smell and taste.

7:10pm. I might not have enjoyed my meal much, but at least my stomach is full. Let me go back to reading the Dendro manga.

9:25pm. Let me go to bed here. I am starting to feel cold. I guess this is going to be a longer lasting illness.

Ok...what I am going to do tomorrow is play Fallout New Vegas. I need a game that is not H, and I've had it on my backlog since forever.

Today I did not even feel like reading GGO despite it being my intention. I hate this. I want to study Houdini. If it has to be like this, I should just do my studies and work regardless. Anything has to be better than chucking a whole day down the drain like this.

I could have done something like play Dohna Dohna, but I just did not feel like it. I am not putting in a proper day's work, so play feels hollow to me.

Let me go to sleep here. Tomorrorw, I am going to get some studying done. It does not matter if my brain is only at 50%. I just need to do it. Covid will pass through my system at some point. Forget that it exists."

---
## [MercerK/grakkit](https://github.com/MercerK/grakkit)@[8875bbf18c...](https://github.com/MercerK/grakkit/commit/8875bbf18caabaa40a3e442d17ee04a78b8d9021)
#### Tuesday 2022-02-01 21:07:51 by brayjamin

Merge pull request #19 from MercerK/bugfix/sql

What's good, I should first mention that I'm not at all knowledgeable on driver-related stuff like this and thus concur that this is indeed black magic lmao

While this seems like a fix for a problem caused by a much larger issue, that issue has been found inherently ambiguous by @hb432 and others. Perhaps in the future we can attempt to patch that, however the severity of this issue is impactful enough that I think it's a good move to merge your pull request right now instead of venturing down that rabbit hole...

I compiled this myself and have confirmed that CoreProtect & other previously affected plugins seem to be working fine now. Thank you!

---
## [Falquano/Proto-Coop-Plateformer](https://github.com/Falquano/Proto-Coop-Plateformer)@[5493691f16...](https://github.com/Falquano/Proto-Coop-Plateformer/commit/5493691f160e26b12c1aae63d40700d8a5dbe9a2)
#### Tuesday 2022-02-01 21:11:21 by SebPautot

Mankind knew that they could not change society, so instead of reflecting upon themselves, they finally added crown push/pull multiplier, it was a pain in the ass bcs OG script took its own power, without considering it could be different between players :) But they found beauty in the lives of beasts, and couldn’t lie to themselves about it. Pain. Bleach for my eyes and Jesus for my soul :)

---
## [catfishjw/woodenbot](https://github.com/catfishjw/woodenbot)@[646f16fd58...](https://github.com/catfishjw/woodenbot/commit/646f16fd582b81470ae9fc8cd0a41c4bbefd6ad7)
#### Tuesday 2022-02-01 21:20:53 by catfishjw

we dont talk about bruno

We don't talk about Bruno, no, no, no!
We don't talk about Bruno... but
It was my wedding day
It was our wedding day
We were getting ready, and there wasn't a cloud in the sky
No clouds allowed in the sky
Bruno walks in with a mischievous grin-
Thunder!!
You telling this story, or am I?
I'm sorry, mi vida, go on
Bruno says, "It looks like rain"
Why did he tell us?
In doing so, he floods my brain
Abuela, get the umbrellas
Married in a hurricane
What a joyous day... but anyway
We don't talk about Bruno, no, no, no!
We don't talk about Bruno!
Hey! Grew to live in fear of Bruno stuttering or stumbling
I could always hear him sort of muttering and mumbling
I associate him with the sound of falling sand, ch-ch-ch
It's a heavy lift, with a gift so humbling
Always left Abuela and the family fumbling
Grappling with prophecies they couldn't understand
Do you understand?
A seven-foot frame
Rats along his back
When he calls your name
It all fades to black
Yeah, he sees your dreams
And feasts on your screams (hey!)
We don't talk about Bruno, no, no, no! (We don't talk about Bruno, no, no, no!)
We don't talk about Bruno (we don't talk about Bruno!)
He told me my fish would die
The next day: dead! (No, no!)
He told me I'd grow a gut!
And just like he said... (no, no!)
He said that all my hair would disappear, now look at my head (no, no! Hey!)
Your fate is sealed when your prophecy is read!
He told me that the life of my dreams would be promised, and someday be mine
He told me that my power would grow, like the grapes that thrive on the vine
Óye, Mariano's on his way
He told me that the man of my dreams would be just out of reach
Betrothed to another
It's like I hear him now
Hey sis, I want not a sound out of you (it's like I can hear him now)
I can hear him now
Um, Bruno...
Yeah, about that Bruno...
I really need to know about Bruno...
Gimmie the truth and the whole truth, Bruno
(Isabella, your boyfriend's here)
Time for dinner!
A seven-foot frame (it was my wedding day, it was our wedding day)
Rats along his back (we were getting ready)
When he calls your name (and there wasn't a cloud in the sky)
It all fades to black (no clouds allowed in the sky!)
Yeah, he sees your dreams (Bruno walks in with a mischievous grin-)
And feasts on your screams (thunder!)
You telling this story, or am I?
I'm sorry, mi vida, go on (óye, Mariano's on his way)
Bruno says, "It looks like rain" (a seven-foot frame, rats along his back)
In doing so, he floods my brain
Married in a hurricane
He's here!
Don't talk about Bruno, no! (Why did I talk about Bruno?)
Not a word about Bruno
I never should've brought up Bruno!

---
## [gaelicWizard/bash-it](https://github.com/gaelicWizard/bash-it)@[f1597976fb...](https://github.com/gaelicWizard/bash-it/commit/f1597976fb36ae110e474c1cf737a301614c695d)
#### Tuesday 2022-02-01 23:27:04 by John D Pell

lib/search: code style cleanup

Couldn't even `shellcheck` until I did a first pass...too much noise! ♥

lib/search: `shellcheck`

SC2076
SC2091
SC2004
SC2086
SC2207

lib/search: fix `_bash-it-flash-term()`

1. `$text_black` isn't a parameter provided by _Bash It_. Typo?
2. `$bold_yellow` is meant for prompt strings and putputs `\[`; ditto `$bold_red`.
3. The color was never returned to normal after.

lib/search: fix usage statement `_bash-it-search()`

SC2154

lib/search: `shfmt`

My apologies to future `git blame` hunters ♥

lib/search: code cleanup

Improve `_bash-it-erase-term()`, `_bash-it-flash-term()`, `_bash-it-rewind()`, `_bash-it-search-result()`, and `_bash-it-search-component()`. Minor tweaks to `_bash-it-is-partial-match()`, and `_bash-it-search()`.

pathmunge tests

main: Glob for *.bash properly when path contains spaces

- `shfmt`, `shellcheck`
- Clean up legacy/compatibility code to simpler control flow
- Move theme stuff down to where themes are handled
- Don't use `**` as _Bash It_ has never before set `globstar`; this eliminates varying behavior by environment; this alsö fixes users having any not-enabled themes under their custom dir.
- Lose weird Mac-specific alternate shell startup file (Bash loads startup files on Mac the same as it does on any other *nix system.)
- Place `composure.sh` init all in one place

main: adopt `_bash-it-log-prefix-by-path()`

lib/reloader: adopt `_bash-it-log-prefix-by-path()`

lib/appearance: `shellcheck` && `shfmt`

reloader: `shellcheck` && `shfmt`

Rewrite globbing per `shellcheck`'s SC2013 recommendations, and standardize whitespace.

lib/preview: `shfmt` && `shellcheck`

Fix theme file path globbing when $BASH_IT contains any spaces.

My apologies to future `git blame` hunters ♥

uninstall: `shellcheck` && `shfmt`

lint: add lib to clean_files.txt

lib/theme: `shfmt` && `shellcheck`

My apologies to future `git blame` hunters ♥

lib/colors: `shellcheck` && `shfmt`

Alsö, clean up `__color_rgb` to just use a regular if block.

lib/p4helpers: `shfmt`

My apologies to future `git blame` hunters ♥

lib/githelpers: `shfmt` && `shellcheck`

My apologies to future `git blame` hunters ♥

lib/theme: don't redefine battery_char()

Combine the two definitions for `battery_char()` so the second one doesn't just overwrite the first one. Do one or the other, not both.

Don't evaluate if `battery_percentage()` is available at load time, evaluate it at run time.

lib/command_duration: `shfmt` && `shellcheck`

My apologies to future `git blame` hunters ♥

lib/theme: `shellcheck` SC2154

These variables are referenced by themes already linted.

lib/theme.githelpers: unbound varbl

lib/theme: don't use `date` for `$THEME_CLOCK_FORMAT`

main: simplify flow of lib loader loop

Eliminate the separate loop for `vendor/init.d` since it's just as easy to glob it in the `lib` loop.

lib: delete `appearance.bash`

This adds *three* lines to `bash_it.sh`, and two to `plugin/base`. Just not worth an extra file requiring special handling.

main: load custom theme

Allow for simpler directory strucutre when loading theme from `$CUSTOM_THEME_DIR`/`$BASH_IT_CUSTOM`

make aliases load very late

...and update all the tests...

preexec: add helper functions to loader

Define the helper functions for `bash-preexec.sh` immediately after importing it, rather than in `lib/theme`.
- `__check_precmd_conflict()` and `save_append_prompt_command()` are generally useful and not theme-specific.
- Add matching `__check_preexec_conflict()` like `__check_precmd_conflict()`, and alsö `safe_append_preexec()`.

preexec: work around upstream

Alsö, move `set +T` in here.

test/theme: make fewer assumptions

Literally copying a line from the source to be tested is perhaps not the best way to test that code. 😉

That said, we do want to verify that the function was actually loaded.

TODO: actually test the function.

install: use `.bashrc` and notify user

The logic to guess whether to use `.bash_profile` or `.bashrc` was buggy and wrong. Just use `.bashrc` and either automatically fill in a `.bash_profile`, or notify the user that they need to edit their `.bash_profile`.

completions/sqlmap: use `_command_exists`

Addresses bash-it/bash-it#1632

completion/fabric: no need for `_command_exists`

If we're already inside the completion handler for `fab`...then it's a bit silly to check if `fab` is installed.

plugins/go: simplify _bash-it-gopath-pathmunge()

plugin/history: no need to set a trap
Instead of globbally clearing `$HISTTIMEFORMAT` and setting a return trap to re-enable it, just make it local to the function.

Also, set the defaults in a way that is happy with read-only parameters.

aliases/general: minor fixes

- Don't define some aliases if the target isn't installed, use _command_exists to check instead of `type` and `which`.
- Use `$EDITOR` for the editor for aliases about editing, excep the `sudo` ones because maybe you want those specifically?
- Fix `ls` aliases to match their common definitions (-A instead of -a: don't show '.' and '..' when displaying hidden files).

themes/base: use `type -P` instead of `which`

Avoid external binary `which`. Use built-in `type -P` instead. Uppercase `-P` forces a path search to avoid hashed matches and functions/aliases and whatnot.

completion/grunt: shellcheck

completion/subversion: load system completion

Load the completion script from the subversion package installed on the system, instead of bundling a copy. This addresses Bash-it/bash-it#1818.

NOTE: If `completions/system` is enabled, then it will load this same file anyway automatically.

plugins/battery: lint

plugins/xterm: not just Xterm

plugins/thefuck: lint

plugins/todo: lint

plugin/base: use `_bash-it-component-item-is-enabled()`

completion/git: use `_completion_exists()`

plugins/alias: remove old `SC2154` flag

This is no logner needed because the `local` keyword was moved higher up in the function.

---

# [<](2022-01-31.md) 2022-02-01 [>](2022-02-02.md)

