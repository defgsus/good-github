# [<](2021-12-03.md) 2021-12-04 [>](2021-12-05.md)

2,469,086 events, 1,552,691 push events, 2,070,841 commit messages, 131,434,122 characters


## [OpenVZ/vzkernel](https://github.com/OpenVZ/vzkernel)@[3b18b86fbc...](https://github.com/OpenVZ/vzkernel/commit/3b18b86fbcdd394f38bd51f5d1d0ed49dfcf78b2)
#### Saturday 2021-12-04 01:07:15 by Vasily Averin

ms/mm, oom: pagefault_out_of_memory: don't force global OOM for dying tasks

Patch series "memcg: prohibit unconditional exceeding the limit of dying tasks", v3.

Memory cgroup charging allows killed or exiting tasks to exceed the hard
limit.  It can be misused and allowed to trigger global OOM from inside
a memcg-limited container.  On the other hand if memcg fails allocation,
called from inside #PF handler it triggers global OOM from inside
pagefault_out_of_memory().

To prevent these problems this patchset:
 (a) removes execution of out_of_memory() from
     pagefault_out_of_memory(), becasue nobody can explain why it is
     necessary.
 (b) allow memcg to fail allocation of dying/killed tasks.

This patch (of 3):

Any allocation failure during the #PF path will return with VM_FAULT_OOM
which in turn results in pagefault_out_of_memory which in turn executes
out_out_memory() and can kill a random task.

An allocation might fail when the current task is the oom victim and
there are no memory reserves left.  The OOM killer is already handled at
the page allocator level for the global OOM and at the charging level
for the memcg one.  Both have much more information about the scope of
allocation/charge request.  This means that either the OOM killer has
been invoked properly and didn't lead to the allocation success or it
has been skipped because it couldn't have been invoked.  In both cases
triggering it from here is pointless and even harmful.

It makes much more sense to let the killed task die rather than to wake
up an eternally hungry oom-killer and send him to choose a fatter victim
for breakfast.

Link: https://lkml.kernel.org/r/0828a149-786e-7c06-b70a-52d086818ea3@virtuozzo.com
Signed-off-by: Vasily Averin <vvs@virtuozzo.com>

Suggested-by: Michal Hocko <mhocko@suse.com>
Acked-by: Michal Hocko <mhocko@suse.com>
Cc: Johannes Weiner <hannes@cmpxchg.org>
Cc: Mel Gorman <mgorman@techsingularity.net>
Cc: Roman Gushchin <guro@fb.com>
Cc: Shakeel Butt <shakeelb@google.com>
Cc: Tetsuo Handa <penguin-kernel@i-love.sakura.ne.jp>
Cc: Uladzislau Rezki <urezki@gmail.com>
Cc: Vladimir Davydov <vdavydov.dev@gmail.com>
Cc: Vlastimil Babka <vbabka@suse.cz>
Cc: <stable@vger.kernel.org>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

https://jira.sw.ru/browse/PSBM-134774
(cherry picked from commit 0b28179a6138a5edd9d82ad2687c05b3773c387b)
Signed-off-by: Vasily Averin <vvs@virtuozzo.com>

---
## [OpenVZ/vzkernel](https://github.com/OpenVZ/vzkernel)@[a1e040f008...](https://github.com/OpenVZ/vzkernel/commit/a1e040f0087ce7f7086e68d41a0e396277795c5f)
#### Saturday 2021-12-04 01:07:15 by Vasily Averin

ms/memcg: prohibit unconditional exceeding the limit of dying tasks

Memory cgroup charging allows killed or exiting tasks to exceed the hard
limit.  It is assumed that the amount of the memory charged by those
tasks is bound and most of the memory will get released while the task
is exiting.  This is resembling a heuristic for the global OOM situation
when tasks get access to memory reserves.  There is no global memory
shortage at the memcg level so the memcg heuristic is more relieved.

The above assumption is overly optimistic though.  E.g.  vmalloc can
scale to really large requests and the heuristic would allow that.  We
used to have an early break in the vmalloc allocator for killed tasks
but this has been reverted by commit b8c8a338f75e ("Revert "vmalloc:
back off when the current task is killed"").  There are likely other
similar code paths which do not check for fatal signals in an
allocation&charge loop.  Also there are some kernel objects charged to a
memcg which are not bound to a process life time.

It has been observed that it is not really hard to trigger these
bypasses and cause global OOM situation.

One potential way to address these runaways would be to limit the amount
of excess (similar to the global OOM with limited oom reserves).  This
is certainly possible but it is not really clear how much of an excess
is desirable and still protects from global OOMs as that would have to
consider the overall memcg configuration.

This patch is addressing the problem by removing the heuristic
altogether.  Bypass is only allowed for requests which either cannot
fail or where the failure is not desirable while excess should be still
limited (e.g.  atomic requests).  Implementation wise a killed or dying
task fails to charge if it has passed the OOM killer stage.  That should
give all forms of reclaim chance to restore the limit before the failure
(ENOMEM) and tell the caller to back off.

In addition, this patch renames should_force_charge() helper to
task_is_dying() because now its use is not associated witch forced
charging.

This patch depends on pagefault_out_of_memory() to not trigger
out_of_memory(), because then a memcg failure can unwind to VM_FAULT_OOM
and cause a global OOM killer.

Link: https://lkml.kernel.org/r/8f5cebbb-06da-4902-91f0-6566fc4b4203@virtuozzo.com
Signed-off-by: Vasily Averin <vvs@virtuozzo.com>

Suggested-by: Michal Hocko <mhocko@suse.com>
Acked-by: Michal Hocko <mhocko@suse.com>
Cc: Johannes Weiner <hannes@cmpxchg.org>
Cc: Vladimir Davydov <vdavydov.dev@gmail.com>
Cc: Roman Gushchin <guro@fb.com>
Cc: Uladzislau Rezki <urezki@gmail.com>
Cc: Vlastimil Babka <vbabka@suse.cz>
Cc: Shakeel Butt <shakeelb@google.com>
Cc: Mel Gorman <mgorman@techsingularity.net>
Cc: Tetsuo Handa <penguin-kernel@i-love.sakura.ne.jp>
Cc: <stable@vger.kernel.org>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

https://jira.sw.ru/browse/PSBM-134774
(cherry picked from commit a4ebf1b6ca1e011289677239a2a361fde4a88076)
Signed-off-by: Vasily Averin <vvs@virtuozzo.com>

---
## [SomeBoringNerd/troughthedark](https://github.com/SomeBoringNerd/troughthedark)@[96e3a57ac0...](https://github.com/SomeBoringNerd/troughthedark/commit/96e3a57ac0c5ff4248ed1d95a5efbae2b4ad39fe)
#### Saturday 2021-12-04 02:32:32 by Corentyn_

New movement system implementation (1/3)

added a source-like movement system. It work now but i need to repair everything that it broke when i've implemented it.

source of the new system :
https://github.com/Olezen/UnitySourceMovement

also :
made some change to the room geometry, and the school (2/3 will be the optimization of the school's geometry and mesh because HOLY SHIT it's a fucking mess)

---
## [Ruin0x11/HarmonyTest](https://github.com/Ruin0x11/HarmonyTest)@[69345b7983...](https://github.com/Ruin0x11/HarmonyTest/commit/69345b79838165e2f4b0d0b5e786ee1fee0dc8e5)
#### Saturday 2021-12-04 03:24:58 by Ruin0x11

Test implemention of potions

I like this better than the first way I did it, which was OOP-based. Specific reasons why:

1. No need to add checks for character/item/feat everywhere, like with target text. In an ECS architecture, the distinction becomes unnecessary. I was wondering what the point of having separate Chara/Item/Feat classes was before, and couldn't really find one.

2. The event implementation actually exists instead of being method-based the first time. It's also typed.

3. It's much better decoupled, and fairly easy to add new game logic with new events/systems/components.

Things I don't like:

1. Interruption of events. I'm using the provided HandledEntityEventArgs, but you have to remember to check `args.Handled` everywhere. Maybe this is better than letting the engine handle it?

2. Ordering of events. You can only order event handlers based on the EntitySystem that contains them. This means you can't order event handlers inside the same system, and are forced to split them up between multiple systems if you want ordering. I would probably use (Type, string) tuples instead. Also, ordered event handlers are topologically sorted every time they're triggered.

3. Ergonomics of EntityUid versus Entity. Entity does hide the implicit IEntityManager dependency. It's also rather convenient, but having two ways of query entity state is confusing. I've heard that using UIDs is faster than using Entity, but is that because Entity was an interface subject to unboxing penalties before? Also, do we need all the extra performance at this point in time? Having to do a Resolve() or TryGetComponent() just to get an entity's position is really painful. Maybe playing to Robust's strengths in this case means passing MapCoordinates around, to make querying for a SpatialComponent unnecessary? Then again, it's really only the SpatialComponent/MetaDataComponent that are this commonly used.

4. IoC dependencies outside of EntitySystems and managers - for example, inside of the current Effect class. There is no avoiding the fact that IoC dependencies will be needed all over the place, so having a way to inject them outside of EntitySystems would be very useful instead of having to call Resolve<>() everywhere. Unfortunately, storing pointers to IoC dependencies on Effect increases their memory usage times every entity holding them. This could be solvable if Robust's serializer supported flyweighting, but it doesn't currently.

5. Using Love means having ineffective dependency injection for anything Love-related. Is the only way around this really to be insane enough to implement an entire custom graphics backend with the proper injectable interfaces and pass graphics handles around? Making the C API for Love is probably going to become a requirement at some point, so I could add a headless mode to its C# binding if it gets done.

6. OOP IMap versus IMapManager. It's awkward to not be able to operate on maps as objects, but querying entities on maps is a frequent ocurrence, and that requires an IEntityManager to be available.

7. YAML. I hate YAML with a burning passion since it's annoying to edit with Vim/macros and has significant whitespace. At least XML can be structurally edited with a good editor and has schema and XPath support, which YAML has neither of. I might just have to live with it, though.

8. BMP resource caching. We need BMP support to be able to use vanilla's assets by downloading them automatically, and we would need BMP support anyway if instead we were to convert all of them to PNG beforehand. Robust does this thing where they put a .yml file in the image's directory with texture information. I think this is actually a better idea than what I was doing before with BMP key colors, since prototypes shouldn't care about those things.

9. Other resource caching. Unfortunately, since Love's resource types like Font require arguments like the font size to use upfront, they can't be used with IResourceCache.

Unsolved questions:

1. Map serialization? Robust doesn't support this usecase, at least for its flagship title. Using the SerializationManager for everything serialization-related is a tempting option. I'm wondering how private/public fields will be distinguished. Also, will adding binary serialization support even improve anything this time? I keep assuming "binary format = good".

2. Containers? Having EntityUids makes this much easier than storing Entities, at least.

3. Liveness? How does `isAlive = item.amount > 0` get modeled?

4. Stacking? How do non-stacking entities get consumed for things like magic? Probably a question for a future StackingSystem.

5. Verbs? ON/Love had tons of events like `on_bash`, `can_bash`, `on_activate`, `can_activate`, `on_descend`, `can_descend`... Should these all be separate events, or rolled into some kind of Verb class? The latter sounds like a miniature stringly-typed event system embedded into the larger typed one.

6. Mods? How will Harmony work? Is Harmony even necessary for most things anymore? Where do things like overridable formulas go? How will mods be able to rearrange EntitySystem event handlers? What about optional mods, since event ordering depends on types to work, meaning all the assemblies have to be loaded?

---
## [Ruin0x11/HarmonyTest](https://github.com/Ruin0x11/HarmonyTest)@[77b027cbd7...](https://github.com/Ruin0x11/HarmonyTest/commit/77b027cbd76ee7a4eb17429ca5786c76b78ab211)
#### Saturday 2021-12-04 03:43:06 by Ruin0x11

Test implemention of potions

I like this better than the first way I did it, which was OOP-based. Specific reasons why:

1. No need to add checks for character/item/feat everywhere, like with target text. In an ECS architecture, the distinction becomes unnecessary. I was wondering what the point of having separate Chara/Item/Feat classes was before, and couldn't really find one.

2. The event implementation actually exists instead of being method-based the first time. It's also typed.

3. It's much better decoupled, and fairly easy to add new game logic with new events/systems/components.

4. The serializer is sane. I really didn't like the serializer I wrote before. The YAML-based one has more convenient features and is well-tested.

Things I don't like:

1. Interruption of events. I'm using the provided HandledEntityEventArgs, but you have to remember to check `args.Handled` everywhere. Maybe this is better than letting the engine handle it?

2. Ordering of events. You can only order event handlers based on the EntitySystem that contains them. This means you can't order event handlers inside the same system, and are forced to split them up between multiple systems if you want ordering. I would probably use (Type, string) tuples instead. Also, ordered event handlers are topologically sorted every time they're triggered.

3. Inability to register more than one event handler per event/component pair. I'm wondering if there's any sort of technical/performance reason for this in Robust.

4. Inability to register a local event handler that passes in the UID of the target entity, but doesn't care about components. The only options are (uid, component, event) or (event). Is the way around this to add a UID field onto the event?

5. Ergonomics of EntityUid versus Entity. Entity does hide the implicit IEntityManager dependency. It's also rather convenient, but having two ways of query entity state is confusing. I've heard that using UIDs is faster than using Entity, but is that because Entity was an interface subject to unboxing penalties before? Also, do we need all the extra performance at this point in time? Having to do a Resolve() or TryGetComponent() just to get an entity's position is really painful. Maybe playing to Robust's strengths in this case means passing MapCoordinates around, to make querying for a SpatialComponent unnecessary? Then again, it's really only the SpatialComponent/MetaDataComponent that are this commonly used.

6. IoC dependencies outside of EntitySystems and managers - for example, inside of the current Effect class. There is no avoiding the fact that IoC dependencies will be needed in many different places, so having a way to inject them outside of EntitySystems would be very useful instead of having to call Resolve<>() everywhere. Unfortunately, storing pointers to IoC dependencies on Effect increases their memory usage times every entity holding them. This could be solvable if Robust's serializer supported flyweighting, but it doesn't currently.

7. Using Love means having ineffective dependency injection for anything Love-related. Is the only way around this really to be insane enough to implement an entire custom graphics backend with the proper injectable interfaces and pass graphics handles around? Making the C API for Love is probably going to become a requirement at some point, so I could add a headless mode to its C# binding if it gets done.

8. OOP IMap versus IMapManager. It's awkward to not be able to operate on maps as objects, but querying entities on maps is a frequent ocurrence, and that requires an IEntityManager to be available.

9. YAML. I hate YAML with a burning passion since it's annoying to edit with Vim/macros and has significant whitespace. At least XML can be structurally edited with a good editor and has schema and XPath support, which YAML has neither of. I might just have to live with it, though.

10. BMP resource caching. We need BMP support to be able to use vanilla's assets by downloading them automatically, and we would need BMP support anyway if instead we were to convert all of them to PNG beforehand. Robust does this thing where they put a .yml file in the image's directory with texture information. I think this is actually a better idea than what I was doing before with BMP key colors, since prototypes shouldn't care about those things.

11. Other resource caching. Unfortunately, since Love's resource types like Font require arguments like the font size to use upfront, they can't be used with the current IResourceCache.

Unsolved questions:

1. Game save/instantiated map serialization? Robust doesn't support this usecase, at least for its flagship title. Using the SerializationManager for everything serialization-related is a tempting option. I'm wondering how private/public fields will be distinguished. Also, will adding binary serialization support even improve anything this time? I keep assuming "binary format = good".

2. Containers? Having EntityUids makes this much easier than storing Entities, at least.

3. Liveness? How does `isAlive = item.amount > 0` get modeled?

4. Stacking? How do non-stacking entities get consumed for things like magic? Probably a question for a future StackingSystem.

5. Verbs? ON/Love had tons of events like `on_bash`, `can_bash`, `on_activate`, `can_activate`, `on_descend`, `can_descend`... Should these all be separate events, or rolled into some kind of Verb class? The latter sounds like a miniature stringly-typed event system embedded into the larger typed one.

6. Mods? How will Harmony work? Is Harmony even necessary for most things anymore? Where do things like overridable formulas go? How will mods be able to rearrange EntitySystem event handlers? What about optional mods, since event ordering depends on types to work, meaning all the assemblies have to be loaded?

7. Entity creation arguments/results? How will setting `nostack` and passing in extra components work? Also, right now a failed entity creation returns null. Is using a Result type better for debugging purposes, or is it too heavyweight? If only C# had tagged unions...

---
## [Ruin0x11/HarmonyTest](https://github.com/Ruin0x11/HarmonyTest)@[df1d26e10b...](https://github.com/Ruin0x11/HarmonyTest/commit/df1d26e10b79a2bfe2bfb3e5ddd58e1cbcdd496d)
#### Saturday 2021-12-04 03:46:29 by Ruin0x11

Test implemention of potions

I like this better than the first way I did it, which was OOP-based. Specific reasons why:

1. No need to add checks for character/item/feat everywhere, like with target text. In an ECS architecture, the distinction becomes unnecessary. I was wondering what the point of having separate Chara/Item/Feat classes was before, and couldn't really find one.

2. The event implementation actually exists instead of being method-based the first time. It's also typed.

3. It's much better decoupled, and fairly easy to add new game logic with new events/systems/components.

4. The serializer is sane. I really didn't like the serializer I wrote before. The YAML-based one has more convenient features and is well-tested.

5. Dependency injection. I like seeing the implicit dependencies of each class up front, and it's pretty convenient to use in most places. I used to prefer static classes, but really only because what I considered equivalent in Lua weren't static in any sense, so I will have to unlearn that habit.

Things I don't like:

1. Interruption of events. I'm using the provided HandledEntityEventArgs, but you have to remember to check `args.Handled` everywhere. Maybe this is better than letting the engine handle it?

2. Ordering of events. You can only order event handlers based on the EntitySystem that contains them. This means you can't order event handlers inside the same system, and are forced to split them up between multiple systems if you want ordering. I would probably use (Type, string) tuples instead. Also, ordered event handlers are topologically sorted every time they're triggered.

3. Inability to register more than one event handler per event/component pair. I'm wondering if there's any sort of technical/performance reason for this in Robust.

4. Inability to register a local event handler that passes in the UID of the target entity, but doesn't care about components. The only options are (uid, component, event) or (event). Is the way around this to add a UID field onto the event?

5. Ergonomics of EntityUid versus Entity. Entity does hide the implicit IEntityManager dependency. It's also rather convenient, but having two ways of querying entity state is confusing. I've heard that using UIDs is faster than using Entity, but is that because Entity was an interface subject to unboxing penalties before? Also, do we need all the extra performance at this point in time? Having to do a Resolve() or TryGetComponent() just to get an entity's position is really painful. Maybe playing to Robust's strengths in this case means passing MapCoordinates around, to make querying for a SpatialComponent unnecessary? Then again, it's really only the SpatialComponent/MetaDataComponent that are this commonly used.

6. IoC dependencies outside of EntitySystems and managers - for example, inside of the current Effect class. There is no avoiding the fact that IoC dependencies will be needed in many different places, so having a way to inject them outside of EntitySystems would be very useful instead of having to call Resolve<>() everywhere. Unfortunately, storing pointers to IoC dependencies on Effect increases their memory usage times every entity holding them. This could be solvable if Robust's serializer supported flyweighting, but it doesn't currently.

7. Using Love means having ineffective dependency injection for anything Love-related. Is the only way around this really to be insane enough to implement an entire custom graphics backend with the proper injectable interfaces and pass graphics handles around? Making the C API for Love is probably going to become a requirement at some point, so I could add a headless mode to its C# binding if it gets done.

8. OOP IMap versus IMapManager. It's awkward to not be able to operate on maps as objects, but querying entities on maps is a frequent ocurrence, and that requires an IEntityManager to be available.

9. YAML. I hate YAML with a burning passion since it's annoying to edit with Vim/macros and has significant whitespace. At least XML can be structurally edited with a good editor and has schema and XPath support, which YAML has neither of. I might just have to live with it, though.

10. BMP resource caching. We need BMP support to be able to use vanilla's assets by downloading them automatically, and we would need BMP support anyway if instead we were to convert all of them to PNG beforehand. Robust does this thing where they put a .yml file in the image's directory with texture information. I think this is actually a better idea than what I was doing before with BMP key colors, since prototypes shouldn't care about those things.

11. Other resource caching. Unfortunately, since Love's resource types like Font require arguments like the font size to use upfront, they can't be used with the current IResourceCache.

Unsolved questions:

1. Game save/instantiated map serialization? Robust doesn't support this usecase, at least for its flagship title. Using the SerializationManager for everything serialization-related is a tempting option. I'm wondering how private/public fields will be distinguished. Also, will adding binary serialization support even improve anything this time? I keep assuming "binary format = good".

2. Containers? Having EntityUids makes this much easier than storing Entities, at least.

3. Liveness? How does `isAlive = item.amount > 0` get modeled?

4. Stacking? How do non-stacking entities get consumed for things like magic? Probably a question for a future StackingSystem.

5. Verbs? ON/Love had tons of events like `on_bash`, `can_bash`, `on_activate`, `can_activate`, `on_descend`, `can_descend`... Should these all be separate events, or rolled into some kind of Verb class? The latter sounds like a miniature stringly-typed event system embedded into the larger typed one.

6. Mods? How will Harmony work? Is Harmony even necessary for most things anymore? Where do things like overridable formulas go? How will mods be able to rearrange EntitySystem event handlers? What about optional mods, since event ordering depends on types to work, meaning all the assemblies have to be loaded?

7. Entity creation arguments/results? How will setting `nostack` and passing in extra components work? Also, right now a failed entity creation returns null. Is using a Result type better for debugging purposes, or is it too heavyweight? If only C# had tagged unions...

---
## [RajaKunalPandit1/Leetcode_Questions](https://github.com/RajaKunalPandit1/Leetcode_Questions)@[721167c3af...](https://github.com/RajaKunalPandit1/Leetcode_Questions/commit/721167c3afe205aa485fe407efaac2f2e0bddfae)
#### Saturday 2021-12-04 09:01:06 by Raja Kunal Pandit

Create 148A - Insomnia cure.cpp

Output Status: 

By Rajakunalpandit, contest: Codeforces Round #105 (Div. 2), problem: (A) Insomnia cure, Accepted

«One dragon. Two dragon. Three dragon», — the princess was counting. She had trouble falling asleep, and she got bored of counting lambs when she was nine.

However, just counting dragons was boring as well, so she entertained herself at best she could. Tonight she imagined that all dragons were here to steal her, and she was fighting them off. Every k-th dragon got punched in the face with a frying pan. Every l-th dragon got his tail shut into the balcony door. Every m-th dragon got his paws trampled with sharp heels. Finally, she threatened every n-th dragon to call her mom, and he withdrew in panic.

How many imaginary dragons suffered moral or physical damage tonight, if the princess counted a total of d dragons?

Input
Input data contains integer numbers k, l, m, n and d, each number in a separate line (1 ≤ k, l, m, n ≤ 10, 1 ≤ d ≤ 105).

Output
Output the number of damaged dragons.

Examples
inputCopy
1
2
3
4
12
outputCopy
12
inputCopy
2
3
4
5
24
outputCopy
17
Note
In the first case every first dragon got punched with a frying pan. Some of the dragons suffered from other reasons as well, but the pan alone would be enough.

In the second case dragons 1, 7, 11, 13, 17, 19 and 23 escaped unharmed.

---
## [jpfraneto/birtherater](https://github.com/jpfraneto/birtherater)@[2969bf8e51...](https://github.com/jpfraneto/birtherater/commit/2969bf8e519a61bcd713a8d555c9d19098eca464)
#### Saturday 2021-12-04 09:23:04 by jpfraneto

Day 15. Yesterday I forgot again to push the changes to the repo. I was going through my session of work in the afternoon of a really intense day, and I had a surge of starting to practice some whm breathwork. That brought me into a deep state of trance, which enabled me to understand better different things that I was feeling in that moment. I took the conscious decision of leaving my work session in the programming realm to move to my work session in the soul realm, and it felt great. I needed it, and it was important to give me that flexibility also. All this work is helping me to realize why Im doing what Im doing, and where am I headed to. It feels good to give up the pressure that Ive put on myself about being the best programmer that I can, because at the end of the day what is important is to be conscious about the work that I do, and do it with my heart. Im doing that, every moment, and that is helping me to move towards a way of doing things that is based on caring, on presence. And that brings up quality, and the craftmanship that comes from deeply caring about what you do. I want each present in my life to be related to this way of doing things, and I will keep moving towards that. I also made some progress in the app yesterday, mainly styling. I feel stuck with this one, because there are no many ideas that come to mind related to what I can do to enhance it. It has been quite frustrating, but it is part of the work to sit down over this frustration and continue building from there. Today is my day off, and time to celebrate the two months of my little Mila.

---
## [uptoeleven/ultimo.gg](https://github.com/uptoeleven/ultimo.gg)@[b53896727f...](https://github.com/uptoeleven/ultimo.gg/commit/b53896727fc471274a2698a4897d7ba9a7b5854c)
#### Saturday 2021-12-04 09:38:44 by Simon Brown

It's WordPress. Everything is a global. Declare everything as a global just in case. I hate my life.
Declare variables on site-nav.php

---
## [EdgeLordExe/OpenDream](https://github.com/EdgeLordExe/OpenDream)@[298cd94e42...](https://github.com/EdgeLordExe/OpenDream/commit/298cd94e42db3a639fb716c3e866772204cba4fb)
#### Saturday 2021-12-04 11:47:04 by ZeWaka

fixes stupid reference equality in #95 (#98)

* No boxing on equality for DreamVale

* small clarity spacing

* fucking reference equality

* More correct code

---
## [Perkedel/Kaded-fnf-mods](https://github.com/Perkedel/Kaded-fnf-mods)@[c750d83067...](https://github.com/Perkedel/Kaded-fnf-mods/commit/c750d830677a284f756ecddd9c06cf9dfa69c009)
#### Saturday 2021-12-04 12:31:13 by Joel Robert Justiawan

[skip ci] Sapi Polen 9

(Repull up old news, for lore) cval blocked me after saying that I idk about what Kenny meant to be https://twitter.com/cval_brown/status/1461785884903288832?s=20
https://twitter.com/JOELwindows7/status/1461757300931137539?s=20

cval_brown loves NFT. tbh, i'd be rude to say that my mental depression has been reduced because he loves NFT. yep! I hate NFT. see https://odysee.com/@JOELwindows7:a/boring-nft-monke:f?r=826PDDZXUw4um9RjrV63T47YCUofKYFg in the description
perhaps his love was just kidding, idk. we cannot confirm whatsoever to be here.

add commit save pls. here you need to change trace into Debug.logInfo. maybe not necessary because itself has been already been replaced already

---
## [DoggingBot/poc](https://github.com/DoggingBot/poc)@[daaba203d3...](https://github.com/DoggingBot/poc/commit/daaba203d37feae99c26d9e83f9dbdbc6238a31e)
#### Saturday 2021-12-04 13:22:38 by kmatsumari

Massive refactor to utilize a database

Many functions have been rewritten to accommodate the new methods to work with a database, many functions and variables have been removed due to immediate deprecation, and many new functions, services, event handlers, and command handlers have been added. The code still needs to be documented and properly commented, as well as undergo a full naming rework for variables utilized within the Discord.js API to eliminate confusion on expected data being passed and worked with. Discord.js version is still using API v12 instead of v13 (which contains breaking changes).

Database uses serverID_TableName convention per server that is configured, and all configurations are held in the table 'config'. 'retorts' contains a list of all the snarky responses the bot will use when bothered in DM.
Structures for tankees, sips, invites, invite_uses, and buffers can be found in configCommand.
Structure for retorts is a keyless single column labelled 'line'.
Structure for 'config' is as follows:

  'serverID' VARCHAR(20) NOT NULL PRIMARY KEY,
  'commandPrefix' VARCHAR(1) NOT NULL DEFAULT('.')
  'botMasterRole' VARCHAR(20) NULL DEFAULT(NULL)
  'botUserRole' VARCHAR(20) NULL DEFAULT(NULL)
  'drunktankRole' VARCHAR(20) NULL DEFAULT(NULL)
  'tankChannel' VARCHAR(20) NULL DEFAULT(NULL)
  'logChannel' VARCHAR(20) NULL DEFAULT(NULL)
  'invitesChannel' VARCHAR(20) NULL DEFAULT(NULL)
  'namesChannel' VARCHAR(20) NULL DEFAULT(NULL)
  'modlogChannel' VARCHAR(20) NULL DEFAULT(NULL)
  'bypassGMU' VARCHAR(419) NOT NULL
  'rolesToIgnore' VARCHAR(419) NULL DEFAULT(NULL)
  'rolesICannotTank' VARCHAR(419) NULL DEFAULT(NULL)
  'tankUOM' VARCHAR(7) NOT NULL DEFAULT("hours")
  'tankDuration' SMALLINT(5) UNSIGNED NOT NULL DEFAULT(12)
  'writeMessageToDrunkTank ' TINYINT(1) UNSIGNED NOT NULL DEFAULT(0)
  'warnAuthorizedUsage' TINYINT(1) UNSIGNED NOT NULL DEFAULT(0)
  'startServer' TINYINT(1) UNSIGNED NOT NULL DEFAULT(0)

All Discord Snowflake numbers are strings due to the inability to utilize BigInt() in our bot. All snowflakes when passed as numbers, integers, or any large number datatype, always truncate digits to the right when the value exceeds javascript's MAX_SAFE_INTEGER, which is 2^53-1 (9007199254740991). Because Snowflakes are up to 20 digits and make up a value that can be up to the max unsigned value of a 64-bit integer, we cannot rely on anything other than strings, and we are never able to perform any mathematical operations nor use any mathematical comparisons with snowflakes within our bot.

commandPrefix was decided by Sindrah to currently be limited to a single character, so as to not have issues with overlapping or word usage.

large VarChar sizes were chosen for comma-separated lists of snowflake IDs, and huge sizes (blob types are not required as the max message size of a Level 3 boosted server is 4000 UTF8 characters) for messages buffered.

TinyInt(1) is for boolean values.

ALL occurrences of injectConfig() are now Deprecated and Removed. injection functions, and some other functions/variables, are currently commented out (or may still exist but are not exported any longer) and are to be blown out on next code beautification.

main.js
  set default to use druncord_linux
  moved service instantiation to occur after database connection occurs and all server configuration has been obtained
  implements database callable
  moved config into the global namespace so it can be seen from all includes without injecting it. This allows changes from one service/command/event to be reflected in other later-called services that would otherwise need to be re-injected.
  config is now an Object sorted by server ID with individual and independent server configurations.
  bot now has retorts (stored in database) that it randomly responds with when DM'd out of context (to be reworked where no retort is issued for manual tanking responses in DM by botUsers, or Deprecated altogether if problematic)
  main script now listens to the following new events:
    inviteCreate,
    inviteDelete,
    userUpdate -> fed to memberUpdateEvent for handling. currently only used for tracking username changes, and uses existing code to respond to it the same way it would for a nickname change from a GuildMember object.
  all caught events that ultimately require some kind of configuration in order to move forward will first check if the server configuration not only exists but that every required part of the configuration has been configured, otherwise it responds that the server has not been configured yet, and instructs the user to use the configuration commands.

package.json
  new version "1.0.0" for breaking and major changes, currently in production
  testserver now stacktraces warnings and errors
  testserver_linux contained a colon character that prevented it from being properly read as an index
  new packages were added: mysql2, bluebird (promises)
  nodeVersion added by npm

package-lock.json
  reflects dependencies and changes found in package.json

config/
  druncord_linux.js
  hard-coded configurations for the server have been removed, except for the bot token access code and bot name
  included database connection details pulled from .env (keeps the credentials secret using .gitignore when cloned)

managers/
  dbConnectionManager.js
    new file. handles all database connections, single transaction mode within an async promise, returns results of query.
    utilizes prepared statements with parameterized SQL to prevent SQL injection without having to sanitize any data.
    limited DDL/DML query functions permitted in order to prevent injection by 2nd order (using unions or stored functions).
    all query components are standardized to be handled without allowing any code to manipulate the query string. all query data is built based on the existence of the passed data, and the query string is strictly assembled based on the named properties of the object passed to the querybuilder.

events/
  memberJoinEvent.js
    logs joining users with their account details and the Invite they used to join (and references the invite creator's details)
    tank persistence rewritten due to database usage instead of JSON flatfile.
    if tanked user comes back after time is served, untank procedure is automatically called to untank them.

  memberLeaveEvent.js
    rewritten checktank to still show user in tank after they leave (future update to label the user as not in server so auto-untank happens if/when they return without botUser involvement)
    logs user leaving in special log with user information (ID, user.tag, current mention handle, account age, time in server, and invite used as well as inviter).
    notates if the user was kicked, banned, or left on their own.
    banned users that were tanked have their tank record closed with reason "Banned".

  memberUpdateEvent.js
    now tracks username changes, nickname changes, and tracks all roles given or taken that aren't involving the drunktankRole
    reworked logic for checking if the user being manipulated with drunktankRole was in the tank records before working on a tank record, otherwise outputs message that the user was not in the tank.
    removed the exception catch() that only sent a warning to the console if the audit log entry couldn't be found. Eventually will reinstate when all unhandled promise rejections are explicitly handled.

  inviteEvent.js
    new file. simply determines the data of an invite caught by the event trigger, and determines whether it was newly added or deleted, then adds/updates the record in the DB accordingly.

services/
  drunktankService.js
    refactored the way users are handled in each function and procedure within to accommodate for the DB.
    handles tank command upon a tanked user to just close out their current tank record with reason "Already tanked - retanking" then open a new tanking record for the tanked user.

  guildService.js
    writeToChannel function refactored to consider a message that may be buffered or just lost entirely if the channel is not valid. No longer receives a channel ID, instead receives a channel namespace found in a server's config that is used to get the channel ID by the name as an index.
    buffer message true by default, pass explicit false as third arg to override message buffering.
    getMemberFromCache now returns the entire guildMember object that is fetched
    setRolesForMember() has a fix where an empty string as only role in .roles occurs when they have no roles (by setting it to an empty array), and properly the newly refreshed GuildMember Object or null if the guildMember is not found.
    reworded console log output from getExecutorForRoleChangeFromAuditLog()
    notated API v13 updated method to diconnect a user from voice channel (preemptive).

  persistenceService.js
    massive refactor of saveTanking() and saveUntanking() to make use of a DB, and redesigned the tankee object to not record usernames or nicknames (unnecessary, this data can be obtained via their ID and guildService appropriately, and username/nickname are now logged for posterity)
    saveUserLeaving() and saveUserJoining() functions are now Deprecated and no longer used, as the bot now handles role persistence for the drunktankRole on its own using the database records.
    getTankedUsers() function is used for all instances of obtaining tankee records, and can be have the query filter the results to only currently tanked users or limit the records to a specific user that is currently tanked.
    getTankHistory Deprecated. uses getTankedUsers() without filtering
    getUser() Deprecated. uses getTankedUsers() by filtering and passing a specific userID.
    getUserHistorical() Deprecated. combine getTankedUsers() with filter by userID and guildService.guild.member(id) to determine if the tanked user is still here or not.
    addSip() has been reworked for Database usage. Sips, along with any other allowed string (considered a "sipstring"), are stored in a table by UserID, lastSip, and each further column is named the sipString which holds the integer sipcount for that sipstring.
    addSip() now throttles users from being able to spam a sip command (currently hardcoded to 7000ms compared from their loast recorded sip). Currently the column for lastSip is compared for all sipStrings, so the throttle is applied to the entire sipCommand usage regardless of what string is passed.

  tankStatsService.js
    reworked to make use of Database fetched results, and includes new stats for untankings (Staff that care).
    added function filterTankStats(guild, user) to allow for searching the tank records based on a specific user.
    minor capitalization changes in output message, and altered typed occurrence of "Mod" to "Staff" (to reduce the notion that Barbacks are Mods within Druncord).
    changed the output of staff nicknames to be their mention handles instead. NOTE: if staff get annoyed being tagged by tankstats to the point of needing a change, implement a blank message to be sent first, get that message ID, then edit that message with the built content being sent out so pings don't occur but the tags reflect username/nickname changes.

  inviteService.js
    new file. handles obtaining all current guild invites and the stored invite data from the DB, performs some checks on usage counts, considers the fact that invites may predate the bot's recording of invites, and accounts for that using a dummy counter (number of uses on an invite prior to tracking by the bot). Handles determining which invite was most recently incrememnted by one compared to the previously known counts.
    if an incremented invite cannot be ascertained, and the used invite of a joiner is unknown, all invites in the DB will have their dummy counts fixed to reflect proper counts and uses.
    There are 2 tables containing invite data: one for the invite itself (contains invite code, inviter user ID, tracked uses, dummy count, and whether the invite has been deleted), the other table has a list of invite uses (arranged by joindatetime, code, and userID).

  bufferService.js
    new file. averts errors of invalid channel, and prevents loss of the output log messages, by saving message content for a log channel when that channel doesn't actually exist (deleted channel). When the server config has a valid channel for a particular log group, all saved messages are sent to the valid log channel, and the records are purged from the buffers table in the DB.

  syncTankService.js
    Deprecated, and unchanged. may be repurposed for auto-untanking after time served.

commands/
  checkTankCommand.js
    refactored to handle the data organized from the database records. data gets organized a little different now to make searching and iterating through it all a bit faster and easier. for data structure, see persistenceService.getTankedUsers().
    due to explicit handling of what userID is used when a tanking botUser doesn't exist, which should be impossible anyway, the conditional check of obj.tanked_by == "Unknown" will never be true, so the output of the bot "learning" about an unknown tankee won't ever happen. consider removing it or move it to a promise rejection handler.

  commandParser.js
    updated countedStrings to reference only the columns in the sips table (except userID and lastSip). This effectively configures a server's sipStrings allowed by simply tracking them.
    There is currently no handler or command to add, update, or remove a sipString - needs to be handled in the DB manually by altering the table structure itself. Might eventually implement botMasterRole to be allowed to use such a command.
    considering Deprecating the catch of mistakes (double prefix, prefix + space, prefix + p) as we simply don't handle anything that isn't a case of command.
    reworked the test of whether a user has the right to use the bot based on botUserRole, botMasterRole, or if they have the Administrator privilege.
    added case for "config" command.
    case "syncTank" Deprecated and removed (commented). Considering repurpose of command to be an automated process to untank users that have served their time (triggered on every handled event).
    no longer need to inject config to anything, now deprectaed and removed (commented).
    wrote an explicit check whereby an unconfigured server doesn't respond to commands at all, unless the command is specifically ".configure" (default prefix with "configure", not "config") and it is used by a user that has Administrator. This configure command only works whilst the server has not fully been configured, and assists in setting up the default configs and walks the admin through the process of getting the server ready.

  helpCommand.js
    used another variable to short reference the server configured command prefix for cleaner and shorter code.
    added help entry for "config" command.
    "synctank" command Deprecated and removed (commented out).

  sipCommand.js
    implemented sipCommand use throttling (hard-coded wait time set in persistenceService.addSip())
    hard-coded responses when sip is throttled.
    refactored existing responses for sips to reference the string that triggered the command (in case other words are allowed) NOTE: due to how the English language is, it may be beneficial to include a table of the sip strings with their permutations of past-tense/plural/present-tense-ing/etc so the proper references don't have to be hard-coded with a ton of regex cases that try to figure out how to properly spell the word (such as trying to figure out how not to mispell sipping and farting, etc.).
    added an ego-boosting message that gets triggered when Sindrah triggers the sipCommand, but the command only responds as though the string is "sip". NOTE: Sindrah has never had sip counts, and doesn't care to, but decided to make this message just in case anyone ever asked him what his sip count is, and decided it would be better and funnier instead of abusing DB access and setting his own sipcount to some godawful number. Stevie_pricks had a sipcount and still uses the command, so no ego-boosting message was implemented (yet).
    sip command is ignored if sent in the tankChannel of the server. By logic flow, Sindrah's personal ego boosting message response can be performed in the tank channel (can be moved under the tankChannel check if it bugs anyone).

  sipStatsCommand.js
    refactored for structure and data coming from the database.
    output shows Display name in server with user tag in parentheses and their count (recently hotfixed from using @mention handlers in order to close a flaw whereby a user could spam tag the top 5).

  tankCommand.js
    moved the variables that fetch a member object for tankee, author, and the drunktankRole, to occur after we validate the arguments are correct in count. nothing bad really happens the original way, but there is no reason to continue if the command is invalid.

  tankStatsCommand.js
    command handle now accepts a second argument to be a user mention handle or a user ID (checked in that order). If a valid user is passed, will pass the user ID obtained from the command to filter the tankstats records by that user as the tanker or the tankee, otherwise just performs normal tankstats with the new untank data.

  untankCommand.js
    altered how we check for valid token length (now checks if first array element of tokens is an empty string -- failing to provide anything after the command results in a single element array that contains an empty string, which will pass as true in the previous method).
    wrote a check for when the user mention cannot be utilized due to the user leaving before the untnak command gets run (the user mention fails because the handle now contains a bang character after the @ sign, and message.mentions.users only contains users that are still in the guild).
    If the check determines the user is gone, we also need to bypass the function validateMentions() because there won't be a valid mention in the command. Instead, their ID number is sifted by stripping the opening and closing bracket characters for the mention handle in the message (that contains a "!").
    Modify untank message to not show as much detail as normal. Single line saying "author.mention untanked tankee.user.tag (ID), but they aren't in the server anymore.", then close out their tank record with reason "Time served - Cleanup user not in server".
    removed output mention of running synctank command (command Deprecated).

  configCommand.js
    new file. handles all aspects of .configure (unconfigured server and run by Admin) and .config (configured and running server and executed by botMasterRole or Admin).
    allows altering of server configuration without having to stop/restart the bot.
    using .config(ure) help produces the current server configuration and its available command options
    Each command option has its own help output for usage and guidance.
    configuring a server generates unique tables for recording all data by this bot.
    allows explicit reloading of server configuration for the server the command is executed on.

  syncTankCommand.js
    Deprecated, and unchanged. may be repurposed for auto-untanking after time served.

helpers/
  helpers.js
    added fisherYates() shuffle algorithm
    updated validateMentions to properly respond generically instead of explicitly assuming the command used was "tank", and properly includes whether a reason is required or optional (based on command used).
    changed the the term "@'d" to "@mentioned"
    doesUserHaveRole() Deprecated and removed (no longer in file). This function is highly unnecessary due to the passing of the very object that can be checked inline using .includes() with less characters than it takes to call this function.
    getAtString Deprecated and removed (commented out). Another function that takes more characters to call than just doing it inline and provides no logical checking.
    updated algorithm for removeRoleFRomArray to use the .forEach() method instead of a plain for loop, and we return the roleArray after whatever is done, if anything. Empty array is returned if we get undefined at the start, which happens when there are no roles.
    added convertDataFromDB() function to normalize the data types coming from the database and implicitly set default values if anything is invalid.
    NOTE: Need to double check for any more functions that are not called or used anymore that were not specifically mentioned as being Deprecated, and identify functions that are written with a narrow usage for a single service/command/event and move them to that file; no reason to have a single-purpose function get bumped around.

  messages.js
    altered confirm_message to confirm_tank_message
    all functions referencing a user's name in any way now have the user/guildmember object itself, and make use of a user mention or their in server Display Name and include tag and ID.
    confirmation messages don't tag the botUser, they use guildMember.displayName.
    Tanked/Untanked messages in the log channel mention both the tanker and tankee, and now include user.tag and user.id of the botUser for posterity (staff changed their names frequently, and on odd occaisions, lots of staff set their name to the same name for a fun time, this would have been utter chaos if everyone had the same name at the time).
    log_blue_untank_msg now implements untank reason (default "Assumed Time Served" set by function calling this function).
    tank_msg now @mentions the tanked user
    added user_leave_msg, user_join_msg, user_name_change, and log_role_change to handle special logging of user information when they leave, join, change their name, or a role is granted/removed outside of tanking/untanking.

  logger.js
    no changes.

  KNOWN ISSUES
  .configure command on an unconfigured server did not work to initially configure a server (had to manually create the tables and manually insert the server configuration due to a hasty bot swapover). The entire command did work in testing when hosted on a PC using GIT-CLI, but failed miserably when hosted on the production linux server. Requires further testing with another discord server and debugging.

  many events are being fired twice (and subsequently caught twice), or are being retriggered after getting handled (such as Tank/Untank messages being sent twice, one for the botUser as the tanker, the second as TankCommander being the Tanker, or users joining/leaving are generating duplicate join/leave logs). This is benign and does not affect the recorded data of the occurrences, but it can be annoying to have double logs for each action that may contain mention handles, plus it may just serve to clog up the log channels. Need to look into why a second triggering occurs and come up with a way to identify duplicate triggered events and just drop them.

  tankStats was designed to allow for searching tank records by a specific user and would show stats for that user (such as how many times they were tanked, what staff members tanked them, etc) and if that user was staff it would show all users they tanked and provide stats based on that. Probably something silly and simple, but specific tankstats are not working.

  checktank will display users that are still serving time but have left or been banned (except when a ban is issued with a tanked user still in server, their record gets closed as part of the catch). Users that were kicked or left are intentionally displayed at this time to show who is still serving time, in case they return, but banned users that already left don't get picked up (not a bug, it's due to how we handle and catch bans by comparing the banlist after a user leaves rather than listening for a GuildBanAdd event - which was not working during testing so that emthod was abandoned). The best idea to combat this shortcoming so botUsers don't have to manually .untank banned users stuck in the tank is to implement an auto-untank procedure on all time-served records, which also makes botUser's work less involved by not having to untank people that serve their time.

  invites are not getting properly handled when it involves the vanity URL. This could not be tested due to lacking boost level 3 on a test server - this will be difficult to test without having to restart the bot on every change/attempt. If we are to truly test this, either we need to boost a test server, find a way to have our services/commands reloaded on each event trigger so the bot doesn't have to be restarted after a testing change, or we will need to test it using another bot in the boosted server.

  bufferService has not been tested in the production server environment, just the testing environment (worked well, but considering some things worked in testing and failed completely in production, this needs attention).

  ClientService has not been implemented yet (not certain what it was supposed to be for, but my best guess is moving all the client.on() listeners from main.js to its own service).

  There are tons of occurrences that result in Promise Rejections, which are being deprecated and will result in terminating our node.js process (fully blow up the bot and require a manual restart). Top Priority is to write explicit promise rejection handlers and exception handlers for EVERYTHING before this change occurs.

  If there is anything I forgot or failed to discover thus far, I'll open a ticket on it.

---
## [1Turtle/AdventOfCode](https://github.com/1Turtle/AdventOfCode)@[7dc3c1ec84...](https://github.com/1Turtle/AdventOfCode/commit/7dc3c1ec84677f7fda58f527ca02418fd3e81deb)
#### Saturday 2021-12-04 15:56:44 by Sammy

Solved day 4

Time: 5h and 30min
Listen. I hate my life. I didn't read, that the 13 is EVENTUALLY called in the example...

---
## [clarencelol/kernel_xiaomi_sdm660-4.19](https://github.com/clarencelol/kernel_xiaomi_sdm660-4.19)@[5401dac81b...](https://github.com/clarencelol/kernel_xiaomi_sdm660-4.19/commit/5401dac81b28561112f5deb995342aabdbdd8f9e)
#### Saturday 2021-12-04 17:19:03 by Peter Zijlstra

sched/core: Fix ttwu() race

Paul reported rcutorture occasionally hitting a NULL deref:

  sched_ttwu_pending()
    ttwu_do_wakeup()
      check_preempt_curr() := check_preempt_wakeup()
        find_matching_se()
          is_same_group()
            if (se->cfs_rq == pse->cfs_rq) <-- *BOOM*

Debugging showed that this only appears to happen when we take the new
code-path from commit:

  2ebb17717550 ("sched/core: Offload wakee task activation if it the wakee is descheduling")

and only when @cpu == smp_processor_id(). Something which should not
be possible, because p->on_cpu can only be true for remote tasks.
Similarly, without the new code-path from commit:

  c6e7bd7afaeb ("sched/core: Optimize ttwu() spinning on p->on_cpu")

this would've unconditionally hit:

  smp_cond_load_acquire(&p->on_cpu, !VAL);

and if: 'cpu == smp_processor_id() && p->on_cpu' is possible, this
would result in an instant live-lock (with IRQs disabled), something
that hasn't been reported.

The NULL deref can be explained however if the task_cpu(p) load at the
beginning of try_to_wake_up() returns an old value, and this old value
happens to be smp_processor_id(). Further assume that the p->on_cpu
load accurately returns 1, it really is still running, just not here.

Then, when we enqueue the task locally, we can crash in exactly the
observed manner because p->se.cfs_rq != rq->cfs_rq, because p's cfs_rq
is from the wrong CPU, therefore we'll iterate into the non-existant
parents and NULL deref.

The closest semi-plausible scenario I've managed to contrive is
somewhat elaborate (then again, actual reproduction takes many CPU
hours of rcutorture, so it can't be anything obvious):

					X->cpu = 1
					rq(1)->curr = X

	CPU0				CPU1				CPU2

					// switch away from X
					LOCK rq(1)->lock
					smp_mb__after_spinlock
					dequeue_task(X)
					  X->on_rq = 9
					switch_to(Z)
					  X->on_cpu = 0
					UNLOCK rq(1)->lock

									// migrate X to cpu 0
									LOCK rq(1)->lock
									dequeue_task(X)
									set_task_cpu(X, 0)
									  X->cpu = 0
									UNLOCK rq(1)->lock

									LOCK rq(0)->lock
									enqueue_task(X)
									  X->on_rq = 1
									UNLOCK rq(0)->lock

	// switch to X
	LOCK rq(0)->lock
	smp_mb__after_spinlock
	switch_to(X)
	  X->on_cpu = 1
	UNLOCK rq(0)->lock

	// X goes sleep
	X->state = TASK_UNINTERRUPTIBLE
	smp_mb();			// wake X
					ttwu()
					  LOCK X->pi_lock
					  smp_mb__after_spinlock

					  if (p->state)

					  cpu = X->cpu; // =? 1

					  smp_rmb()

	// X calls schedule()
	LOCK rq(0)->lock
	smp_mb__after_spinlock
	dequeue_task(X)
	  X->on_rq = 0

					  if (p->on_rq)

					  smp_rmb();

					  if (p->on_cpu && ttwu_queue_wakelist(..)) [*]

					  smp_cond_load_acquire(&p->on_cpu, !VAL)

					  cpu = select_task_rq(X, X->wake_cpu, ...)
					  if (X->cpu != cpu)
	switch_to(Y)
	  X->on_cpu = 0
	UNLOCK rq(0)->lock

However I'm having trouble convincing myself that's actually possible
on x86_64 -- after all, every LOCK implies an smp_mb() there, so if ttwu
observes ->state != RUNNING, it must also observe ->cpu != 1.

(Most of the previous ttwu() races were found on very large PowerPC)

Nevertheless, this fully explains the observed failure case.

Fix it by ordering the task_cpu(p) load after the p->on_cpu load,
which is easy since nothing actually uses @cpu before this.

Fixes: c6e7bd7afaeb ("sched/core: Optimize ttwu() spinning on p->on_cpu")
Reported-by: Paul E. McKenney <paulmck@kernel.org>
Tested-by: Paul E. McKenney <paulmck@kernel.org>
Signed-off-by: Peter Zijlstra (Intel) <peterz@infradead.org>
Signed-off-by: Ingo Molnar <mingo@kernel.org>
Link: https://lkml.kernel.org/r/20200622125649.GC576871@hirez.programming.kicks-ass.net
Signed-off-by: Adam W. Willis <return.of.octobot@gmail.com>
Signed-off-by: clarencelol <clarencekuiek@icloud.com>

---
## [SimLej18/B2NH](https://github.com/SimLej18/B2NH)@[d0e4ad169b...](https://github.com/SimLej18/B2NH/commit/d0e4ad169bef7de70dcfbbd56147d67ba1faad03)
#### Saturday 2021-12-04 17:39:49 by Ushien

Bug fixing

A Bug's Life is a 1998 American computer-animated comedy film produced by Pixar Animation Studios for Walt Disney Pictures. It was the second film produced by Pixar. Directed by John Lasseter and co-directed and written by Andrew Stanton, the film involves a misfit ant, Flik, who is looking for "tough warriors" to save his colony from a protection racket run by Hopper's gang of grasshoppers. Unfortunately, the "warriors" he brings back turn out to be an inept troupe of Circus Bugs.

The film was initially inspired by Aesop's fable The Ant and the Grasshopper.[3][4] Production began shortly after the release of Toy Story in 1995. The screenplay was penned by Stanton and comedy writers Donald McEnery and Bob Shaw from a story by Lasseter, Stanton, and Ranft. The ants in the film were redesigned to be more appealing, and Pixar's animation unit employed technical innovations in computer animation. Randy Newman composed the music for the film. During production, a controversial public feud erupted between Steve Jobs and Lasseter of Pixar and DreamWorks co-founder Jeffrey Katzenberg due to the parallel production of his similar film Antz, which was released the same year.

The film was released on November 20, 1998, received positive reviews and grossed $363 million at the box office. It was the first film to be digitally transferred frame-by-frame and released on DVD, and has been released multiple times on home video.

---
## [mrakgr/The-Spiral-Language](https://github.com/mrakgr/The-Spiral-Language)@[5831e4d19b...](https://github.com/mrakgr/The-Spiral-Language/commit/5831e4d19b917ac3fa3f29f06b5c6c54665b8647)
#### Saturday 2021-12-04 18:58:38 by Marko Grdinić

"11:10am. I slept deeply tonight.

I really have to praise Library of Ruina's battles. It is not like a regular RPG where you get OP at some point and then just breeze through the rest. I am constantly forced to strategize and improve. Yesterday with Pluto for example, he makes a bunch of shades which copy my own guy's cards, but have infinite light. They become much easier to handle if you fill up the hand with defensive cards. Despite going through most of the game, this is the first time I've build a defensive team like this.

I've looked at the guide online, at it keeps giving suggestions that are significantly different from my own strategies.

11:25am. The OpenAI ES update is one thing, but if you were to adopt it, how would you update the covariance matrix in that case? Sigh. The way that update works with the multiplication like the noise feels more like it should be for the covariance matrix in fact rather than the median. The thing about these updates is that as long as it is pushing in the right direction it should work regardless. It will just work poorly. But massive computational effort can make up for that.

Well, let me chill. After it is time to start what I will do is watch Flycat again. After that I will work on that 3d Loomis head. After that I will try to model the head as a skull.

1:30pm. Done with breakfast and chores. 5m more and then I will watch the Flycat vid. I want to check more carefully how he constructs the head shape. I'll just forget the eyes exist because the eyes seem to trigger something in my brain that causes me to stumble. Instead the abstract head shape is what I need to focus. In my first sculpt it is just a bunch of polished jello which is why the face looks like a baby's.

1:40pm. Focus me. Let me start.

https://youtu.be/VzMAh66ofq0?t=627

Yeah, in order to understand the head shape, you need to imagine the skull underneath and how it connects the neck. Now way can you based things of just curvature.

https://youtu.be/VzMAh66ofq0?t=632

Note the indent where the temples should be.

https://youtu.be/VzMAh66ofq0?t=646

Her forehead has a rather sharp angle. SpeedChar mentioned that it is males which tend to have a smooth upper curve for some reason.

https://youtu.be/VzMAh66ofq0?t=652

Here are the eyes. The temple areas has a straight curve. Though, I'd like to see the head from above to make sure that there is a bit of a curve leading in.

Hmmm, I should do a little experiment. If the side of the head have a boxy shape then the sides of the face should not be visible.

Ah, wait, I think I see it.

I think a huge problem with my own face is that it is too round. If you look at the skull's eye cavity, you'll see that there is a bony separating it from the temple side and that it is pretty straight.

But if you look at my own face, just where would that bone be? Quite a distance away from the eye. This is why no matter how I position the eye it always looks off to me.

Ok, that clears up one mistery. But in that case what about the forehead? I Honestly though that the forehead itself was fine, but now I have reason to suspect it.

https://youtu.be/VzMAh66ofq0?t=650

With this kind of cavity you can really see how the side bone is pronounced.

https://youtu.be/VzMAh66ofq0?t=653

These eyes are actually quite large. They are larger than the regular ones.

I forgot exactly what the normals one should be, SpeedChar went into detail on that yesterday, but these are obviously too big.

2:05pm. https://youtu.be/VzMAh66ofq0?t=672

I am trying to get a sense of how the bone structure of this face would work and am realizing just how irregular this face is. The eyes are very wide And the sidebones would need to be quite a ways back to accomodate this kind of structure.

The reason the eyes seem smaller in the end result is because they are quite well coevered.

But what would the cheek bones even be for such a skull? Looking at this, what I see in front should be on the side in a regular face.

https://youtu.be/VzMAh66ofq0?t=680

He is straigtening up the face here by pulling the sides forward. It is fairly hard to see what he is doing even at full slowmo.

https://youtu.be/VzMAh66ofq0?t=681

He makes the eyes a tad shorter here and moves them inwardly.

https://youtu.be/VzMAh66ofq0?t=715

The cheek is quite a bit fatter than the temple.

https://youtu.be/VzMAh66ofq0?t=761

Here he has been doing some shaping of the forehead, but it is really hard for me to see what is happening. Though the likely bet is not that he is smoothing it. The whole face is deceptively smooth.

https://youtu.be/VzMAh66ofq0?t=773

Those lines below the eyes,  is that supposed to be connecting the eye to the cheekbone?

2:25pm. Ok, I watched this. Flycat is really fast at making the face, but in real time he probably worked on it for at least an hour.

2:30pm. Sigh. Let me watch the video by SpeedChar again. I feel like I almost got it. I need to triangulate Flycat's work with SpeedChar's more realistic model.

If I can get the head shape right, then doing everything else will become much easier.

2:30pm. Let me watch it. Then I will take a break. If I can deal with the face I will have crossed a hurdle.

https://youtu.be/wSKsmyV9ISk
Female head from sphere in Zbrush How to model and draw a female head with live narration

Let me watch this again.

2:40pm. Let me speed it up.

3:10pm. https://youtu.be/wSKsmyV9ISk?t=3165

Ah, so this is that line. Yeah, it is the connector muscle between the eyelid and the cheek. As I said, the face is deceptively smooth.

3:20pm. Let me take a break. I watched head sculpting videos a zillion times by now. I am going to get it right the next time around.

3:30pm. Let me start. Let me just get this thing finally out of the way. I can't work on this damn mesh forever. Just how long ago did I start sculpting? It is time I get back to drawing.

3:40pm. Hmm, I am thinking about the chin. My own right now has 3 planes when it should only have two.

Let me compare it with the loomis model from CSP. The stupid thing takes so long to start up.

I suppose it is fine if it agnular.

The one by SpeedChar is definitely sharp. The one by Flycat I need a better reference.

3:50pm. No, I do not think even Flycat's is angular.

https://youtu.be/VzMAh66ofq0?t=928

Nope.

4:45pm. Mhhh...I got it. I finally got the eyes right. I also understand why eyes are not dead center, but somewhat in the corner. That is so the eyelids can be positioned relative to one another. SpeedChar noted that the upper eyelid should be in front or equal to the lower one. The best way to adjust the curvature is to move the eye up a bit.

4:45pm. Wonderful, wonderful. I can use this as a basis for touching up the rest of the face. Let me take a break here. With the eyes set, all I have to do is make the rest of the face good looking enough. I'll do the mouth and the nose properly and then smooth while putting volume in the right places.

5:20pm. I am back. Now where was I? Let me work on the face more. I keep thinking about genetic algos, as I've been wondering about OpenAI ES vs vanilla, but I need to keep that out of mind. I do not have the means to scale them either way. AI chips will have to fall into my hands before I can resume progress in ML.

What I need to progress in is sculpting. Let me finish this project.

5:45pm. I've started work on the mouth. The nose is done. I am decent at those.

Lunch time.

When I get back I am going to have to look at the mouth parts more specifically. I am not really sure how to do that part yet.

6:20pm. I am back.

Let me watch how the mouth is done. I need some tips.

https://youtu.be/VzMAh66ofq0?t=658

Here he is working on the mouth.

6:25pm. As an aside, my neighboor has corona, and my father's throat hurts. If my posts cease a few weeks from now, well...

You really do need a decent amount of luck to live long life. I could die due to an accident before reaching the Singularity and it would all be for nothing.

But as long as I am alive I will keep moving forward.

https://youtu.be/VzMAh66ofq0?t=673

https://youtu.be/VzMAh66ofq0?t=681

Hmmm, it is not that hard. Ok, let me do this.

6:55pm. I made the lips too small, but elastic deform scale bailed me out.

7:10pm. I am still working on the lips. I got the width right away, but has taken me time to accept that they need to be a lot thicker. I got them at least 2-3 times too thin originally.

7:35pm. Maybe I should just fucking stop. It is not that I am looking at the reference. It is just that I do not comprehend it.

7:40pm. I remember having this kind of trouble with the lips last time. Ok, forget it.

I am going to have to leave this for tomorrow. Sigh, I just can't win at this. But I made a defite step forward in my comprehension today. After I deal with the mouth and general curvature of the face, the mesh will be complete. It might be worth it to leave the mouth as it is and get those wrecked cheeks done first. I am getting the sense that the eyes are in place, but the stuff below it is just messed up. It might be good to just do a mouth tutorial.

7:45pm. BTC is finally breaking its upwards trend. If it can continue to go down in the weeks and the months ahead maybe the GPU prices can finally get some reprieve. Maybe I am reading too much into a single day's price action, but if it was really in a strong uptrend it would make up for this kind of loss in the next week or two. But at this point it was really a longshot for it to break above 60. No financial instrument goes up forever. This selloff is definitely related to the one in the general market.

Forget arm-chair trading. Library of Ruina is waiting for me. It is time to chill.

In terms of forcing me to really understand the structure of what I am trying to model, sculpting is really excellent. It is forcing me to focus on the smallest of details.

7:55pm. My brain is just so lazy when it comes to bringing the essence of an object out. I could not be doing this unless I was no-lifing it. I can only keep going forward and hope that I won't be so slow in the future. If somebody asked me what I accomplished, I could not say that I did much.

But slow steps are the only way I can progress. For that mystical sliver of power that eludes me, I will keep trudging through the desert."

---
## [LJmartin94/AdventOfCode_2021](https://github.com/LJmartin94/AdventOfCode_2021)@[1b5cc4f6b6...](https://github.com/LJmartin94/AdventOfCode_2021/commit/1b5cc4f6b6f2fef7c9f2e8c9e615b6a1c9708c24)
#### Saturday 2021-12-04 19:10:58 by LJmartin94

This is driving me crazy. I discovered my answer wasnt correct because the bingo boards werent saved properly, they are all identical copies of the last board, so the puzzle solves only for the last board as if it were the first to complete. However, I cannot for the FUCKING LIFE OF ME figure out why everything is a copy of the last board. Ive rewritten the codes to save the bingo boards hundreds of times now, and when I print out the variables at every intermediate stage everything works. But by the end, as if by fucking magic, everything is again just a copy of the final board?

---
## [ctm/Bataan-Memorial-Death-March](https://github.com/ctm/Bataan-Memorial-Death-March)@[80d738c6ee...](https://github.com/ctm/Bataan-Memorial-Death-March/commit/80d738c6eea6fc9c19a8c5bc64279ce89e071574)
#### Saturday 2021-12-04 19:15:46 by Clifford T. Matthews

Includes today's bosque pack run.

FWIW, I had some trouble with my right foot and right knee. I decided
to run based on my HR, rather than my pace.  I did a negative split
w.r.t. to HR, but overall my time was pretty slow.  It was 45F when I
finished, so I don't think I can blame all of my slowdown on the heat.

I only kitted up my pack yesterday evening and a bunch of the weight
was a 20 lb. dumbbell.  I think it shifted here and there.
Additionally, I had a 5 lb. plate in the same compartment as my 70
oz. of water.  After I had exhasuted my two 20 oz. bottles, I tried to
draw from my bladder but got air.  Due to this I wound up drinking
less water and consuming fewer calories than last year.

Luckily, it's the beginning of the season and there's plenty of time
for me to improve.

---
## [ishtar38/ishtar38](https://github.com/ishtar38/ishtar38)@[0c90a6890f...](https://github.com/ishtar38/ishtar38/commit/0c90a6890fef931b50dca4e2dd57f22550f3a584)
#### Saturday 2021-12-04 19:20:51 by Tasha Simpson

 git diff $(git merge-base A HEAD).  git diff [<options>] [--merge-base] <commit> <commit> [--] [<path>…​] This is to view the changes between two arbitrary <commit>.  If --merge-base is given, use the merge base of the two commits for the "before" side. git diff --merge-base A B is equivalent to git diff $(git merge-base A B) B.  git diff [<options>] <commit> <commit>…​ <commit> [--] [<path>…​] This form is to view the results of a merge commit. The first listed <commit> must be the merge itself; the remaining two or more commits should be its parents. A convenient way to produce the desired set of revisions is to use the ^@ suffix. For instance, if master names a merge commit, git diff master master^@ gives the same combined diff as git show master.  git diff [<options>] <commit>..<commit> [--] [<path>…​] This is synonymous to the earlier form (without the ..) for viewing the changes between two arbitrary <commit>. If <commit> on one side is omitted, it will have the same effect as using HEAD instead.  git diff [<options>] <commit>...<commit> [--] [<path>…​] This form is to view the changes on the branch containing and up to the second <commit>, starting at a common ancestor of both <commit>. git diff A...B is equivalent to git diff $(git merge-base A B) B. You can omit any one of <commit>, which has the same effect as using HEAD instead.  Just in case you are doing something exotic, it should be noted that all of the <commit> in the above description, except in the --merge-base case and in the last two forms that use .. notations, can be any <tree>.  For a more complete list of ways to spell <commit>, see "SPECIFYING REVISIONS" section in gitrevisions[7]. However, "diff" is about comparing two endpoints, not ranges, and the range notations (<commit>..<commit> and <commit>...<commit>) do not mean a range as defined in the "SPECIFYING RANGES" section in gitrevisions[7].  git diff [<options>] <blob> <blob> This form is to view the differences between the raw contents of two blob objects.  OPTIONS -p -u --patch Generate patch (see section on generating patches). This is the default.  -s --no-patch Suppress diff output. Useful for commands like git show that show the patch by default, or to cancel the effect of --patch.  -U<n> --unified=<n> Generate diffs with <n> lines of context instead of the usual three. Implies --patch.  --output=<file> Output to a specific file instead of stdout.  --output-indicator-new=<char> --output-indicator-old=<char> --output-indicator-context=<char> Specify the character used to indicate new, old or context lines in the generated patch. Normally they are +, - and ' ' respectively.  --raw Generate the diff in raw format.  --patch-with-raw Synonym for -p --raw.  --indent-heuristic Enable the heuristic that shifts diff hunk boundaries to make patches easier to read. This is the default.  --no-indent-heuristic Disable the indent heuristic.  --minimal Spend extra time to make sure the smallest possible diff is produced.  --patience Generate a diff using the "patience diff" algorithm.  --histogram Generate a diff using the "histogram diff" algorithm.  --anchored=<text> Generate a diff using the "anchored diff" algorithm.  This option may be specified more than once.  If a line exists in both the source and destination, exists only once, and starts with this text, this algorithm attempts to prevent it from appearing as a deletion or addition in the output. It uses the "patience diff" algorithm internally.  --diff-algorithm={patience|minimal|histogram|myers} Choose a diff algorithm. The variants are as follows:  default, myers The basic greedy diff algorithm. Currently, this is the default.  minimal Spend extra time to make sure the smallest possible diff is produced.  patience Use "patience diff" algorithm when generating patches.  histogram This algorithm extends the patience algorithm to "support low-occurrence common elements".  For instance, if you configured the diff.algorithm variable to a non-default value and want to use the default one, then you have to use --diff-algorithm=default option.  --stat[=<width>[,<name-width>[,<count>]]] Generate a diffstat. By default, as much space as necessary will be used for the filename part, and the rest for the graph part. Maximum width defaults to terminal width, or 80 columns if not connected to a terminal, and can be overridden by <width>. The width of the filename part can be limited by giving another width <name-width> after a comma. The width of the graph part can be limited by using --stat-graph-width=<width> (affects all commands generating a stat graph) or by setting diff.statGraphWidth=<width> (does not affect git format-patch). By giving a third parameter <count>, you can limit the output to the first <count> lines, followed by ... if there are more.  These parameters can also be set individually with --stat-width=<width>, --stat-name-width=<name-width> and --stat-count=<count>.  --compact-summary Output a condensed summary of extended header information such as file creations or deletions ("new" or "gone", optionally "+l" if it’s a symlink) and mode changes ("+x" or "-x" for adding or removing executable bit respectively) in diffstat. The information is put between the filename part and the graph part. Implies --stat.  --numstat Similar to --stat, but shows number of added and deleted lines in decimal notation and pathname without abbreviation, to make it more machine friendly. For binary files, outputs two - instead of saying 0 0.  --shortstat Output only the last line of the --stat format containing total number of modified files, as well as number of added and deleted lines.  -X[<param1,param2,…​>] --dirstat[=<param1,param2,…​>] Output the distribution of relative amount of changes for each sub-directory. The behavior of --dirstat can be customized by passing it a comma separated list of parameters. The defaults are controlled by the diff.dirstat configuration variable (see git-config[1]). The following parameters are available:  changes Compute the dirstat numbers by counting the lines that have been removed from the source, or added to the destination. This ignores the amount of pure code movements within a file. In other words, rearranging lines in a file is not counted as much as other changes. This is the default behavior when no parameter is given.  lines Compute the dirstat numbers by doing the regular line-based diff analysis, and summing the removed/added line counts. (For binary files, count 64-byte chunks instead, since binary files have no natural concept of lines). This is a more expensive --dirstat behavior than the changes behavior, but it does count rearranged lines within a file as much as other changes. The resulting output is consistent with what you get from the other --*stat options.  files Compute the dirstat numbers by counting the number of files changed. Each changed file counts equally in the dirstat analysis. This is the computationally cheapest --dirstat behavior, since it does not have to look at the file contents at all.  cumulative Count changes in a child directory for the parent directory as well. Note that when using cumulative, the sum of the percentages reported may exceed 100%. The default (non-cumulative) behavior can be specified with the noncumulative parameter.  <limit> An integer parameter specifies a cut-off percent (3% by default). Directories contributing less than this percentage of the changes are not shown in the output.  Example: The following will count changed files, while ignoring directories with less than 10% of the total amount of changed files, and accumulating child directory counts in the parent directories: --dirstat=files,10,cumulative.  --cumulative Synonym for --dirstat=cumulative  --dirstat-by-file[=<param1,param2>…​] Synonym for --dirstat=files,param1,param2…​  --summary Output a condensed summary of extended header information such as creations, renames and mode changes.  --patch-with-stat Synonym for -p --stat.  -z When --raw, --numstat, --name-only or --name-status has been given, do not munge pathnames and use NULs as output field terminators.  Without this option, pathnames with "unusual" characters are quoted as explained for the configuration variable core.quotePath (see git-config[1]).  --name-only Show only names of changed files. The file names are often encoded in UTF-8. For more information see the discussion about encoding in the git-log[1] manual page.  --name-status Show only names and status of changed files. See the description of the --diff-filter option on what the status letters mean. Just like --name-only the file names are often encoded in UTF-8.  --submodule[=<format>] Specify how differences in submodules are shown. When specifying --submodule=short the short format is used. This format just shows the names of the commits at the beginning and end of the range. When --submodule or --submodule=log is specified, the log format is used. This format lists the commits in the range like git-submodule[1] summary does. When --submodule=diff is specified, the diff format is used. This format shows an inline diff of the changes in the submodule contents between the commit range. Defaults to diff.submodule or the short format if the config option is unset.  --color[=<when>] Show colored diff. --color (i.e. without =<when>) is the same as --color=always. <when> can be one of always, never, or auto. It can be changed by the color.ui and color.diff configuration settings.  --no-color Turn off colored diff. This can be used to override configuration settings. It is the same as --color=never.  --color-moved[=<mode>] Moved lines of code are colored differently. It can be changed by the diff.colorMoved configuration setting. The <mode> defaults to no if the option is not given and to zebra if the option with no mode is given. The mode must be one of:  no Moved lines are not highlighted.  default Is a synonym for zebra. This may change to a more sensible mode in the future.  plain Any line that is added in one location and was removed in another location will be colored with color.diff.newMoved. Similarly color.diff.oldMoved will be used for removed lines that are added somewhere else in the diff. This mode picks up any moved line, but it is not very useful in a review to determine if a block of code was moved without permutation.  blocks Blocks of moved text of at least 20 alphanumeric characters are detected greedily. The detected blocks are painted using either the color.diff.{old,new}Moved color. Adjacent blocks cannot be told apart.  zebra Blocks of moved text are detected as in blocks mode. The blocks are painted using either the color.diff.{old,new}Moved color or color.diff.{old,new}MovedAlternative. The change between the two colors indicates that a new block was detected.  dimmed-zebra Similar to zebra, but additional dimming of uninteresting parts of moved code is performed. The bordering lines of two adjacent blocks are considered interesting, the rest is uninteresting. dimmed_zebra is a deprecated synonym.  --no-color-moved Turn off move detection. This can be used to override configuration settings. It is the same as --color-moved=no.  --color-moved-ws=<modes> This configures how whitespace is ignored when performing the move detection for --color-moved. It can be set by the diff.colorMovedWS configuration setting. These modes can be given as a comma separated list:  no Do not ignore whitespace when performing move detection.  ignore-space-at-eol Ignore changes in whitespace at EOL.  ignore-space-change Ignore changes in amount of whitespace. This ignores whitespace at line end, and considers all other sequences of one or more whitespace characters to be equivalent.  ignore-all-space Ignore whitespace when comparing lines. This ignores differences even if one line has whitespace where the other line has none.  allow-indentation-change Initially ignore any whitespace in the move detection, then group the moved code blocks only into a block if the change in whitespace is the same per line. This is incompatible with the other modes.  --no-color-moved-ws Do not ignore whitespace when performing move detection. This can be used to override configuration settings. It is the same as --color-moved-ws=no.  --word-diff[=<mode>] Show a word diff, using the <mode> to delimit changed words. By default, words are delimited by whitespace; see --word-diff-regex below. The <mode> defaults to plain, and must be one of:  color Highlight changed words using only colors. Implies --color.  plain Show words as [-removed-] and {+added+}. Makes no attempts to escape the delimiters if they appear in the input, so the output may be ambiguous.  porcelain Use a special line-based format intended for script consumption. Added/removed/unchanged runs are printed in the usual unified diff format, starting with a +/-/` ` character at the beginning of the line and extending to the end of the line. Newlines in the input are represented by a tilde ~ on a line of its own.  none Disable word diff again.  Note that despite the name of the first mode, color is used to highlight the changed parts in all modes if enabled.  --word-diff-regex=<regex> Use <regex> to decide what a word is, instead of considering runs of non-whitespace to be a word. Also implies --word-diff unless it was already enabled.  Every non-overlapping match of the <regex> is considered a word. Anything between these matches is considered whitespace and ignored(!) for the purposes of finding differences. You may want to append |[^[:space:]] to your regular expression to make sure that it matches all non-whitespace characters. A match that contains a newline is silently truncated(!) at the newline.  For example, --word-diff-regex=. will treat each character as a word and, correspondingly, show differences character by character.  The regex can also be set via a diff driver or configuration option, see gitattributes[5] or git-config[1]. Giving it explicitly overrides any diff driver or configuration setting. Diff drivers override configuration settings.  --color-words[=<regex>] Equivalent to --word-diff=color plus (if a regex was specified) --word-diff-regex=<regex>.  --no-renames Turn off rename detection, even when the configuration file gives the default to do so.  --[no-]rename-empty Whether to use empty blobs as rename source.  --check Warn if changes introduce conflict markers or whitespace errors. What are considered whitespace errors is controlled by core.whitespace configuration. By default, trailing whitespaces (including lines that consist solely of whitespaces) and a space character that is immediately followed by a tab character inside the initial indent of the line are considered whitespace errors. Exits with non-zero status if problems are found. Not compatible with --exit-code.  --ws-error-highlight=<kind> Highlight whitespace errors in the context, old or new lines of the diff. Multiple values are separated by comma, none resets previous values, default reset the list to new and all is a shorthand for old,new,context. When this option is not given, and the configuration variable diff.wsErrorHighlight is not set, only whitespace errors in new lines are highlighted. The whitespace errors are colored with color.diff.whitespace.  --full-index Instead of the first handful of characters, show the full pre- and post-image blob object names on the "index" line when generating patch format output.  --binary In addition to --full-index, output a binary diff that can be applied with git-apply. Implies --patch.  --abbrev[=<n>] Instead of showing the full 40-byte hexadecimal object name in diff-raw format output and diff-tree header lines, show the shortest prefix that is at least <n> hexdigits long that uniquely refers the object. In diff-patch output format, --full-index takes higher precedence, i.e. if --full-index is specified, full blob names will be shown regardless of --abbrev. Non default number of digits can be specified with --abbrev=<n>.  -B[<n>][/<m>] --break-rewrites[=[<n>][/<m>]] Break complete rewrite changes into pairs of delete and create. This serves two purposes:  It affects the way a change that amounts to a total rewrite of a file not as a series of deletion and insertion mixed together with a very few lines that happen to match textually as the context, but as a single deletion of everything old followed by a single insertion of everything new, and the number m controls this aspect of the -B option (defaults to 60%). -B/70% specifies that less than 30% of the original should remain in the result for Git to consider it a total rewrite (i.e. otherwise the resulting patch will be a series of deletion and insertion mixed together with context lines).  When used with -M, a totally-rewritten file is also considered as the source of a rename (usually -M only considers a file that disappeared as the source of a rename), and the number n controls this aspect of the -B option (defaults to 50%). -B20% specifies that a change with addition and deletion compared to 20% or more of the file’s size are eligible for being picked up as a possible source of a rename to another file.  -M[<n>] --find-renames[=<n>] Detect renames. If n is specified, it is a threshold on the similarity index (i.e. amount of addition/deletions compared to the file’s size). For example, -M90% means Git should consider a delete/add pair to be a rename if more than 90% of the file hasn’t changed. Without a % sign, the number is to be read as a fraction, with a decimal point before it. I.e., -M5 becomes 0.5, and is thus the same as -M50%. Similarly, -M05 is the same as -M5%. To limit detection to exact renames, use -M100%. The default similarity index is 50%.  -C[<n>] --find-copies[=<n>] Detect copies as well as renames. See also --find-copies-harder. If n is specified, it has the same meaning as for -M<n>.  --find-copies-harder For performance reasons, by default, -C option finds copies only if the original file of the copy was modified in the same changeset. This flag makes the command inspect unmodified files as candidates for the source of copy. This is a very expensive operation for large projects, so use it with caution. Giving more than one -C option has the same effect.  -D --irreversible-delete Omit the preimage for deletes, i.e. print only the header but not the diff between the preimage and /dev/null. The resulting patch is not meant to be applied with patch or git apply; this is solely for people who want to just concentrate on reviewing the text after the change. In addition, the output obviously lacks enough information to apply such a patch in reverse, even manually, hence the name of the option.  When used together with -B, omit also the preimage in the deletion part of a delete/create pair.  -l<num> The -M and -C options involve some preliminary steps that can detect subsets of renames/copies cheaply, followed by an exhaustive fallback portion that compares all remaining unpaired destinations to all relevant sources. (For renames, only remaining unpaired sources are relevant; for copies, all original sources are relevant.) For N sources and destinations, this exhaustive check is O(N^2). This option prevents the exhaustive portion of rename/copy detection from running if the number of source/destination files involved exceeds the specified number. Defaults to diff.renameLimit. Note that a value of 0 is treated as unlimited.  --diff-filter=[(A|C|D|M|R|T|U|X|B)…​[*]] Select only files that are Added (A), Copied (C), Deleted (D), Modified (M), Renamed (R), have their type (i.e. regular file, symlink, submodule, …​) changed (T), are Unmerged (U), are Unknown (X), or have had their pairing Broken (B). Any combination of the filter characters (including none) can be used. When * (All-or-none) is added to the combination, all paths are selected if there is any file that matches other criteria in the comparison; if there is no file that matches other criteria, nothing is selected.  Also, these upper-case letters can be downcased to exclude. E.g. --diff-filter=ad excludes added and deleted paths.  Note that not all diffs can feature all types. For instance, diffs from the index to the working tree can never have Added entries (because the set of paths included in the diff is limited by what is in the index). Similarly, copied and renamed entries cannot appear if detection for those types is disabled.  -S<string> Look for differences that change the number of occurrences of the specified string (i.e. addition/deletion) in a file. Intended for the scripter’s use.  It is useful when you’re looking for an exact block of code (like a struct), and want to know the history of that block since it first came into being: use the feature iteratively to feed the interesting block in the preimage back into -S, and keep going until you get the very first version of the block.  Binary files are searched as well.  -G<regex> Look for differences whose patch text contains added/removed lines that match <regex>.  To illustrate the difference between -S<regex> --pickaxe-regex and -G<regex>, consider a commit with the following diff in the same file:  +    return frotz(nitfol, two->ptr, 1, 0); ... -    hit = frotz(nitfol, mf2.ptr, 1, 0); While git log -G"frotz\(nitfol" will show this commit, git log -S"frotz\(nitfol" --pickaxe-regex will not (because the number of occurrences of that string did not change).  Unless --text is supplied patches of binary files without a textconv filter will be ignored.  See the pickaxe entry in gitdiffcore[7] for more information.  --find-object=<object-id> Look for differences that change the number of occurrences of the specified object. Similar to -S, just the argument is different in that it doesn’t search for a specific string but for a specific object id.  The object can be a blob or a submodule commit. It implies the -t option in git-log to also find trees.  --pickaxe-all When -S or -G finds a change, show all the changes in that changeset, not just the files that contain the change in <string>.  --pickaxe-regex Treat the <string> given to -S as an extended POSIX regular expression to match.  -O<orderfile> Control the order in which files appear in the output. This overrides the diff.orderFile configuration variable (see git-config[1]). To cancel diff.orderFile, use -O/dev/null.  The output order is determined by the order of glob patterns in <orderfile>. All files with pathnames that match the first pattern are output first, all files with pathnames that match the second pattern (but not the first) are output next, and so on. All files with pathnames that do not match any pattern are output last, as if there was an implicit match-all pattern at the end of the file. If multiple pathnames have the same rank (they match the same pattern but no earlier patterns), their output order relative to each other is the normal order.  <orderfile> is parsed as follows:  Blank lines are ignored, so they can be used as separators for readability.  Lines starting with a hash ("#") are ignored, so they can be used for comments. Add a backslash ("\") to the beginning of the pattern if it starts with a hash.  Each other line contains a single pattern.  Patterns have the same syntax and semantics as patterns used for fnmatch(3) without the FNM_PATHNAME flag, except a pathname also matches a pattern if removing any number of the final pathname components matches the pattern. For example, the pattern "foo*bar" matches "fooasdfbar" and "foo/bar/baz/asdf" but not "foobarx".  --skip-to=<file> --rotate-to=<file> Discard the files before the named <file> from the output (i.e. skip to), or move them to the end of the output (i.e. rotate to). These were invented primarily for use of the git difftool command, and may not be very useful otherwise.  -R Swap two inputs; that is, show differences from index or on-disk file to tree contents.  --relative[=<path>] --no-relative When run from a subdirectory of the project, it can be told to exclude changes outside the directory and show pathnames relative to it with this option. When you are not in a subdirectory (e.g. in a bare repository), you can name which subdirectory to make the output relative to by giving a <path> as an argument. --no-relative can be used to countermand both diff.relative config option and previous --relative.  -a --text Treat all files as text.  --ignore-cr-at-eol Ignore carriage-return at the end of line when doing a comparison.  --ignore-space-at-eol Ignore changes in whitespace at EOL.  -b --ignore-space-change Ignore changes in amount of whitespace. This ignores whitespace at line end, and considers all other sequences of one or more whitespace characters to be equivalent.  -w --ignore-all-space Ignore whitespace when comparing lines. This ignores differences even if one line has whitespace where the other line has none.  --ignore-blank-lines Ignore changes whose lines are all blank.  -I<regex> --ignore-matching-lines=<regex> Ignore changes whose all lines match <regex>. This option may be specified more than once.  --inter-hunk-context=<lines> Show the context between diff hunks, up to the specified number of lines, thereby fusing hunks that are close to each other. Defaults to diff.interHunkContext or 0 if the config option is unset.  -W --function-context Show whole function as context lines for each change. The function names are determined in the same way as git diff works out patch hunk headers (see Defining a custom hunk-header in gitattributes[5]).  --exit-code Make the program exit with codes similar to diff(1). That is, it exits with 1 if there were differences and 0 means no differences.  --quiet Disable all output of the program. Implies --exit-code.  --ext-diff Allow an external diff helper to be executed. If you set an external diff driver with gitattributes[5], you need to use this option with git-log[1] and friends.  --no-ext-diff Disallow external diff drivers.  --textconv --no-textconv Allow (or disallow) external text conversion filters to be run when comparing binary files. See gitattributes[5] for details. Because textconv filters are typically a one-way conversion, the resulting diff is suitable for human consumption, but cannot be applied. For this reason, textconv filters are enabled by default only for git-diff[1] and git-log[1], but not for git-format-patch[1] or diff plumbing commands.  --ignore-submodules[=<when>] Ignore changes to submodules in the diff generation. <when> can be either "none", "untracked", "dirty" or "all", which is the default. Using "none" will consider the submodule modified when it either contains untracked or modified files or its HEAD differs from the commit recorded in the superproject and can be used to override any settings of the ignore option in git-config[1] or gitmodules[5]. When "untracked" is used submodules are not considered dirty when they only contain untracked content (but they are still scanned for modified content). Using "dirty" ignores all changes to the work tree of submodules, only changes to the commits stored in the superproject are shown (this was the behavior until 1.7.0). Using "all" hides all changes to submodules.  --src-prefix=<prefix> Show the given source prefix instead of "a/".  --dst-prefix=<prefix> Show the given destination prefix instead of "b/".  --no-prefix Do not show any source or destination prefix.  --line-prefix=<prefix> Prepend an additional prefix to every line of output.  --ita-invisible-in-index By default entries added by "git add -N" appear as an existing empty file in "git diff" and a new file in "git diff --cached". This option makes the entry appear as a new file in "git diff" and non-existent in "git diff --cached". This option could be reverted with --ita-visible-in-index. Both options are experimental and could be removed in future.  For more detailed explanation on these common options, see also gitdiffcore[7].  -1 --base -2 --ours -3 --theirs Compare the working tree with the "base" version (stage #1), "our branch" (stage #2) or "their branch" (stage #3). The index contains these stages only for unmerged entries i.e. while resolving conflicts. See git-read-tree[1] section "3-Way Merge" for detailed information.  -0 Omit diff output for unmerged entries and just show "Unmerged". Can be used only when comparing the working tree with the index.  <path>…​ The <paths> parameters, when given, are used to limit the diff to the named paths (you can give directory names and get diff for all files under them).  Raw output format The raw output format from "git-diff-index", "git-diff-tree", "git-diff-files" and "git diff --raw" are very similar.  These commands all compare two sets of things; what is compared differs:  git-diff-index <tree-ish> compares the <tree-ish> and the files on the filesystem.  git-diff-index --cached <tree-ish> compares the <tree-ish> and the index.  git-diff-tree [-r] <tree-ish-1> <tree-ish-2> [<pattern>…​] compares the trees named by the two arguments.  git-diff-files [<pattern>…​] compares the index and the files on the filesystem.  The "git-diff-tree" command begins its output by printing the hash of what is being compared. After that, all the commands print one output line per changed file.  An output line is formatted this way:  in-place edit  :100644 100644 bcd1234 0123456 M file0 copy-edit      :100644 100644 abcd123 1234567 C68 file1 file2 rename-edit    :100644 100644 abcd123 1234567 R86 file1 file3 create         :000000 100644 0000000 1234567 A file4 delete         :100644 000000 1234567 0000000 D file5 unmerged       :000000 000000 0000000 0000000 U file6 That is, from the left to the right:  a colon.  mode for "src"; 000000 if creation or unmerged.  a space.  mode for "dst"; 000000 if deletion or unmerged.  a space.  sha1 for "src"; 0{40} if creation or unmerged.  a space.  sha1 for "dst"; 0{40} if creation, unmerged or "look at work tree".  a space.  status, followed by optional "score" number.  a tab or a NUL when -z option is used.  path for "src"  a tab or a NUL when -z option is used; only exists for C or R.  path for "dst"; only exists for C or R.  an LF or a NUL when -z option is used, to terminate the record.  Possible status letters are:  A: addition of a file  C: copy of a file into a new one  D: deletion of a file  M: modification of the contents or mode of a file  R: renaming of a file  T: change in the type of the file (regular file, symbolic link or submodule)  U: file is unmerged (you must complete the merge before it can be committed)  X: "unknown" change type (most probably a bug, please report it)  Status letters C and R are always followed by a score (denoting the percentage of similarity between the source and target of the move or copy). Status letter M may be followed by a score (denoting the percentage of dissimilarity) for file rewrites.  <sha1> is shown as all 0’s if a file is new on the filesystem and it is out of sync with the index.  Example:  :100644 100644 5be4a4a 0000000 M file.c Without the -z option, pathnames with "unusual" characters are quoted as explained for the configuration variable core.quotePath (see git-config[1]). Using -z the filename is output verbatim and the line is terminated by a NUL byte.  diff format for merges "git-diff-tree", "git-diff-files" and "git-diff --raw" can take -c or --cc option to generate diff output also for merge commits. The output differs from the format described above in the following way:  there is a colon for each parent  there are more "src" modes and "src" sha1  status is concatenated status characters for each parent  no optional "score" number  tab-separated pathname(s) of the file  For -c and --cc, only the destination or final path is shown even if the file was renamed on any side of history. With --combined-all-paths, the name of the path in each parent is shown followed by the name of the path in the merge commit.  Examples for -c and --cc without --combined-all-paths:  ::100644 100644 100644 fabadb8 cc95eb0 4866510 MM	desc.c ::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM	bar.sh ::100644 100644 100644 e07d6c5 9042e82 ee91881 RR	phooey.c Examples when --combined-all-paths added to either -c or --cc:  ::100644 100644 100644 fabadb8 cc95eb0 4866510 MM	desc.c	desc.c	desc.c ::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM	foo.sh	bar.sh	bar.sh ::100644 100644 100644 e07d6c5 9042e82 ee91881 RR	fooey.c	fuey.c	phooey.c Note that combined diff lists only files which were modified from all parents.  Generating patch text with -p Running git-diff[1], git-log[1], git-show[1], git-diff-index[1], git-diff-tree[1], or git-diff-files[1] with the -p option produces patch text. You can customize the creation of patch text via the GIT_EXTERNAL_DIFF and the GIT_DIFF_OPTS environment variables (see git[1]), and the diff attribute (see gitattributes[5]).  What the -p option produces is slightly different from the traditional diff format:  It is preceded with a "git diff" header that looks like this:  diff --git a/file1 b/file2 The a/ and b/ filenames are the same unless rename/copy is involved. Especially, even for a creation or a deletion, /dev/null is not used in place of the a/ or b/ filenames.  When rename/copy is involved, file1 and file2 show the name of the source file of the rename/copy and the name of the file that rename/copy produces, respectively.  It is followed by one or more extended header lines:  old mode <mode> new mode <mode> deleted file mode <mode> new file mode <mode> copy from <path> copy to <path> rename from <path> rename to <path> similarity index <number> dissimilarity index <number> index <hash>..<hash> <mode> File modes are printed as 6-digit octal numbers including the file type and file permission bits.  Path names in extended headers do not include the a/ and b/ prefixes.  The similarity index is the percentage of unchanged lines, and the dissimilarity index is the percentage of changed lines. It is a rounded down integer, followed by a percent sign. The similarity index value of 100% is thus reserved for two equal files, while 100% dissimilarity means that no line from the old file made it into the new one.  The index line includes the blob object names before and after the change. The <mode> is included if the file mode does not change; otherwise, separate lines indicate the old and the new mode.  Pathnames with "unusual" characters are quoted as explained for the configuration variable core.quotePath (see git-config[1]).  All the file1 files in the output refer to files before the commit, and all the file2 files refer to files after the commit. It is incorrect to apply each change to each file sequentially. For example, this patch will swap a and b:  diff --git a/a b/b rename from a rename to b diff --git a/b b/a rename from b rename to a Hunk headers mention the name of the function to which the hunk applies. See "Defining a custom hunk-header" in gitattributes[5] for details of how to tailor to this to specific languages.  Combined diff format Any diff-generating command can take the -c or --cc option to produce a combined diff when showing a merge. This is the default format when showing merges with git-diff[1] or git-show[1]. Note also that you can give suitable --diff-merges option to any of these commands to force generation of diffs in specific format.  A "combined diff" format looks like this:  diff --combined describe.c index fabadb8,cc95eb0..4866510 --- a/describe.c +++ b/describe.c @@@ -98,20 -98,12 +98,20 @@@ 	return (a_date > b_date) ? -1 : (a_date == b_date) ? 0 : 1;   }  - static void describe(char *arg)  -static void describe(struct commit *cmit, int last_one) ++static void describe(char *arg, int last_one)   {  +	unsigned char sha1[20];  +	struct commit *cmit; 	struct commit_list *list; 	static int initialized = 0; 	struct commit_name *n;   +	if (get_sha1(arg, sha1) < 0)  +		usage(describe_usage);  +	cmit = lookup_commit_reference(sha1);  +	if (!cmit)  +		usage(describe_usage);  + 	if (!initialized) { 		initialized = 1; 		for_each_ref(get_name); It is preceded with a "git diff" header, that looks like this (when the -c option is used):  diff --combined file or like this (when the --cc option is used):  diff --cc file It is followed by one or more extended header lines (this example shows a merge with two parents):  index <hash>,<hash>..<hash> mode <mode>,<mode>..<mode> new file mode <mode> deleted file mode <mode>,<mode> The mode <mode>,<mode>..<mode> line appears only if at least one of the <mode> is different from the rest. Extended headers with information about detected contents movement (renames and copying detection) are designed to work with diff of two <tree-ish> and are not used by combined diff format.  It is followed by two-line from-file/to-file header  --- a/file +++ b/file Similar to two-line header for traditional unified diff format, /dev/null is used to signal created or deleted files.  However, if the --combined-all-paths option is provided, instead of a two-line from-file/to-file you get a N+1 line from-file/to-file header, where N is the number of parents in the merge commit  --- a/file --- a/file --- a/file +++ b/file This extended format can be useful if rename or copy detection is active, to allow you to see the original name of the file in different parents.  Chunk header format is modified to prevent people from accidentally feeding it to patch -p1. Combined diff format was created for review of merge commit changes, and was not meant to be applied. The change is similar to the change in the extended index header:  @@@ <from-file-range> <from-file-range> <to-file-range> @@@ There are (number of parents + 1) @ characters in the chunk header for combined diff format.  Unlike the traditional unified diff format, which shows two files A and B with a single column that has - (minus — appears in A but removed in B), + (plus — missing in A but added to B), or " " (space — unchanged) prefix, this format compares two or more files file1, file2,…​ with one file X, and shows how X differs from each of fileN. One column for each of fileN is prepended to the output line to note how X’s line is different from it.  A - character in the column N means that the line appears in fileN but it does not appear in the result. A + character in the column N means that the line appears in the result, and fileN does not have that line (in other words, the line was added, from the point of view of that parent).  In the above example output, the function signature was changed from both files (hence two - removals from both file1 and file2, plus ++ to mean one line that was added does not appear in either file1 or file2). Also eight other lines are the same from file1 but do not appear in file2 (hence prefixed with +).  When shown by git diff-tree -c, it compares the parents of a merge commit with the merge result (i.e. file1..fileN are the parents). When shown by git diff-files -c, it compares the two unresolved merge parents with the working tree file (i.e. file1 is stage 2 aka "our version", file2 is stage 3 aka "their version").  other diff formats The --summary option describes newly added, deleted, renamed and copied files. The --stat option adds diffstat(1) graph to the output. These options can be combined with other options, such as -p, and are meant for human consumption.  When showing a change that involves a rename or a copy, --stat output formats the pathnames compactly by combining common prefix and suffix of the pathnames. For example, a change that moves arch/i386/Makefile to arch/x86/Makefile while modifying 4 lines will be shown like this:  arch/{i386 => x86}/Makefile    |   4 +-- The --numstat option gives the diffstat(1) information but is designed for easier machine consumption. An entry in --numstat output looks like this:  1	2	README 3	1	arch/{i386 => x86}/Makefile That is, from left to right:  the number of added lines;  a tab;  the number of deleted lines;  a tab;  pathname (possibly with rename/copy information);  a newline.  When -z output option is in effect, the output is formatted this way:  1	2	README NUL 3	1	NUL arch/i386/Makefile NUL arch/x86/Makefile NUL That is:  the number of added lines;  a tab;  the number of deleted lines;  a tab;  a NUL (only exists if renamed/copied);  pathname in preimage;  a NUL (only exists if renamed/copied);  pathname in postimage (only exists if renamed/copied);  a NUL.  The extra NUL before the preimage path in renamed case is to allow scripts that read the output to tell if the current record being read is a single-path record or a rename/copy record without reading ahead. After reading added and deleted lines, reading up to NUL would yield the pathname, but if that is NUL, the record will show two paths.  EXAMPLES Various ways to check your working tree $ git diff            (1) $ git diff --cached   (2) $ git diff HEAD       (3) Changes in the working tree not yet staged for the next commit.  Changes between the index and your last commit; what you would be committing if you run git commit without -a option.  Changes in the working tree since your last commit; what you would be committing if you run git commit -a  Comparing with arbitrary commits $ git diff test            (1) $ git diff HEAD -- ./test  (2) $ git diff HEAD^ HEAD      (3) Instead of using the tip of the current branch, compare with the tip of "test" branch.  Instead of comparing with the tip of "test" branch, compare with the tip of the current branch, but limit the comparison to the file "test".  Compare the version before the last commit and the last commit.  Comparing branches $ git diff topic master    (1) $ git diff topic..master   (2) $ git diff topic...master  (3) Changes between the tips of the topic and the master branches.  Same as above.  Changes that occurred on the master branch since when the topic branch was started off it.  Limiting the diff output $ git diff --diff-filter=MRC            (1) $ git diff --name-status                (2) $ git diff arch/i386 include/asm-i386   (3) Show only modification, rename, and copy, but not addition or deletion.  Show only names and the nature of change, but not actual diff output.  Limit diff output to named subtrees.  Munging the diff output $ git diff --find-copies-harder -B -C  (1) $ git diff -R                          (2) Spend extra cycles to find renames, copies and complete rewrites (very expensive).  Output diff in reverse.  SEE ALSO diff(1), git-difftool[1], git-log[1], gitdiffcore[7], git-format-patch[1], git-apply[1], git-show[1]  GIT Part of the git[1] suite  About this site

---
## [Perkedel/Kaded-fnf-mods](https://github.com/Perkedel/Kaded-fnf-mods)@[d12a5c195b...](https://github.com/Perkedel/Kaded-fnf-mods/commit/d12a5c195bcac8e778fd8992df4c0fc634b9c553)
#### Saturday 2021-12-04 19:32:56 by Joel Robert Justiawan

[skip ci] Sapi Polen 12

Oh peck, Kaorfa is angery! quick cover this up before somebody saw and shocked. QUICK! hide it!

This is all your fault, kids. You gotta need to improve your discipline subject to A or S even better, stop bullying random kids on your area pls. Man, when will we see kids have A or at least B in this essential subject?

oof forgor DokiDoki put license yeah.

oh yeah btw just
`/*` on very top of the coding after you put 2 lines down the `package` bla bla bla thingy yeah. I think this was VScode magic.

---
## [SkeetSkeet-MF/Game-Project](https://github.com/SkeetSkeet-MF/Game-Project)@[16775e57af...](https://github.com/SkeetSkeet-MF/Game-Project/commit/16775e57af23f6b25f976d808bef3f8ff024ec24)
#### Saturday 2021-12-04 22:33:38 by Trent Holtsclaw

made a blank character cus fuck you

hes a litteral empty husk.

---
## [FredrikAugust/julekalender2021](https://github.com/FredrikAugust/julekalender2021)@[8a6990c58a...](https://github.com/FredrikAugust/julekalender2021/commit/8a6990c58a80c3579f3f191f48312156699a4ab8)
#### Saturday 2021-12-04 22:45:36 by Fredrik August Madsen-Malmo

shit don't look at this haskell code dear god it's ugly

---

# [<](2021-12-03.md) 2021-12-04 [>](2021-12-05.md)

