# [<](2021-04-11.md) 2021-04-12 [>](2021-04-13.md)

3,311,972 events, 1,658,007 push events, 2,722,943 commit messages, 195,914,131 characters


## [kylagelev/D3-challenge@1909299cad...](https://github.com/kylagelev/D3-challenge/commit/1909299cad6f222f14de4c5b438802030ee8c012)
##### 2021-04-12 00:11:26 by Kyla

ok

what the hell,, now my x axis flips to being horizontal!!!! gosh this is horrible... i hate this

---
## [krsna1729/knowledge@bfbf117200...](https://github.com/krsna1729/knowledge/commit/bfbf1172001dee3d7c465db8d5d3f50272bddb1f)
##### 2021-04-12 00:47:24 by Nikita Voloboev

SUMMARY art design-inspiration fonts environment mindfulness authentication networking brain-computer-interfaces funny philanthropy prolog blogs social-networks space sweden

---
## [mahak/cockroach@fb9f72220e...](https://github.com/mahak/cockroach/commit/fb9f72220e5af7cda5e6683df29ea8e4e2098ddf)
##### 2021-04-12 05:28:55 by craig[bot]

Merge #62728 #63073 #63214

62728: roachtest: don't call t.Fatal in FailOnReplicaDivergence r=erikgrinaker a=tbg

In #61990 we had this method catch a stats divergence on teardown in an
otherwise successful test. The call to `t.Fatal` in that method
unfortunately prevented the logs from being collected, which is not
helpful.

Release note: None


63073: roachtest: retire `bank` tests r=nvanbenschoten,andreimatei a=tbg

The `bank` roachtests are a basic form of Jepsen test. We were hoping
that they could provide additional benefit due to being less complex
than a full Jepsen test. In my opinion, this calculus has not worked
out. We've spent many hours staring at this test deadlocked when it
wasn't CockroachDB's fault at all. Besides, it's not adding anything
meaningful on top of our Jepsen tests plus KVNemesis plus the TPCC
invariant checks, so we are removing the `bank` family of tests here.

Should we want to reintroduce these tests, we should do it at the level
of TestCluster, or at least augment the `bank` workload to incorporate
these invariant checks instead.

Closes #62754.
Closes #62749
Closes #53871.

Release note: None


63214: kvserver: reduce ReplicaGCQueueInactivityThreshold to 12 hours r=ajwerner a=erikgrinaker

`ReplicaGCQueueInactivityThreshold` specifies the interval at which the
GC queue checks whether a replica has been removed from the canonical
range descriptor, and was set to 10 days. This is a fallback for when we
fail to detect the removal and GC the replica immediately. However, this
could occasionally cause stale replicas to linger for 10 days, which
surprises users (e.g. by causing alerts if the stale replica thinks the
range has become underreplicated).

This patch reduces the threshold to 12 hours, which is a more reasonable
timeframe for users to expect things to "sort themselves out". The
operation to read the range descriptor is fairly cheap, so this is not
likely to cause any problems, and the interval is therefore not jittered
either.

Resolves #63212, touches #60259.

Release note (ops change): Replica garbage collection now checks
replicas against the range descriptor every 12 hours (down from 10 days)
to see if they should be removed. Replicas that fail to notice they have
been removed from a range will therefore linger for at most 12 hours
rather than 10 days.

Co-authored-by: Tobias Grieger <tobias.b.grieger@gmail.com>
Co-authored-by: Tobias Schottdorf <tobias.schottdorf@gmail.com>
Co-authored-by: Erik Grinaker <grinaker@cockroachlabs.com>

---
## [newstools/2020-the-guardian-nigeria@98714593bc...](https://github.com/newstools/2020-the-guardian-nigeria/commit/98714593bcbc5caafad9d63153351614c4237213)
##### 2021-04-12 09:47:52 by NewsTools

Created Text For URL [guardian.ng/life/nick-cannons-girlfriend-supports-him-after-he-got-ex-pregnant/]

---
## [TwinkleInstituteAB/MBBS-abroad@cf12c2898f...](https://github.com/TwinkleInstituteAB/MBBS-abroad/commit/cf12c2898f15254fcd0d66b2bb48317dfaab9b25)
##### 2021-04-12 11:43:37 by TwinkleInstituteAB

Create Get your Medical Degree from Russian Medical Universities 2021-22 Twinkle InstituteAB

MBBS in Russia has always been the most preferred choice for Indian medical students in India. There are more than 10,000 Indian based medical aspirants that are currently pursuing MBBS in Russia in about 50+ MCI recognized Top ten medical university In Russia all over Russia. Every Russia Medical College is being listed and recognized in WHO (World Health Organization) list and also recognized by the Medical Council of India (MCI).

Between the year 2012 to 2017, more than 11000 students have come back to India after clearing FMGE, which clears states that more than 2,000 Indian medical students(on average) start their Medical Practices after completing MBBS from Russia.

MBBS in Russia being one of the most affordable destinations available for studying MBBS, thousands of Indian students make it a choice every year. MBBS Course in Russia is considered one of the most advanced amongst today’s peers and uses the latest and high-quality teaching methods and Techniques in the Best MBBS college in Russia. Also, considering the healthy relations between Indian and Russia, the Russian government has always made Indian students feel welcomed in their country. The natives of Russia are generally very cooperative and helpful towards Indians studying there.

MBBS in Russia focuses on wholesome and all-around development of the student’s knowledge in medicine as well as on the extensive development of the student in their chosen field of specialization. The Study in Russia for MBBS is amongst the best education in the world, with the student’s performance and progress measured against several parameters. The student is assured to become a successful doctor after returning to India. But it is compulsory provided the students should work hard and dedicate to give their 100% in studying. MBBS in Russia is already being pursued by thousands of Indian medical students who are satisfied with the high quality of education together with the low cost of tuition fee and affordable expense of living in Russia.

Although most of the MBBS courses are taught in the Russian Language still there are few medical universities in Russia which offer complete MBBS course in both English and Russian language which is an added advantage for the International students.

Russia has the most top universities, the level of these higher graduates universities in terms of percentage of the population in the world, so this is the reason why the literacy rate is up to 99% over there. The entrance to subsidized higher education is highly competitive over there.

As a result of the great significance of science and technology, Russian medical education, mathematical, scientific, and aerospace research is generally of high quality with modern methods of teaching.

Medical college in Russia are extremely recognized and hence the student can work anywhere in the world after completing their MBBS course in Russia.

The list of medical universities in Russia mentioned on our site are already recognized by the Medical Council of India where students can pursue and make their dreams of studying MBBS in Russia and the degree is valid all over the worldwide and students will be prepared for MCI screening test conducted in India every year for every MBBS graduate.

The idea of living in Russia seems expensive but actually, it is one of the best experiences of someone’s life. Being in such a beautiful and peaceful place is every student’s dream. Russia is not only the country of white people but the country of every individual, it is also the country of the good-hearted and educated people. As being the largest country in the world, there are many many things to explore for students in this country.

The population of

Russia, one of the biggest country in the world which has more than 4 crore and 50 lakhs population. Moscow is the capital of this beautiful and incredible country that have so many medical universities. The biggest city of Russia is none other than its capital that is Moscow. It is a very amazing fact to know that there are a total of nine time zones in the country Russia. It means that if there is a day at one corner of Russia then there will be a night at the opposite corner of Russia.

The whole campus of Russian medical universities is very well maintained and equipped with modern types of equipment and laboratory machinery. However, MBBS in Russia is very beneficial as most of the medical universities of Russia are recognized by WHO, UNESCO, MCI, and other world medical organisations.

As mentioned above, studying MBBS in Russia for Indian students is quite cheap as compared to any other country. It is not only the fees but in daily expenses, students can save much more as compared to other countries. It also varies and depends on the student’s lifestyle.

---
## [ck2plus/CleanSlate@20fc34bcfb...](https://github.com/ck2plus/CleanSlate/commit/20fc34bcfb01f76456c75d83bb62d67c05104f81)
##### 2021-04-12 11:53:59 by Whizzer

HF_coronation_events

Rulers are now more, not less likely, to request a coronation from the Pope if the Pope likes them a lot (HF.20200)
The Pope is no longer annoyed you didn't ask him to coronate you if you have an antipope (HF.20200)
Priests can no longer demand children not in your court to be sent to a monastery/nunnery (HF.20201)
Priests can no longer demand children who are the primary heir to anyone, rather than not just your primary heir, to be sent to a monastery/nunnery or a holy order (HF.20201)
The Pope now doesn't look for a ruler who hates him, but rather a ruler the Pope himself severely dislikes (HF.20201)
The Pope now properly receives his desired titles and vassals in Italy (HF.20216)
Eliminated hidden events HF.20234
Fixed random event description in event HF.20308
Event HF.20329 can no longer give Conclave childhood traits if Conclave is disabled
Fixed rival selection in HF.20334
Knights who show up for coronations will no longer be crusaders if crusades have not yet been unlocked
Lieges receiving homage will no longer consider their special relationship to their liege in deciding whether to reject the homage. Instead, the special relationships to the vassal are under consideration instead. (HF.20396)
Special artifacts for temporally reformed West African, Zun, Baltic, Azted, Bon and Hellenic pagans are now also always transferred upon title usurpation (HF.20414)
Merged HF.20406 and HF.20407 into HF.20415 
Fixed a wrong event call in HF.20408 (ruler to be coronated converted before coronation was finished)

---
## [ck2plus/CleanSlate@12c0cc4925...](https://github.com/ck2plus/CleanSlate/commit/12c0cc492575f2a7394182464f204739bebc8c67)
##### 2021-04-12 11:53:59 by Whizzer

HF_baptism_events

Vassals who falsely convert in a sponsored baptism no longer disband their secret religious society they're leading
Restored missing tooltip in event HF.20048
Rulers receiving a mass baptism will no longer think of their lovers when considering offering friendship to their sponsor, instead keeping in mind how many friends they have
Moved mass conversion tombola random event delays to the tombola event calls instead, so events can always fire, all events now fire with a uniform delay
Child baptisms will no longer look for imprisoned godparents
The Fraticelli pope can now also baptise children the same way the Catholic pope and the Orthodox ecumenical patriarch can

---
## [Dav999-v/VVVVVV@83976016c7...](https://github.com/Dav999-v/VVVVVV/commit/83976016c7d56f1d62429384277620720f7f272b)
##### 2021-04-12 17:44:11 by Misa

Refactor level dir listing to not use STL data marshalling

Note that level dir listing still uses plenty of STL (including the end
product - the `LevelMetaData` struct - which, for the purposes of 2.3,
is okay enough (2.4 should remove STL usage entirely)); it's just that
the initial act of iterating over the levels directory no longer takes
four or SIX(!!!) heap allocations (not counting reallocations and other
heap allocations this patch does not remove), and no longer does any
data marshalling.

Like text splitting, and binary blob extra indice grabbing, the current
approach that FILESYSTEM_getLevelDirFileNames() uses is a temporary
std::vector of std::strings as a middleman to store all the filenames,
and the game iterates over that std::vector to grab each level metadata.
Except, it's even worse in this case, because PHYSFS_enumerateFiles()
ALREADY does a heap allocation. Oh, and
FILESYSTEM_getLevelDirFileNames() gets called two or three times. Yeah,
let me explain:

1. FILESYSTEM_getLevelDirFileNames() calls PHYSFS_enumerateFiles().

2. PHYSFS_enumerateFiles() allocates an array of pointers to arrays of
   chars on the heap. For each filename, it will:

   a. Allocate an array of chars for the filename.

   b. Reallocate the array of pointers to add the pointer to the above
      char array.

      (In this step, it also inserts the filename in alphabetically -
      without any further allocations, as far as I know - but this is a
      COMPLETELY unnecessary step, because we are going to sort the list
      of levels by ourselves via the metadata title in the end anyways.)

3. FILESYSTEM_getLevelDirFileNames() iterates over the PhysFS list, and
   allocates an std::vector on the heap to shove the list into. Then,
   for each filename, it will:

   a. Allocate an std::string, initialized to "levels/".

   b. Append the filename to the std::string above. This will most
      likely require a re-allocation.

   c. Duplicate the std::string - which requires allocating more memory
      again - to put it into the std::vector.

      (Compared to the PhysFS list above, the std::vector does less
      reallocations; it however will still end up reallocating a certain
      amount of times in the end.)

4. FILESYSTEM_getLevelDirFileNames() will free the PhysFS list.

5. Then to get the std::vector<std::string> back to the caller, we end
   up having to reallocate the std::vector again - reallocating every
   single std::string inside it, too - to give it back to the caller.

And to top it all off, FILESYSTEM_getLevelDirFileNames() is guaranteed
to either be called two times, or three times. This is because
editorclass::getDirectoryData() will call editorclass::loadZips(), which
will unconditionally call FILESYSTEM_getLevelDirFileNames(), then call
it AGAIN if a zip was found. Then once the function returns,
getDirectoryData() will still unconditionally call
FILESYSTEM_getLevelDirFileNames(). This smells like someone bolting
something on without regard for the whole picture of the system, but
whatever; I can clean up their mess just fine.

So, what do I do about this? Well, just like I did with text splitting
and binary blob extras, make the final for-loop - the one that does the
actual metadata parsing - more immediate.

So how do I do that? Well, PhysFS has a function named
PHYSFS_enumerate(). PHYSFS_enumerateFiles(), in fact, uses this function
internally, and is basically just a wrapper with some allocation and
alphabetization.

PHYSFS_enumerate() takes in a pointer to a function, which it will call
for every single entry that it iterates over. It also lets you pass in
another arbitrary pointer that it leaves alone, which I use to pass
through a function pointer that is the actual callback.

So to clarify, there are two callbacks - one callback is passed through
into another callback that gets passed through to PHYSFS_enumerate().

The callback that gets passed to PHYSFS_enumerate() is always the same,
but the callback that gets passed through the callback can be different
(if you look at the calling code, you can see that one caller passes
through a normal level metadata callback; the other passes through a zip
file callback).

Furthermore, I've also cleaned it up so that if editorclass::loadZips()
finds a zip file, it won't iterate over all the files in the levels
directory a third time. Instead, the level directory only gets iterated
over twice - once to check for zips, and another to load every level
plus all zips; the second time is when all the heap allocations happen.

And with that, level list loading now uses less STL templated stuff and
much less heap allocations.

Also, ed.directoryList basically has no reason to exist other than being
a temporary std::vector, so I've removed it. This further decreases
memory usage, depending on how many levels you have in your levels
folder (I know that I usually have a lot and don't really ever clean it
up, lol).

Lastly, in the callback passed to PhysFS, `builtLocation` is actually no
longer hardcoded to just the `levels` directory, since instead we now
use the `origdir` variable that PhysFS passes us. So that's good, too.

---
## [noppa/flow@1c218b0844...](https://github.com/noppa/flow/commit/1c218b08441a7d5dcb8ffc874856d18adb303638)
##### 2021-04-12 19:44:02 by Nat Mote

Include sighashes in saved state

Summary:
This diff includes the sighash for each file in the saved state, loads the sighash from saved state if the flag is turned on, and makes the changes needed to take advantage of those loaded sighashes for recheck optimizations.

## Implementation

This change is made up of two main components:
* First, there is the machinery to save the sig hashes to saved state and then load them again (on the condition that the appropriate flowconfig flag is set). This component makes up the bulk of the changes here, but is very simple.
* Second, there are the changes to `Merge_stream` and `Context_heaps` that change the merging logic so that we can actually take advantage of these loaded sighashes. These changes are more interesting, and deserve special attention.

I'll focus on this second component here.

At first blush, it may seem like it is be possible to simply load in the sighashes from saved state, and allow the existing machinery to skip merging and checking whenever the newly-computed sighashes match the old, loaded ones. Unfortunately, this is a fantasy.

The issue is that we may skip merging a component because none of its dependencies changed, which would mean that we still don't have a sig context for it. Then, we may later need to merge or check a downstream component (for example, if another of its dependencies has changed), and to do that we'll need the missing sig context.

To address this issue, it would be possible to carefully track every component that has a missing sig context, and backtrack if it is needed for a downstream file. I may still implement such logic in the future. However, for now I think it makes sense to simply merge every file with a missing sig context, but use the newly-available sighashes to drive skipping in the check phase. This is the approach that I have taken in this diff.

Previously, we didn't distinguish between newly-added sig contexts and those that changed. Now, however, we have the ability to know that a sig context has not changed (based on the sighashes loaded from saved state) even when it is new. So, we need to add a case for that -- if the sighashes are the same, but there wasn't an old sig context, we need to write it, but not add it to the `sig_new_or_changed` set. This is what the changes in `Merge_stream` and `Context_heaps` do.

So, on the initial recheck after a lazy init, we will merge all of the files that we consider for merge, just like we do today. However, we will use the sighashes to gather a set of files that have actually changed, and use that set to determine which files we can skip in the check phase. This should, in theory, reduce the number of files we check in the check phase of an initial recheck after a lazy init, thereby reducing the time spent in these early rechecks.

## Caveats

* There are some performance ramifications (see below).
* There are some serious hash stability issues that hamper the effectiveness of this optimization:
  * When testing on real-world inputs, I found that ~40% of files had sighashes that were unstable from run-to-run. They appear to be stable for the life of a given Flow server. I have not investigated this further. I believe that the hashes computed by types-first 2.0 will be more stable, so I am going to put off a detailed investigation in the hopes that this resolves itself.
  * The hashes include the absolute file paths of various source files, so they will not be stable from machine-to-machine or repo-to-repo unless the absolute path to the repo is identical across invocations. This assumption is unlikely to hold in practice. I plan to address this issue next.
* This may cause us to miss some already-committed errors, similar to how we already can miss already-committed errors in lazy mode. However, the extent to which this is true would increase: today, if you modify a file, Flow will display errors for all of its dependents after the initial lazy recheck. With this change, Flow would only display errors for dependents if your changes might have actually affected those dependents. This could be a plus or a minus depending on your point of view.
* As part of the `flow status` output, when Flow is running in lazy mode, we report the number of files that are currently being checked. Without additional changes, we will now report the number of files that we have at one point considered for checking, even if we ended up skipping them. This might merit some additional thought, but it's unlikely to be a noticeable difference for users in practice.

## Performance

This slows down startup time when turned on (but only barely). It does not appear to affect startup time when turned off. It also slightly increases the size of the saved state blob.

When testing on a benchmark recheck, it was only able to skip checking for less than 1% of the files on an initial recheck, due to the hash stability issues mentioned above. However, tests pass, and this has no measurable performance regression when it's turned off, so I would like to land it and then work on improving hash stability later.

Once the hash stability issues are worked out, we should be able to skip as many files in the check phase of an initial lazy recheck as we would for any other recheck. I believe this will be a significant performance improvement, though we will still have to pay the cost of parsing and merging all of the files. Fortunately, the cost of merging will go down dramatically with types-first 2.0, and the check phase is the most costly even today.

Reviewed By: samwgoldman

Differential Revision: D25137486

fbshipit-source-id: 3e9e5846baec287c880211b13171629668457dde

---

# [<](2021-04-11.md) 2021-04-12 [>](2021-04-13.md)

