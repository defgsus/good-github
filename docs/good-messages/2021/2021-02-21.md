# [<](2021-02-20.md) 2021-02-21 [>](2021-02-22.md)

2,087,980 events, 1,199,906 push events, 1,696,277 commit messages, 98,793,022 characters


## [Mojave-Sun/mojave-sun-13@be2bba3656...](https://github.com/Mojave-Sun/mojave-sun-13/commit/be2bba3656c00ebff8babacabc94ecdfea02bfc6)
##### 2021-02-21 00:44:53 by ms-mirror-bot

[MIRROR] Pipeguns: Elitism Edition (#126)

* Pipeguns: Elitism Edition (#56322)

About The Pull Request

The core of the PR:

The improvised shotgun that was is dead and removed.

Now we have Pipeguns. Pipeguns are bolt action rifles that have a damage multiplier that reduces their damage to 75%, and can be modified to fit the rare 7.62mm bullets. If you want to that is.

The pipegun also slowly increases in misfire probability for every shot at a rate of 5% per shot.

Pipeguns can also be upgraded to Regal Pipeguns. These contain more bullets, don't misfire and don't have a damage multiplier. To acquire one is a maint secret, only available to lucky assistants who come across the diary of a dead assistant. The probability of finding the book is quite, quite low.

Bandoliers now fit individual 7.62mm. Because why not. Currently they're available in stripper clips that fit into most combat belts so this is mostly a style preference at the moment

Other shit

Ammo modification and misfire behaviour is now generalized to all ballistics. You can now make any gun misfire and any internal magazine gun swap ammunition.

Misfires are not a flat chance. Instead, they increment as the gun fires over time.

Ports over this PR Citadel-Station-13/Citadel-Station-13#12274 which I felt was pretty neat conceptually for making some weapons weaker.

Makes the icemoon hermit's mosin into a regal pipegun, just to get mosins out of easy access.
Why It's Good For The Game

Improvised shotguns were one of my favourite weapons to horribly abuse while they were utterly broken a nice alternative, but I fully support moving towards curbing gun power curve. Part of that should include looking at improvised weapons like this which are seeing considerable usage with the removal of buckshot and slugs.

Initially I wanted to pair this with a PR of my own to bop Mosins on the skull along with it, but #56319 is already doing that, and while it's a very lenient approach to my own (I was going to remove them entirely from cargo), I respect it.

Changelog

cl
add: Replaces improvised shotguns with Pipeguns (with a special variant for those willing to go through arbitrary bullshit to acquire it and sheer good luck).
add: Now all guns can be set to misfire and swap ammunition.
add: Misfire chance is incremental as you fire the weapon, and not a flat static chance. This can be reset by using a piece of cloth on the gun and 10 seconds of cleaning.
balance: This has been applied to the detective revolver, but it only increments while using .357 bullets.
add: Guns can have damage multipliers attached for the bullets they fire. The pipegun (but not the regal version) is the first example with a 75% damage output.
balance: The Ice Hermit now has a regal pipegun instead of a Mosin Nagant.
balance: The bandolier fits 7.62mm.
balance: You can construct receivers and rifle stocks in the crafting menu.
balance: Detaches the magical rifles from the boltaction subtype, since they are just basically not using any variables attached to that subtype and made from a series of early returns.
/cl

* Pipeguns: Elitism Edition

Co-authored-by: necromanceranne <40847847+necromanceranne@users.noreply.github.com>

---
## [fesh0r/mame-full@621c3415ae...](https://github.com/fesh0r/mame-full/commit/621c3415ae5694cf974ed4935d0632d79dbd7238)
##### 2021-02-21 00:57:04 by r09

fmtowns_cd.xml: 11 new dumps, 19 replacements, 3 missing floppies added (#7764)

fmtowns_cd.xml - Removed the floppy disks for 38-man Kilo no Kokuu and Powermonger, since they are user-created disks and the games only need blank disks to save
fmtowns_cd.xml - Replaced Lunatic Dawn II floppy with a cleaner unmodified copy [akira_2020]
fmtowns_cd.xml - Replaced Nobunaga no Yabou - Bushou Fuuunroku floppy with a cleaner unmodified copy [wiggy2k]
fmtowns_cd.xml - Replaced the "fake" Lipstick Adventure 3 floppy with an image dumped from the original disk [r09]
fmtowns_cd.xml - Added a missing floppy image to Nobunaga no Yabou - Tenshouki (it wasn't marked as unsupported but it didn't actually work correctly before) [wiggy2k]

New working software list additions
-----------------------------------

Ehon Writer School v1.1 L21 [redump.org]
Gakuen Bakuretsu Tenkousei! [redump.org]
Hana no Kioku - Dainishou [redump.org]
if 1-2-3 CD Collection [redump.org]
Ikazuchi no Senshi Raidy 2 (1996-08-01) [redump.org]
Kousoku Choujin [redump.org]
Misato-chan no Yume Nikki [redump.org]
The Silent Service - Chinmoku no Kantai [redump.org, wiggy2k]
Sotsugyou '93 - Graduation (older floppy disk) [redump.org, wiggy2k]
Time Stripper Mako-chan [redump.org]
Tougenkyou [redump.org]

Replaced software list items
----------------------------

Aeternam [redump.org]
Angel [redump.org]
Dungeon Master (1989-11-14) [redump.org]
Gendai Daisenryaku EX Special [redump.org]
Giga Mortion [redump.org]
Hana no Kioku [redump.org]
Kikou Shidan - Panzer Division [redump.org]
Kiwame II [redump.org]
Koko wa Rakuensou [redump.org]
Koko wa Rakuensou 2 [redump.org]
Okumanchouja II [redump.org]
Ring Out!! [redump.org]
Stronghold - Koutei no Yousai [redump.org]
Tom Snyder's Puppy Love 2 [redump.org]
Toushin Toshi II - Soshite, Sorekara... [redump.org]
Ultima Underworld - The Stygian Abyss [redump.org]
Veil of Darkness - Norowareta Yogen [redump.org]
Virtuacall [redump.org]
Xak III - The Eternal Recurrence [redump.org]

Software list items promoted to working
---------------------------------------

Record of Lodoss War II - Goshiki no Maryuu [wiggy2k]
Sangokushi III [wiggy2k]

---
## [jerukan/MoniGrow@2ac60a4378...](https://github.com/jerukan/MoniGrow/commit/2ac60a4378db26adb669cddec3c63deb9ce34126)
##### 2021-02-21 03:24:55 by Jerry Yan

Did not actually need async fuck this stupid bullshit i hate

---
## [maborak/iemaddon-installer@6330d9a1c6...](https://github.com/maborak/iemaddon-installer/commit/6330d9a1c607cb3b4de913139752afc5cbf9ef34)
##### 2021-02-21 11:00:17 by Wilmer Adalid (Alienware)

Updates for: 'Tis the dream of each programmer,
Before his life is done,
To write three lines of APL,
And make the damn things run.

---
## [JJawesomeJJ/jjawesome-3d@dec3361543...](https://github.com/JJawesomeJJ/jjawesome-3d/commit/dec336154330c2db9ed4111e6a1c6e3883b3d668)
##### 2021-02-21 11:16:35 by zhaolijie

-water----normal life --
--single life how long will continue
--No mater how sadness of the life remember you are petty unique boy
--fight young man the futher may be darkness but don't be fear,remember the beauty will always wait for you in the some which is not far away --2020-12-15

---
## [hipe/downtownfun@17961c6e1a...](https://github.com/hipe/downtownfun/commit/17961c6e1acf38120f45f4d2a7e3423978f3f67a)
##### 2021-02-21 17:08:04 by Mark Meves

wip(kiss): introduce abstract schema ((1593))

Discussion: it’s perhaps amusing we want sqlite3 so badly for our
statistics pass on generating document history; when we don’t yet know
what our data model or algorithm for it is yet, exactly.

(We’ve had it in our heads pretty clearly at various points when on our
run, but those fever-dreams often evaporate where they are made. Also,
planning can only go so far without prototyping accompanying it.)

But nonetheless, we looked back over our “.stack” and saw something
absolutely insane that we had forgotten all about writing a few days
prior:

> insanely what if you store the data model *in* the dot file

Indeed, what if…

The question is not whether this is a good idea; it probably isn’t.
The justification for it is in the following sections (yes this should
be in a document):

Statement of the problem(s):

- The moment we start to touch relational databases (sqlite), we need
  some on-disk, in-version-control, not-in-the-database representation
  of our data model (“schema”) (as it changes over time); quite
  like the (rails) ActiveRecord concept of migrations (and whatever
  other means they use to represent schema).
- Keeping files of SQL with ‘CREATE TABLE’ is of limited use
  (not migration friendly, not visually friendly)
- Modeling the data model without some visual representation of it
  is painful (to us)
- Historically, we’ve used tools like OmniGraffle to model schema,
  but the problem is these get out of sync with what the “real”
  data-model is, and there’s no “poka yoke” self-perpetuating
  tendency to keep such files current. (Keeping redundant documentation
  up-to-date is not strongly self-incentivized. If the only reason to
  do it is because “you should”, it’s a vector waiting to be overlooked,
  so an ineffective safeguard)
- Such proprietary vendor files would look awful in version control,
  probably.

Quick mental survey of existing solutions:

- Data-modeling for RDBMS’s is well-trodden ground with decades of
  modeling tools and other technologies like UML (probably), BUT
- None of these tools come to mind as a good solution here. (We
  offer it as a tautological justification that there aren’t any
  good tools for this because we haven’t heard of any yet.)
- Their file formats probably won’t be pretty. We have gotten this
  far without committing much XML…
- Our requirements are thin and we want to keep them that way (KISS):
  basically all we need is two or three datatypes, primary keys,
  foreign keys.

Our experimental, hypothetical solution (for our problems):

- GraphViz is not some proprietary or specialty data modeling tool.
  Rather, it’s a widely available, open source, stable & reliable
- GraphViz is already well understood by us
- The visualization that GraphViz produces look attractive and
  meet our requirements
- The GraphViz file format is minimal, mostly readable after
  a very short learning curve, and is lenient in the sense that
  it allows the user freeform use of whitespace and comments
- The minimality and ease-of-machine-readability and
  well-documented-ness of the GraphViz (dot file) file format
  lends itself well to being consumed by a variety of clients
  beyond just GraphViz itself (compare to, say, OmniGraffle)
- having GraphViz be machine readable by use (over in the python
  hemisphere) in some more formal way will be useful to us anyway

(times)

  02-20 00:24  skimming sqlite3 docs
        02:39  OK let's sketch a really rough sqlite read-only adapter
        04:58  good progress, reading and writing tables by hand. but zz
        09:11  OK let's begin on schema.dot
        10:34  begin hand parsing graph viz yet again (did ~9 years ago)
        16:21  finished getting sexp from whole dot file.
               now clean it up to get deep values
        16:39  ok finished cleaning it up, now do something with it.
               great progress but take a break to go see john
        18:05  resume
        19:06  valid sqlite SQL with foreign key constraints is set up
               in a test, now beginning to test drive the parsing of it
        20:56  finished tokenizing the two CREATE TABLE statements
  02-21 01:26  passing test where abstract schema via sql seems ok
        01:27  j/k that was one table. 25 min later zz
        07:30  resume
        11:14  ball of code too big. make intermediate commit
        12:04  wrote this commit comment lol
.

---
## [aws/aws-cdk@bfa1f18c32...](https://github.com/aws/aws-cdk/commit/bfa1f18c32051cd0e90a003bbbe3e806063c2b8c)
##### 2021-02-21 17:46:13 by Robert Djurasaj

chore(rds): add PG12.5 and deprecate PG9.5 and PG9.6 (#12998)

Added PostgreSQL 12.5 version.

Also, I got a friendly email from AWS that some versions of PG will be forcefully updated, and I've decided to mark PG9.5 and 9.6 as deprecated. (Feb 2021 and Nov 2021 EOLs respectfully).

> Amazon RDS is starting the end of life process for PostgreSQL major version 9.5. We are doing this because the PostgreSQL community is planning to discontinue support for PostgreSQL 9.5 on February 11, 2021 [1].
> 
> Amazon RDS for PostgreSQL 9.5 will reach end of life on February 16, 2021 00:00:01 AM UTC. Amazon RDS for PostgreSQL 9.6 will reach end of life in late 2021. Hence, we strongly encourage you to upgrade your databases running PostgreSQL major version 9.5 to 12 or greater at your convenience before February 16, 2021. PostgreSQL 12 contains major innovations including JSON path queries per SQL/JSON specifications and pluggable table storage interface [2]. PostgreSQL 13 introduced parallel processing of indexes with the VACUUM command and improved duplicate data handling by B-tree indexes [3]. Both versions contain numerous fixes to various software defects in earlier versions of the database.
> 
> If you do not upgrade your databases before February 16, 2021, RDS will upgrade your PostgreSQL 9.5 databases to PostgreSQL 12 during a scheduled maintenance window between Feb 16, 2021 00:00:01 UTC and March 16, 2021 00:00:01 UTC. On March 16, 2021 00:00:01 AM UTC, any PostgreSQL 9.5 databases that remain will be upgraded to version 12 regardless of whether the instances are in a maintenance window or not.
> 
> You can initiate an upgrade of your database instance — either immediately or during your next maintenance window — to a newer major version of PostgreSQL using the AWS Management Console or the AWS Command Line Interface. The upgrade process will shut down the database instance, perform the upgrade, and restart the database instance. The database instance may be restarted multiple times during the upgrade process. While major version upgrades typically complete within the standard maintenance window, the duration of the upgrade depends on the number of objects within the database. To avoid any unplanned unavailability outside your maintenance window, we recommend that you first take a snapshot of your database and test the upgrade to get an estimate of the duration. To learn more about upgrading PostgreSQL major versions in RDS, review the Upgrading Database Versions page [4].
> 
> We want to make you aware of the following additional milestones associated with upgrading these databases that are reaching end of life.
> 
> Now through March 16, 2021 00:00:01 AM UTC - You can initiate upgrades of Amazon RDS for PostgreSQL 9.5 instances to PostgreSQL 12 or higher at any time.
> February 16, 2021 00:00:01 AM UTC - After this date and time, you cannot create new RDS instances with PostgreSQL major version 9.5 from either the AWS Console or the CLI. RDS will also automatically upgrade PostgreSQL 9.5 instances to version 12 within the earliest scheduled maintenance window that follows. Restoration of Amazon RDS for PostgreSQL 9.5 database snapshots will result in an automatic upgrade of the restored database to a still supported version at the time.
> March 16, 2021 00:00:01 AM UTC - RDS will automatically upgrade any remaining PostgreSQL 9.5 instances to version 12 whether or not they are in a maintenance window.
> Should you have any questions or concerns, the AWS Support Team is available on the community forums and via Premium Support [5].

----

*By submitting this pull request, I confirm that my contribution is made under the terms of the Apache-2.0 license*

---
## [Allspice/vgstation13-1@6603379ec6...](https://github.com/Allspice/vgstation13-1/commit/6603379ec673f9b854d8f70db6c15c4648bcec56)
##### 2021-02-21 18:12:05 by gurfan

tweaks non-instant petrification to be handled by petritricin, fixes duplicate statues (#28111)

* is_being_petrified

* handle all petrification in the reagent, cockatrices inject petricin on (non-instant) petrify attacks, acid nullification is a recipe

* whoops

* minimum petritricin amount, flavor text

* revert oldpain shit

* revert dumb nullification recipe and just use has_any_reagents in the on_mob_life

* fix

---

# [<](2021-02-20.md) 2021-02-21 [>](2021-02-22.md)

