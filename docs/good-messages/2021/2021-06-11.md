# [<](2021-06-10.md) 2021-06-11 [>](2021-06-12.md)

3,629,122 events, 1,482,178 push events, 2,395,493 commit messages, 182,696,571 characters


## [MissaelOrtiz/pokedex-fetch-react@a3f833e074...](https://github.com/MissaelOrtiz/pokedex-fetch-react/commit/a3f833e0744dd865ed0bff63d71427f38ad55268)
##### 2021-06-11 00:18:38 by Missael Ortiz

and it is done, finally my days of suffering have been concluded thanks to help of my friends the the support of those who care about me and my progress. Holy shit I think I was about to go insane with this and It is FINALLY done and I can FINALLY move on with my life and JUST BE DONE WITH THIS SHIT HOLY GOD. fixed the asc and desc.

---
## [pytorch/pytorch@682d26260e...](https://github.com/pytorch/pytorch/commit/682d26260e61f665dc333d3c544e9c3d3bd61d5b)
##### 2021-06-11 00:49:41 by Brian Hirsh

Update base for Update on "add a boxed CPU fallback kernel"

This PR replaces the existing code-generated CPU fallback kernels that XLA uses with a single boxed CPU fallback.

Current state: there are a couple different design ideas that I want to point out, but the logic for the actually kernel is mostly done and passing tests.

### Design

To preface, I'm not 100% tied to the current design and I'm putting the PR up now for opinions and totally open to alternatives, some of which I listed below. Actually after writing this description, I'm leaning toward the following changes:
* Confirm whether or not we can remove all C++ logging info directly in the yaml.


**Current Design**

All of the CPU fallback codegen is deleted. In its place, XLA (and other external backends, later) can choose to opt into a CPU fallback by adding the following code in a C++ file. I have an corresponding [xla-side PR with the xla changes](https://github.com/pytorch/xla/pull/2945/files#diff-1a005c10039f0cb11130a3b740f5de716d2f10acaea121017016025861886798R1).

There's no actual requirement to split up the code into a .h and .cpp file, but that's necessary in the XLA case because they sometimes need to call the fallback directly from their handcrafted kernels.

```
// xla_cpu_fallback.h
#include <ATen/native/CPUFallback.h>
...
void xla_cpu_fallback(const c10::OperatorHandle& op, torch::jit::Stack* stack);
...
```
```
// xla_cpu_fallback.cpp
#include "torch_xla/csrc/aten_cpu_fallback.h"
...
void xla_cpu_fallback(const c10::OperatorHandle& op, torch::jit::Stack* stack) {
  // Do custom logging here
  ...
  // Call the actual boxed CPU fallback.
  at::native::cpu_fallback(op, stack);
}

TORCH_LIBRARY_IMPL(_, XLA, m) {
  m.fallback(torch::CppFunction::makeFromBoxedFunction<&xla_cpu_fallback>());
}
```

Now that the fallback is exposed in the backend, they can call it directly. Doing so requires converting from an unboxed to a boxed context, which we provide a utility function before. E.g.:
```
#include <ATen/native/CPUFallback.h>

at::Tensor addmm(const at::Tensor& self,const at::Tensor& mat1,const at::Tensor& mat2,const at::Scalar& beta,const at::Scalar& alpha) {
  ....
  if (...call_fallback...) {
    return at::native::call_fallback_fn<&xla_cpu_fallback, decltype(at::addmm)>::call("aten::addmm", self, mat1, mat2, beta, alpha);
  }
  ...
}
```

That `decltype(at::addmm)` logic isn't actually used everywhere in the xla-side PR yet, since you hit issues with overloads. I could use it everywhere once #58092 lands.

**Alternatives: The API for calling the CPU fallback directly is ugly, can we make it nicer?**
We could change the api to use `at::redispatch`, which would make it look something like this:
```
at::Tensor addmm(const at::Tensor& self,const at::Tensor& mat1,const at::Tensor& mat2,const at::Scalar& beta,const at::Scalar& alpha) {
  ....
  if (...call_fallback...) {
    return at::redispatch::addmm(c10::DispatchKeySet(c10::DispatchKey::CPUFallback), self, mat1, mat2, beta, alpha);
  }
  ...
}
```
Which definitely feels cleaner, but also requires adding a new DispatchKey just for this use case. Conditionally calling the CPU fallback doesn't sound like a hugely important use case, so I don't know if giving up one of our 64 dispatch key slots is worth the API improvement. Totally open to other opinions though!


Another more mild improvement that would avoid having to pass operator string names (including overloads) around would be to codegen (yet another) namespaced API. Something like this:
```
at::Tensor addmm(const at::Tensor& self,const at::Tensor& mat1,const at::Tensor& mat2,const at::Scalar& beta,const at::Scalar& alpha) {
  ....
  if (...call_fallback...) {
    return at::fallback::addmm<&xla_cpu_fallback>(self, mat1, mat2, beta, alpha);
  }
  ...
}
```

Writing that out actually I actually like it more (I think it'll let us get rid of `decltype(...)`). Maybe that is nice enough to warrant a new codegen API - I haven't tried adding that yet, but if people like it I'm happy to try it out.

**More alternatives**
The current design also involves the backend manually writing and registering the boxed fallback themselves, but an alternative would be for us to do it in codegen too: they would just need to pass in all of the C++ logging that they want done in the fallback, directly through the yaml. The main downsides:
* Backend code that wants to call the fallback needs to abide by whatever convention our codegen uses to name the generated boxed fallback.
* Passing custom C++ logging through yaml is just more fragile: right now xla uses an `iostream` to log each tensor arg in the operator, so we'd have to either force other backends into the same convention or figure something else out later.

To be fair, we actually already do that: XLA has custom per-tensor-arg logging for all of the generated `out` wrappers in the codegen, which we do by passing their C++ logging info through the yaml. This seems unnecessary though, since `out` wrappers just call into a functional kernel, which is hand written with its own custom logging. So my take is: try to remove custom C++ logging from the yaml, and if it turns out to be really necessary, then we may as well take advantage of that to codegen the fallback.

### Performance impact

While ops that fall back to CPU aren't exactly hot path, we probably don't want to use a boxed fallback if it turns out to be an absolute perf killer.

I ran my benchmarks using callgrind, benchmarking both `at::add` and `at::add_out` run on XLA. My callgrind benchmark for `at::add` can be found here (the add_out benchmark looks basically the same): https://www.internalfb.com/phabricator/paste/view/P415418587. I created the benchmark by hacking the existing xla C++ test build scripts and throwing in a reference to callgrind.

I also attached the full callgrind output for each benchmark; the full output is actually pretty noise and hard to parse, but I focused on everything underneath the `at::add()` call in the output, which was much more stable. My guess is that it's due to some heavyweight async startup processing that xla does.

`at::add`:
before: 88,505,130 instructions. Full output: https://www.internalfb.com/phabricator/paste/view/P415421001
after: 102,185,654 instructions. Full output: https://www.internalfb.com/phabricator/paste/view/P415421273
delta: ~15.5% increase

`at::add_out`:
before: 63,897,395 instructions. Full output: https://www.internalfb.com/intern/everpaste/?handle=GBrrKwtAPlix9wUEAOZtrFXpdO5UbsIXAAAz
after: 73,170,346 instructions. Full output: https://www.internalfb.com/phabricator/paste/view/P415423227
delta: ~14.5% increase

High level takeaway: A framework overhead increase of 10-20% doesn't seem too horrible for the CPU fallback use case.

For structured, functional ops that requires a CPU fallback, we're actually in an unfortunate situation: we're doing even more work than necessary. Our codegen automatically creates a `CompositeExplicitAutograd` kernel which calls into the `out` operator. So the extra work that we end up doing is:
* An extra dispatcher hop: (at::add -> CompositeExplicitAutograd -> CPUFallback -> at::native::add) instead of (at::add -> CPUFallback -> at::native::add)
* An unnecessary tensor allocation (the CompositeExplicitAutograd kernel uses at::empty() to create an output tensor, which is immediately overwritten by the CPU fallback)
* An unnecessary meta() call (the CompositeExplicitAutograd kernel calls it to create the output tensor, but we call it again in the CPU kernel).
* unboxing->boxing->unboxing logic (this is the only strictly required piece)

There are definitely ways to avoid the unnecessary work explained above: one would be to give the boxed fallback higher priority than composite keys (there's [an issue for it here](https://github.com/pytorch/pytorch/issues/55104)), and codegen fallthroughs for all composite ops. It'll require more infra to set up, so I see it as more of a perf knob that we can apply if we need it later.

Unfortunately I couldn't dig much deeper into the differences aside from the aggregate change in instructions, since it looks like callgrind fudged some of the instruction attribution (`at::to_cpu` takes up a ton of instructions, but I don't see any attribution for the `at::native::add` kernel anywhere).


Differential Revision: [D28833085](https://our.internmc.facebook.com/intern/diff/D28833085)

[ghstack-poisoned]

---
## [pytorch/pytorch@4393f1cc71...](https://github.com/pytorch/pytorch/commit/4393f1cc7179f4e75a4d903d74e19f9d2ac03a74)
##### 2021-06-11 00:52:38 by Brian Hirsh

add a boxed CPU fallback kernel

Pull Request resolved: https://github.com/pytorch/pytorch/pull/58065

This PR replaces the existing code-generated CPU fallback kernels that XLA uses with a single boxed CPU fallback.

Current state: there are a couple different design ideas that I want to point out, but the logic for the actually kernel is mostly done and passing tests.

### Design

To preface, I'm not 100% tied to the current design and I'm putting the PR up now for opinions and totally open to alternatives, some of which I listed below. Actually after writing this description, I'm leaning toward the following changes:
* Confirm whether or not we can remove all C++ logging info directly in the yaml.


**Current Design**

All of the CPU fallback codegen is deleted. In its place, XLA (and other external backends, later) can choose to opt into a CPU fallback by adding the following code in a C++ file. I have an corresponding [xla-side PR with the xla changes](https://github.com/pytorch/xla/pull/2945/files#diff-1a005c10039f0cb11130a3b740f5de716d2f10acaea121017016025861886798R1).

There's no actual requirement to split up the code into a .h and .cpp file, but that's necessary in the XLA case because they sometimes need to call the fallback directly from their handcrafted kernels.

```
// xla_cpu_fallback.h
#include <ATen/native/CPUFallback.h>
...
void xla_cpu_fallback(const c10::OperatorHandle& op, torch::jit::Stack* stack);
...
```
```
// xla_cpu_fallback.cpp
#include "torch_xla/csrc/aten_cpu_fallback.h"
...
void xla_cpu_fallback(const c10::OperatorHandle& op, torch::jit::Stack* stack) {
  // Do custom logging here
  ...
  // Call the actual boxed CPU fallback.
  at::native::cpu_fallback(op, stack);
}

TORCH_LIBRARY_IMPL(_, XLA, m) {
  m.fallback(torch::CppFunction::makeFromBoxedFunction<&xla_cpu_fallback>());
}
```

Now that the fallback is exposed in the backend, they can call it directly. Doing so requires converting from an unboxed to a boxed context, which we provide a utility function before. E.g.:
```
#include <ATen/native/CPUFallback.h>

at::Tensor addmm(const at::Tensor& self,const at::Tensor& mat1,const at::Tensor& mat2,const at::Scalar& beta,const at::Scalar& alpha) {
  ....
  if (...call_fallback...) {
    return at::native::call_fallback_fn<&xla_cpu_fallback, decltype(at::addmm)>::call("aten::addmm", self, mat1, mat2, beta, alpha);
  }
  ...
}
```

That `decltype(at::addmm)` logic isn't actually used everywhere in the xla-side PR yet, since you hit issues with overloads. I could use it everywhere once #58092 lands.

**Alternatives: The API for calling the CPU fallback directly is ugly, can we make it nicer?**
We could change the api to use `at::redispatch`, which would make it look something like this:
```
at::Tensor addmm(const at::Tensor& self,const at::Tensor& mat1,const at::Tensor& mat2,const at::Scalar& beta,const at::Scalar& alpha) {
  ....
  if (...call_fallback...) {
    return at::redispatch::addmm(c10::DispatchKeySet(c10::DispatchKey::CPUFallback), self, mat1, mat2, beta, alpha);
  }
  ...
}
```
Which definitely feels cleaner, but also requires adding a new DispatchKey just for this use case. Conditionally calling the CPU fallback doesn't sound like a hugely important use case, so I don't know if giving up one of our 64 dispatch key slots is worth the API improvement. Totally open to other opinions though!


Another more mild improvement that would avoid having to pass operator string names (including overloads) around would be to codegen (yet another) namespaced API. Something like this:
```
at::Tensor addmm(const at::Tensor& self,const at::Tensor& mat1,const at::Tensor& mat2,const at::Scalar& beta,const at::Scalar& alpha) {
  ....
  if (...call_fallback...) {
    return at::fallback::addmm<&xla_cpu_fallback>(self, mat1, mat2, beta, alpha);
  }
  ...
}
```

Writing that out actually I actually like it more (I think it'll let us get rid of `decltype(...)`). Maybe that is nice enough to warrant a new codegen API - I haven't tried adding that yet, but if people like it I'm happy to try it out.

**More alternatives**
The current design also involves the backend manually writing and registering the boxed fallback themselves, but an alternative would be for us to do it in codegen too: they would just need to pass in all of the C++ logging that they want done in the fallback, directly through the yaml. The main downsides:
* Backend code that wants to call the fallback needs to abide by whatever convention our codegen uses to name the generated boxed fallback.
* Passing custom C++ logging through yaml is just more fragile: right now xla uses an `iostream` to log each tensor arg in the operator, so we'd have to either force other backends into the same convention or figure something else out later.

To be fair, we actually already do that: XLA has custom per-tensor-arg logging for all of the generated `out` wrappers in the codegen, which we do by passing their C++ logging info through the yaml. This seems unnecessary though, since `out` wrappers just call into a functional kernel, which is hand written with its own custom logging. So my take is: try to remove custom C++ logging from the yaml, and if it turns out to be really necessary, then we may as well take advantage of that to codegen the fallback.

### Performance impact

While ops that fall back to CPU aren't exactly hot path, we probably don't want to use a boxed fallback if it turns out to be an absolute perf killer.

I ran my benchmarks using callgrind, benchmarking both `at::add` and `at::add_out` run on XLA. My callgrind benchmark for `at::add` can be found here (the add_out benchmark looks basically the same): https://www.internalfb.com/phabricator/paste/view/P415418587. I created the benchmark by hacking the existing xla C++ test build scripts and throwing in a reference to callgrind.

I also attached the full callgrind output for each benchmark; the full output is actually pretty noise and hard to parse, but I focused on everything underneath the `at::add()` call in the output, which was much more stable. My guess is that it's due to some heavyweight async startup processing that xla does.

`at::add`:
before: 88,505,130 instructions. Full output: https://www.internalfb.com/phabricator/paste/view/P415421001
after: 102,185,654 instructions. Full output: https://www.internalfb.com/phabricator/paste/view/P415421273
delta: ~15.5% increase

`at::add_out`:
before: 63,897,395 instructions. Full output: https://www.internalfb.com/intern/everpaste/?handle=GBrrKwtAPlix9wUEAOZtrFXpdO5UbsIXAAAz
after: 73,170,346 instructions. Full output: https://www.internalfb.com/phabricator/paste/view/P415423227
delta: ~14.5% increase

High level takeaway: A framework overhead increase of 10-20% doesn't seem too horrible for the CPU fallback use case.

For structured, functional ops that requires a CPU fallback, we're actually in an unfortunate situation: we're doing even more work than necessary. Our codegen automatically creates a `CompositeExplicitAutograd` kernel which calls into the `out` operator. So the extra work that we end up doing is:
* An extra dispatcher hop: (at::add -> CompositeExplicitAutograd -> CPUFallback -> at::native::add) instead of (at::add -> CPUFallback -> at::native::add)
* An unnecessary tensor allocation (the CompositeExplicitAutograd kernel uses at::empty() to create an output tensor, which is immediately overwritten by the CPU fallback)
* An unnecessary meta() call (the CompositeExplicitAutograd kernel calls it to create the output tensor, but we call it again in the CPU kernel).
* unboxing->boxing->unboxing logic (this is the only strictly required piece)

There are definitely ways to avoid the unnecessary work explained above: one would be to give the boxed fallback higher priority than composite keys (there's [an issue for it here](https://github.com/pytorch/pytorch/issues/55104)), and codegen fallthroughs for all composite ops. It'll require more infra to set up, so I see it as more of a perf knob that we can apply if we need it later.

Unfortunately I couldn't dig much deeper into the differences aside from the aggregate change in instructions, since it looks like callgrind fudged some of the instruction attribution (`at::to_cpu` takes up a ton of instructions, but I don't see any attribution for the `at::native::add` kernel anywhere).

Differential Revision: [D28833085](https://our.internmc.facebook.com/intern/diff/D28833085/)

**NOTE FOR REVIEWERS**: This PR has internal Facebook specific changes or comments, please review them on [Phabricator](https://our.internmc.facebook.com/intern/diff/D28833085/)!
ghstack-source-id: 131149497

---
## [dlwlrma123/lilac_kernel_sdm439@b9e0d545ef...](https://github.com/dlwlrma123/lilac_kernel_sdm439/commit/b9e0d545efb3f07bb11cb087a3e0d69e954e6110)
##### 2021-06-11 04:19:03 by Angelo G. Del Regno

Merge: Performance improvements.

This patchset brings some performance improvements and the addition of the LZO-RLE
algorithm to the kernel, also usable in zram (yup, tested, works but LZ4 is still ok for us).

The main performance improvement is for SWAP space: the locking has changed and
the swap cache is now split in 64MB trunks.
This gives us a reduction of the median page fault latency of 375%, from 15uS to 4uS,
and an improvement of 192% on the swap throughput (this includes "virtual" swap
devices, like zRAM!). The real world user experience improvement of this on a mobile
device is seen after a day or two of usage, where it usually starts losing just a little
performance due to the large amount of apps kept open in background: now I cannot
notice any more performance loss and the user experience is now basically the same as
if the phone was in its first 2 hours of boot life.

Other performance improvements include, in short:

    UDP v4/v6: 10% more performance on single RX queue
    Userspace applications will be faster when checking running time of threads
    2-5% improvements on heavy multipliers (yeah, not a lot, but was totally free...)
    Improvements on rare conditions during sparsetruncate of about 0.3% to a
    way more rare around 20% improvement (that's never gonna happen, but there
    is no performance drop anywhere).

Tested on SoMC Tama Akatsuki RoW

This was taken from
Repo:
https://github.com/sonyxperiadev/kernel
PR: 2039 ([2.3.2.r1.4] Performance improvements)

---
## [Adamantcheese/Kuroba@b4002e53d4...](https://github.com/Adamantcheese/Kuroba/commit/b4002e53d471a600f5fce6d90b1e3c11d46443af)
##### 2021-06-11 09:15:55 by Adamantcheese

Cap <img> tag stuff to 5 with deduplication, also add in iframe unhiding, which will just display the appropriate URL

Fuckin Hiro and his massive /qa/ shitpost, I've also added some caps to font size stuff so they don't get too massive and horrible to render

---
## [Cprudhomme/2021-nouveau_media-projet@4132fdd05b...](https://github.com/Cprudhomme/2021-nouveau_media-projet/commit/4132fdd05b9640de012520059f7b73c13efa0082)
##### 2021-06-11 10:33:17 by EstelleLeivine

THE RUSE OF THE ABBOT JEAN TRITHÃˆME

Each letter of this alphabet corresponds to a spell :

A	Mobilicorpus
B	Morsmordre
C	Mutismus
D	"Sonorus
E	Oubliette
F	Crac badaboum
G	Allohomora
H	Portus
I	Prior incanta
J	Protego
K	Enervatum
L	Recurvite
M	Reducto
N	Petrificus totalus
O	Tarretallegra
P	Rictuscempra
Q	Serpentasortia
R	Silencio
S	Evanesco
T	Sonorus
U	Sourdinam
V	Spero patronum
W	Stupefix
X	Tarrentallegra
Y	Reparo
Z	Wingardium leviosa

Find the hidden word using the different spells and the alphabet in the 
poem, enjoy !

Don't think you'll escape me anytime soon, allohomora ! Enough of your 
antics, silencio and join me my dear! Come to me reparo before my heart 
suffers again from a Crac badaboum, you feel me ? Crac badaboum me 
again, I promise to not disturb you.  A beginning of Tarrentallegra 
takes me so much I love you. I am at a loss for words with all these 
emotions!  No matter where you are, I feel your hands petrifyingly 
tatalus me. Come closer, sonorus let your voice be heard in every corner 
of the world! So, magical your voice is,  Letâ€™s find a place and 
Tarrentallegra all night ! Donâ€™t put me in silencio my dear. Please, 
marry me!

---
## [wireshark/wireshark@dc7f0b88bb...](https://github.com/wireshark/wireshark/commit/dc7f0b88bba0c703d9c802b153e145dc6b3dc549)
##### 2021-06-11 11:21:36 by JoÃ£o Valverde

Refactor our logging and extend the wslog API

Experience has shown that:

  1. The current logging methods are not very reliable or practical.
A logging bitmask makes little sense as the user-facing interface (who
would want debug but not crtical messages for example?); it's
computer-friendly and user-unfriendly. More importantly the console
log level preference is initialized too late in the startup process
to be used for the logging subsystem and that fact raises a number
of annoying and hard-to-fix usability issues.

  2. Coding around G_MESSAGES_DEBUG to comply with our log level mask
and not clobber the user's settings or not create unexpected log misses
is unworkable and generally follows the principle of most surprise.
The fact that G_MESSAGES_DEBUG="all" can leak to other programs using
GLib is also annoying.

  3. The non-structured GLib logging API is very opinionated and lacks
configurability beyond replacing the log handler.

  4. Windows GUI has some special code to attach to a console,
but it would be nice to abstract away the rest under a single
interface.

  5. Using this logger seems to be noticeably faster.

Deprecate the console log level preference and extend our API to
implement a log handler in wsutil/wslog.h to provide easy-to-use,
flexible and dependable logging during all execution phases.

Log levels have a hierarchy, from most verbose to least verbose
(debug to error). When a given level is set everything above that
is also enabled.

The log level can be set with an environment variable or a command
line option (parsed as soon as possible but still later than the
environment). The default log level is "message".

Dissector logging is not included because it is not clear what log
domain they should use. An explosion to thousands of domains is
not desirable and putting everything in a single domain is probably
too coarse and noisy. For now I think it makes sense to let them do
their own thing using g_log_default_handler() and continue using the
G_MESSAGES_DEBUG mechanism with specific domains for each individual
dissector.

In the future a mechanism may be added to selectively enable these
domains at runtime while trying to avoid the problems introduced
by G_MESSAGES_DEBUG.

---
## [L2jOrg/Datapack@4ebab6bdff...](https://github.com/L2jOrg/Datapack/commit/4ebab6bdff90768b8a5437771ae46b046d058e44)
##### 2021-06-11 13:07:56 by Yura

Update 01300-01399.xml

Servitor Cure, Servitor Blessing, Wild Magic, Advanced Block, Pa'agrio's Honor, Ritual of Life, Chant of Predator, Chant of Eagle, Chant of Vampire, Body of Avatar, Summon Nightshade, Wind Vortex, Dark Vortex, Warrior Servitor, Wizard Servitor, Assassin Servitor, Prophecy of Fire, Prophecy of Wind, Block Shield, Block Wind Walk, Chant of Spirit, Chant of Victory, Seal of Despair, Seal of Disease, Greater Might, Greater Shield, War Chant, Chant of Earth, Holy Attack Resistance, Dark Attack Resistance, Magical Backfire, Clarity, Mana Burn

---
## [knative-automation/discovery@27b577c85c...](https://github.com/knative-automation/discovery/commit/27b577c85c07a3130f789cb9fa792cc688b4a216)
##### 2021-06-11 13:39:14 by Knative Automation

upgrade to latest dependencies

bumping k8s.io/api 20fd6bc...6f23172:
  > 6f23172 Update dependencies to v0.20.7 tag
  > f223af8 Merge pull request # 100714 from kevindelgado/automated-cherry-pick-of-# 100341-# 98576-upstream-release-1.20
  > 70c1d0d Declare TCP default for service port protocol
  > 4cbcd86 Merge pull request # 100501 from joelsmith/automated-cherry-pick-of-# 98477-upstream-release-1.20
  > 0cd0422 update gogo/protobuf to v1.3.2
  > d610c6e Merge pull request # 99038 from apelisse/update-smd-1.20
  > e5551c6 Update sigs.k8s.io/structured-merge-diff to v4.0.3
  > 3e193e6 Merge pull request # 99171 from jkh52/release-1.20
  > 46c7876 Bump konnectivity-client to v0.0.15 in release-1.20
  > 4a626d3 Merge pull request # 96317 from Jefftree/test-ssa
  > ec60fd7 Merge pull request # 96527 from adtac/apfbeta
  > 71efbb1 Add default for protocol and test that it works
  > ccdf63a Merge pull request # 96425 from bobbypage/vendor-cadvisor-v0.38
  > 8c7a924 APF: graduate API and types to beta
  > 0efa9ae Update kube-openapi
  > 38ad389 Mixed protocol support for Services with type=LoadBalancer (# 94028)
  > e3d81d1 vendor: cadvisor v0.38.4
  > 2f89adb Merge pull request # 92744 from Nordix/disable-nodeport
  > e29b223 Merge pull request # 96549 from caesarxuchao/net-sys-dep-update
  > 19b688b Update generated files
  > a3e3f1b update golang.org/x/net and golang.org/x/sys
  > 85142af Add service.spec.AllocateLoadBalancerNodePorts
  > 9e320fe Merge pull request # 96528 from andrewsykim/service-topology-gate
  > 00b6ba7 Merge pull request # 96454 from Sh4d1/revert_92312
  > 8154bb5 core/v1: document that topologyKeys requires the ServiceTopology feature gate
  > 2b01906 Merge pull request # 96440 from robscott/endpointslice-pre-ga
  > 6b48320 Revert "Merge pull request # 92312 from Sh4d1/kep_1860"
  > a5dfa0b Merge pull request # 93130 from zshihang/master
  > dc73add Updates related to PR feedback
  > 41612b2 plumb service account token down to csi driver
  > 9d748f7 Adding NodeName to EndpointSlice API, deprecation updates
  > 88ad409 Merge pull request # 95718 from SergeyKanzhelev/runtimeClass2
  > a1154c0 Merge pull request # 95282 from xing-yang/snapshot_ga
  > cb1ab4f GA of RuntimeClass feature gate and API
  > 5dbd153 Merge pull request # 86102 from derekwaynecarr/downward-api
  > 033e8c8 Move Snapshot to GA
  > 9843017 Merge pull request # 96376 from gnufied/fsgroup-change-policy-beta
  > e9668ce Downward API hugepages
  > 8519c5e Merge pull request # 95954 from sttts/sttts-go-openapi
  > bc23b5d Move fsGroupChangePolicy feature to beta
  > 1803f8c bump(k8s.io/kube-openapi)
  > 7aff1d6 Merge pull request # 92312 from Sh4d1/kep_1860
  > 262093b Update generated
  > dea1ae4 fix reviews
  > 155a8ba Update generated
  > ba68473 fix review
  > 923a977 Add route type field to loadbalancer status ingress
  > 3e589e9 Use topology labels instead of old beta names (# 96033)
  > 202618c Merge pull request # 92968 from andrewsykim/endpointslice-termination
  > 6dca4bb endpointslice API: rename 'accepting' condition to 'serving' condition
  > d2b999a endpointslice API: add accepting and terminating conditions
  > 01c5338 Merge pull request # 96154 from rf232/update_klog
  > d94ed24 Update Klog dependency
  > 18d4659 Merge pull request # 94925 from yue9944882/apf-e2e
  > 7a95b56 Merge pull request # 96108 from liggitt/revert-sys
  > 24c7173 e2e cases for apf
  > dfd7172 Revert "Updated golang/x/net. Also updated golang.org/x/sys"
  > 14f7c84 Merge pull request # 96076 from caesarxuchao/update-deps
  > 952edf2 Updated golang/x/net. Also updated golang.org/x/sys, as required by
  > 4d8a081 Merge pull request # 95925 from deads2k/doc-events
  > 320e5d6 Merge pull request # 95196 from thockin/auto-wipe-linked-service-fields
  > 199c52e generated
  > 6f066c5 Wipe some fields on service "type" updates
  > d034441 add godoc for events to events.k8s.io
  > 840d9f1 Merge pull request # 95924 from khenidak/tombstone-ipfamily
  > c92b8c2 Event: Document TTL and best-effort-ness
  > 9a528eb tombstone-ing IPFamily field(15)
  > 0415de8 dual stack services (# 91824)
  > ccbd11b Merge pull request # 90691 from arjunrn/container-resource-hpa
  > 5d30734 Added functionality and API for pod autoscaling based on container resources
  > 54bcc31 Merge pull request # 95692 from markusthoemmes/bump-azure-adal
  > 2ea8d3c Fix dependency linting
  > bdd653e Bump github.com/Azure/go-autorest/autorest/adal to 0.9.5
  > 2c3c141 Merge pull request # 94910 from yashvardhan-kukreja/issue-94602/fix-comment-declaration-event
  > 18112a7 Merge pull request # 93901 from jpbetz/atomic-structs
  > 751d93c Cleaned up and fixed: the potentially misleading comments around Event struct
  > c7f225a Bump to latest kube-openapi and SMD to pick up structType=atomic support
  > 5bb35d2 Merge pull request # 94501 from ialidzhikov/nit/labels-staticcheck
  > d9d0f55 Merge pull request # 94936 from liggitt/1.16-default-off
  > e112735 Fix staging/src/k8s.io/apimachinery/pkg/labels golint findings
  > 46266dc Return the Kubernetes version which stopped serving deprecated APIs by default
  > 52bf624 Merge pull request # 94090 from deads2k/podpreset
  > 9c05be1 generated
  > b27da9d remove pod presets
  > c34296b Merge pull request # 92064 from roycaihw/storage-version/serve-api
  > b8168ac generated
  > 61e6429 Let kube-apiserver host the storage version API
  > bc9e561 Merge pull request # 93087 from roycaihw/storage-version/move-types
  > 728e00b generated
  > 984448e fix import paths
  > 250a6ae update doc.go and register.go
  > eadab4c move apiserverinternal types to kube-apiserver
  > 697df40 Merge pull request # 94010 from ghostsquad/docs/hpa-v2beta-type-missing-external
  > d07d586 Merge pull request # 94491 from dashpole/consistent_quoting
  > 302b86d chore: ðŸ“¦  update generated files
  > 69fcdae consistently use double quotes in proto files
  > 330bc69 docs(api): ðŸ“  Fix HPA docs with addition of "External" type
  > 03aa42f Merge pull request # 94182 from mattfenwick/issue-94088
  > 56ca95a modify DNS-1123 error messages to indicate that RFC 1123 is not followed exactly
  > 73d7eb3 Merge pull request # 94372 from mikkeloscar/stabilization-window-seconds-optional-omitempty
  > 9a15610 Merge pull request # 94341 from liggitt/1.19-api-testdata
  > 077b223 Omit optional field when empty
  > de4ea02 Add 1.19.0 API testdata
  > d873a30 Remove 1.17.0 API testdata
  > 4022903 Merge pull request # 94161 from RyPeck/mark-volume-projection-as-optional
  > f7be94e Merge pull request # 92987 from nikhita/cleanup-owners-apimachinery
  > a693b01 Make ProjectedVolumeSource optional
  > af6c97a Merge pull request # 94160 from matthyx/startupprobe-ga
  > dc06773 apimachinery: remove inactive members from OWNERS
  > 0f09571 Merge pull request # 87919 from SomtochiAma/update-api-docs
  > 99704f8 Remove StartupProbe featuregate and related logic
  > 051d027 Merge pull request # 94147 from liggitt/json-patch
  > 8ef363d Adds additional documentation for job status
  > 043b3b3 Update json-patch to v4.9.0 tagged release
  > 4934d0c Merge pull request # 93867 from apelisse/update-smd
  > 3816ff6 Update SMD to v4.0.1 and kube-openapi
  > a982eb5 Merge pull request # 93810 from liggitt/json-patch-4.8.0
  > 6f78dd3 Update to json-patch 4.8.0
  > 4859c94 Merge pull request # 93570 from liggitt/deprecate-component-status
  > 0deb595 Mark componentstatus as deprecated
  > 9540e4c Merge pull request # 93264 from justaugustus/go115
  > 6982bb4 generated: hack/update-vendor.sh
  > 4d9e384 [go1.15] go.mod: update to go1.15
  > e4973e0 Merge pull request # 92001 from huffmanca/include-csidriver-fsgroup
  > be36015 Merge pull request # 92919 from dashpole/update_cadvisor
  > cf56203 Updated dependencies
  > 702e5df Merge pull request # 92784 from pohly/generic-ephemeral-inline-volumes
  > 84c245e update cAdvisor to v0.37.0
  > 1d3d0cb Include CSIDriver SupportsFsGroup
  > 67a6848 Merge pull request # 92661 from jpbetz/smd-bump-field-unsetting
  > 9ac8387 GenericEphemeralVolume: 'make update' for API
  > 8b48348 Merge pull request # 91637 from robscott/endpointslice-mirroring
  > 43a1684 Bump to sigs.k8s.io/structured-merge-diff 43c19b to pick up unsetting fields changes PR# 166
  > 1e4834a GenericEphemeralVolume: feature gate, API, documentation
bumping k8s.io/apiextensions-apiserver 8c385d8...501c1cc:
  > 501c1cc Update dependencies to v0.20.7 tag
  > e41ac2d Merge pull request # 100501 from joelsmith/automated-cherry-pick-of-# 98477-upstream-release-1.20
  > 68522ff update gogo/protobuf to v1.3.2
  > 980c8ad Merge pull request # 99038 from apelisse/update-smd-1.20
  > 1355d70 Merge pull request # 100315 from deads2k/automated-cherry-pick-of-# 99946-upstream-release-1.20
  > 5b748ae Update sigs.k8s.io/structured-merge-diff to v4.0.3
  > 2da13d8 add markers for inspected validation mutation hits
  > 359faaf Merge pull request # 99171 from jkh52/release-1.20
  > 5929bc8 Bump konnectivity-client to v0.0.15 in release-1.20
  > f5e8afc Integrate defaults marker and remove ContainerPort defaulter
  > 7d479a1 Remove StripDefaults from BuildSwagger
  > beebb14 Strip defaults in new places
  > 0756373 Re-generate with defaults
  > dfdbfaa Update kube-openapi
  > 81d022d Merge pull request # 96425 from bobbypage/vendor-cadvisor-v0.38
  > 923e3c0 vendor: cadvisor v0.38.4
  > e4968fe Merge pull request # 96549 from caesarxuchao/net-sys-dep-update
  > 3ddff27 update golang.org/x/net and golang.org/x/sys
  > 44781eb sync: update go.mod
  > 923b86b Merge pull request # 96389 from Jefftree/kas-013
  > 459e030 Merge pull request # 96369 from gautierdelorme/fix-objects-preserve-unknown-fields
  > a21fef0 Bump kas to v0.0.14
  > 6e7c884 Merge pull request # 95908 from chenk008/fix_quantity_string
  > 6005a5b prune type in preserve-unknown-fields objects
  > 43c7a0c Merge pull request # 96323 from msscaroso/fix-lint-runtime-serializer-json
  > 283141a fix all Sting method not check nil in "k8s.io/apimachinery"
  > 0fbfc42 Merge pull request # 95954 from sttts/sttts-go-openapi
  > b30890d Fix go lint on folder apimachinery/pkg/runtime/serializer/json
  > 94e5f72 Update bazel
  > 14e7309 apiextensions: adapt error tests to fixed validation messages
  > 767a21e apiextensions: switch validation to kube-openapi
  > 539bdc3 bump(k8s.io/kube-openapi)
  > 1fa7e1a Merge pull request # 95423 from apelisse/default-null-crds
  > 81be19b Merge pull request # 96279 from cmluciano/cml/netutilsipv4
  > 2dccb2a CRs: Default non-nullable nulls
  > 00cd985 Merge pull request # 95571 from eddiezane/ez/update-cobra
  > f738881 dualstack: incorporate IsIPv4 updates from utils repo
  > ecb98ff Merge pull request # 95603 from soltysh/api_extensions
  > ac46b3b Update cobra dependency to v1.1.1
  > 54eeb3a Merge pull request # 96154 from rf232/update_klog
  > 699b5f1 Introduce api-extensions category in k8s apiserver
  > 85a3245 Update Klog dependency
  > 25b0f41 Merge pull request # 96112 from wojtek-t/remove_variadic_from_storage_interface
  > 2284c8e Merge pull request # 96108 from liggitt/revert-sys
  > 3ff9415 Remove variadic argument from storage interface
  > 90f0186 Revert "Updated golang/x/net. Also updated golang.org/x/sys"
  > 1ab5c07 Merge pull request # 96076 from caesarxuchao/update-deps
  > e911ae7 Updated golang/x/net. Also updated golang.org/x/sys, as required by
  > 161913a Merge pull request # 95736 from Jefftree/reuse-parser
  > 25d93c2 Make versionconverter functions private
  > d2ad07f Reuse SSA type converter for resources in the same API Group
  > cec7d1c Merge pull request # 90691 from arjunrn/container-resource-hpa
  > 38cfd51 Added functionality and API for pod autoscaling based on container resources
  > 98d2ee6 Merge pull request # 95692 from markusthoemmes/bump-azure-adal
  > 97cf00f Merge pull request # 91541 from bjrara/standalone-apiextension
  > 6577b0b Fix dependency linting
  > eaeda88 Merge pull request # 93901 from jpbetz/atomic-structs
  > 6b647db Enhance apiextensions-apiserver in standalone mode
  > 6e73d92 Bump github.com/Azure/go-autorest/autorest/adal to 0.9.5
  > 7751633 Tag LabelSelector with +structType=atomic
  > d6c3fb9 Bump to latest kube-openapi and SMD to pick up structType=atomic support
  > 10c9aa7 Merge pull request # 93078 from vareti/show-error-in-status-if-preserve-unknown-field-is-true-for-nonstructural-schemas
  > 6c0fef7 Merge pull request # 94983 from Jefftree/update-netproxy
  > 6bd4b00 make update
  > 8d2c4f3 Merge pull request # 94888 from sttts/sttts-preserve-unknown-fields-array
  > ba3171b Bump konnectivity-client to v0.0.12
  > a8b3bf2 fix integration tests
  > e56ac5d apiextensions: prune array type without items in published OpenAPI
  > 65feacd fix error message
  > 3e9f9da Merge pull request # 93214 from trashhalo/prefer-error
  > a2ee45a Show error in status if preserve unknown fields is true for nonstructural schemas
  > d0903c6 Merge pull request # 91993 from nodo/89274-change-of-managefields-via-subresources
  > b9253c1 prefer NoError/Error over Nil/NotNil
  > de997f3 Merge pull request # 94711 from jingyih/update_etcd
  > 783b0ca Do not allow manual changes to manageFields via subresources
  > fcda89b Update etcd to dd1b699fc489
  > 54e90f7 Merge pull request # 94491 from dashpole/consistent_quoting
  > cb669d0 consistently use double quotes in proto files
  > 62e90a8 Merge pull request # 94397 from wojtek-t/stop_setting_selflink
  > 21155a2 Merge pull request # 93499 from ZeroMagic/azure-autorest
  > d3ad323 Stop setting SelfLink in kube-apiserver.
  > cd21a8e Merge pull request # 94259 from jingyih/update_etcd_client_3p4p13
  > e9f79b1 chore: upgrade Azure/go-autorest to v14.2.0
  > bbbe050 Merge pull request # 90604 from gaurav1086/apiextensions_apiserver_remove_unncecessary_check
  > 2f5d106 Update etcd client to v3.4.13
  > 6d461db Merge pull request # 94147 from liggitt/json-patch
  > 0ca8ba9 [apiextensions-apiserver] remove unnecessary map exists check
  > 9dec6bf Update json-patch to v4.9.0 tagged release
  > d954e1b Merge pull request # 94105 from liggitt/etcd-3.4.12
  > 0e160b8 etcd 3.4.12
  > d6f0670 Merge pull request # 94055 from liggitt/subresource-flake
  > 5e79ac3 Deflake TestSubresourcePatch
  > b27f5a1 Merge pull request # 93867 from apelisse/update-smd
  > ecfb3e8 Update SMD to v4.0.1 and kube-openapi
  > 15e7831 Merge pull request # 93810 from liggitt/json-patch-4.8.0
  > b900c2f Update to json-patch 4.8.0
  > 3611705 Merge pull request # 93602 from liggitt/utils
  > 8fe71f9 Update k8s.io/utils
  > 4f04d5c Merge pull request # 93264 from justaugustus/go115
  > 6662262 generated: hack/update-vendor.sh
  > 68dac12 [go1.15] go.mod: update to go1.15
  > d406c3b Merge pull request # 93410 from nikhita/apimachinery-triage-labels
  > 9b43500 Merge pull request # 93398 from liggitt/apiserver-integration-startup
  > 03d7f15 Revert "Merge pull request # 93156 from logicalhan/triage-api-machinery"
  > 3193887 Allow integration test servers extra time to start
  > d584e1e Merge pull request # 93156 from logicalhan/triage-api-machinery
  > 49dbae1 Merge pull request # 93211 from liggitt/crdlist
  > 1346a7e automatically assign triage labels to api-machinery tagged PRs
  > e756854 Merge pull request # 93259 from jpbetz/revert-88936
  > 6016d08 Make CRDList lifecycle consistent with CRD
  > 1e0a807 Merge pull request # 93253 from liggitt/utils-trace
  > c166533 Revert nested trace PR# 88936
  > c15c585 Update k8s.io/utils
  > f6023d4 sync: update go.mod
  > 10ad0bb Merge pull request # 93118 from bart0sh/PR0091-update-etcd
  > 22d6aba go.mod: update etcd to fix e2e tests
  > 089f0e3 Merge pull request # 88936 from jpbetz/http-trace
  > 42ca8b5 Merge pull request # 92919 from dashpole/update_cadvisor
  > ef204ce Enable nested tracing, add request filter chain tracing incl. authn/authz tracing
  > 6173ad5 Merge pull request # 92879 from liggitt/short-integration-tests
  > 753a377 update cAdvisor to v0.37.0
  > ce39652 Merge pull request # 92842 from liggitt/deprecated-annotation
  > dfbc9d8 Skip expensive integration tests in short run mode
  > 97510e1 Merge pull request # 92516 from gaurav1086/PrepareForCreate_remove_map_nil_check
  > bb94c78 Add deprecated metric for requests to deprecated custom resource versions
  > a64e9dc Merge pull request # 92768 from deads2k/security-contacts
  > 9dcb063 [apiextensions] Remove nil check for map in PrepareForCreate
  > 446d97f Move feature gate check to crdInfo construction time
  > d2cdb23 Merge pull request # 92661 from jpbetz/smd-bump-field-unsetting
  > c1fa461 update security contacts for apimachinery repos
bumping k8s.io/apimachinery 2f881bd...c278689:
  > c278689 Merge pull request # 100952 from saschagrunert/automated-cherry-pick-of-# 99839-upstream-release-1.20
  > 2d51b86 Merge pull request # 101326 from joelsmith/automated-cherry-pick-of-# 101306-upstream-release-1.20
  > e3b7810 Cleanup portforward streams after their usage
  > b6e7048 Additional CVE-2021-3121 fix
  > 640a627 Merge pull request # 100501 from joelsmith/automated-cherry-pick-of-# 98477-upstream-release-1.20
  > 653e41b update gogo/protobuf to v1.3.2
  > 2641dba Merge pull request # 99038 from apelisse/update-smd-1.20
  > 1a42446 Update sigs.k8s.io/structured-merge-diff to v4.0.3
  > dd12c7a Merge pull request # 99171 from jkh52/release-1.20
  > 70e9d54 Bump konnectivity-client to v0.0.15 in release-1.20
  > 2456ebd Merge pull request # 95981 from caesarxuchao/http2-healthcheck
  > 859536f Merge pull request # 96317 from Jefftree/test-ssa
  > 5ff8662 allow configuring ReadIdelTimeout and PingTimeout via env var
  > e8cd3b1 Update kube-openapi
  > f364803 configure the ReadIdleTimeout and PingTimeout of the h2 transport
  > 65a627a Merge pull request # 96425 from bobbypage/vendor-cadvisor-v0.38
  > bd89392 vendor: cadvisor v0.38.4
  > 3231570 Merge pull request # 96549 from caesarxuchao/net-sys-dep-update
  > 88452b9 update golang.org/x/net and golang.org/x/sys
  > 671277b Merge pull request # 94866 from smarterclayton/scheduling_metrics
  > ea81dfb quantity: Allow quantity to be converted to float64
  > 000b5f4 Merge pull request # 96331 from mithuns/fix-lint-runtime-serializer-protobuf
  > dd0b9a0 Merge pull request # 95908 from chenk008/fix_quantity_string
  > 5a2beb9 Fix go lint on folder apimachinery/pkg/runtime/serializer/protobuf
  > 2afe1df Merge pull request # 96323 from msscaroso/fix-lint-runtime-serializer-json
  > 0a90637 fix all Sting method not check nil in "k8s.io/apimachinery"
  > a787aaf Merge pull request # 95954 from sttts/sttts-go-openapi
  > fc267ee Fix go lint on folder apimachinery/pkg/runtime/serializer/json
  > 8f768e7 bump(k8s.io/kube-openapi)
  > d67967d Merge pull request # 96020 from deads2k/dynamiclist
  > 79ef3cb Merge pull request # 96154 from rf232/update_klog
  > 53dac37 remove dead negotiation methods
  > dc3e230 Update Klog dependency
  > 1aed267 Merge pull request # 95961 from KnicKnic/set_condition
  > a876aa5 Merge pull request # 90355 from gaurav1086/apimachinery_remove_map_exists
  > 9338bf8 SetCondtion updates generation
  > 8046191 Merge pull request # 96108 from liggitt/revert-sys
  > a35bab0 [apimachinery] map delete key remove exists check
  > b6980d0 Merge pull request # 93859 from habibrosyad/patch-92402-2
  > e69fc57 Revert "Updated golang/x/net. Also updated golang.org/x/sys"
  > ff4a23d Merge pull request # 94480 from wojtek-t/remove_conversion_fields
  > 4d3fd53 fix vendor/k8s.io/apimachinery/pkg/api/meta staticcheck
  > 3a3fc75 Merge pull request # 96076 from caesarxuchao/update-deps
  > 95cb56f Remove FieldMatchingFlags
  > 8b0d589 Updated golang/x/net. Also updated golang.org/x/sys, as required by
  > d10b9c3 Merge pull request # 95874 from tkashem/webhook-handle-error
  > ab98f4d dual stack services (# 91824)
  > 82ec183 Webhook: handle error when calling wait.ExponentialBackoff
  > 3c73e5f Merge pull request # 95836 from nodo/yaml-unmarshal-number
  > 09e0b8e Merge pull request # 95821 from markusthoemmes/optimize-nn-string
  > d49a39e Add yaml util to unmarshal numbers into int/float
  > 4617138 Optimize string building for NamespacedName
  > 554eef9 Merge pull request # 95692 from markusthoemmes/bump-azure-adal
  > 00bf20f Fix dependency linting
  > 3c07e78 Bump github.com/Azure/go-autorest/autorest/adal to 0.9.5
  > d4f471b Merge pull request # 89482 from renatoviana12/master
  > 44d2359 Merge pull request # 95179 from stevenshuang/master
  > 7a27181 Fixed percentage behavior in instr
  > 6a8da43 Replace AreLabelsInWhiteList with isSubset
  > 10b3882 Merge pull request # 93901 from jpbetz/atomic-structs
  > a3b564b Tag LabelSelector with +structType=atomic
  > 3aab1ee Bump to latest kube-openapi and SMD to pick up structType=atomic support
  > 829ed19 Merge pull request # 94170 from awly/spdy-pings
  > 5b968b2 Merge pull request # 94501 from ialidzhikov/nit/labels-staticcheck
  > 5f0d6cf spdy: add optional periodic Pings on the connection
  > 714f113 Merge pull request # 93214 from trashhalo/prefer-error
  > dd92ff6 Fix staging/src/k8s.io/apimachinery/pkg/labels golint findings
  > 2f44a17 Merge pull request # 93027 from ialidzhikov/enh/label-funcs
  > f2eff94 prefer NoError/Error over Nil/NotNil
  > 1173d23 Merge pull request # 93785 from SataQiu/fix-comment-20200807
  > 97afc01 Add metav1.SetMetaDataLabel func
  > d8e5c2b Merge pull request # 94476 from habibrosyad/patch-92402-12
  > 7913322 fix incorrect comment in runtime ObjectKind interface
  > e57c6de Merge pull request # 94491 from dashpole/consistent_quoting
  > 5dbc7bc fix vendor/k8s.io/apimachinery/pkg/runtime/serializer/versioning staticcheck
  > 2e9dd8b consistently use double quotes in proto files
  > 1eef857 Merge pull request # 94460 from wojtek-t/remove_default_conversions
  > f663465 Remove default conversions
  > 6084ad0 Merge pull request # 94387 from habibrosyad/patch-92402-9
  > fc49b38 Merge pull request # 94182 from mattfenwick/issue-94088
  > f58c7c2 fix vendor/k8s.io/apimachinery/pkg/conversion staticcheck
  > 22a90f1 modify DNS-1123 error messages to indicate that RFC 1123 is not followed exactly
  > ba0f2f0 Merge pull request # 93108 from lixiaobing1/lxb-HandleCrash2
  > c643b8b Merge pull request # 94317 from kevindelgado/draft/fix-fakeclock-reset
  > 6e7cb7c fix HandleCrash() order
  > 5e0d80e Fix FakeClock::Reset to always succeed
  > 94222d0 Merge pull request # 93250 from liggitt/unstructured-int-float
  > c43a9f0 Merge pull request # 93291 from dixudx/codecfactory_serializers
  > 88f29bb Handle int -> float conversion in FromUnstructured
  > 598f878 Merge pull request # 92987 from nikhita/cleanup-owners-apimachinery
  > 7976cfa remove serializers from codec factory
  > cde3cec Merge pull request # 92637 from phinphing/master
  > 89eaa6d apimachinery: remove inactive members from OWNERS
  > 65d7dbf Merge pull request # 92491 from BenTheElder/fuzz-only-test
  > 5dca623 fix typo in runtime/interfaces.go
  > f9108ab Merge pull request # 91602 from sxllwx/lock_free_broadcaster
  > 08191f1 disable goffuzz in binaries
  > f3a77ab Merge pull request # 94100 from habibrosyad/patch-92402-8
  > 289560e lock-free broadcaster, use chan to ensure thread safety
  > 1b2290d Merge pull request # 93809 from Howie66/chore-Correct-words
  > 683e506 fix vendor/k8s.io/apimachinery/pkg/apis/meta/v1/unstructured/unstructuredscheme staticcheck
  > 8dfb339 Merge pull request # 93960 from habibrosyad/patch-92402-5
  > 43d5521 Format Codes
  > 61bb6d1 Merge pull request # 93871 from habibrosyad/patch-92402-4
  > 658f890 fix vendor/k8s.io/apimachinery/pkg/util/framer staticcheck
  > 2a67c66 Merge pull request # 93860 from habibrosyad/patch-92402-3
  > edb5786 fix vendor/k8s.io/apimachinery/pkg/apis/meta/v1/unstructured staticcheck
  > 1bdd76d Merge pull request # 92823 from AliMirlou/patch-1
  > ebebea5 fix vendor/k8s.io/apimachinery/pkg/labels staticcheck
  > 9254095 Merge pull request # 94147 from liggitt/json-patch
  > 2bfbee4 Fix a typo in comment
  > 0cfc30a Update json-patch to v4.9.0 tagged release
  > 2c6e837 Merge pull request # 93867 from apelisse/update-smd
  > e75ffe4 Update SMD to v4.0.1 and kube-openapi
  > da970ee Merge pull request # 93810 from liggitt/json-patch-4.8.0
  > c3261aa Merge pull request # 93797 from liggitt/unwrap-net-errors
  > 5bab0c8 Update to json-patch 4.8.0
  > b8eb6aa [go1.15] Use errors.As to unwrap net errors
  > 945d4eb Merge pull request # 93264 from justaugustus/go115
  > 06799a5 generated: hack/update-vendor.sh
  > 71c5b9e [go1.15] go.mod: update to go1.15
  > 5a17a77 [go1.15] apimachinery/pkg/util/proxy: Drop identity transfer-encoding
  > b84716e Merge pull request # 93410 from nikhita/apimachinery-triage-labels
  > 4948a58 Revert "Merge pull request # 93156 from logicalhan/triage-api-machinery"
  > 3f0ac6a Merge pull request # 93156 from logicalhan/triage-api-machinery
  > 296e520 automatically assign triage labels to api-machinery tagged PRs
  > cc2fa4f Merge pull request # 92941 from tallclair/invalid-redirect
  > 8e7d6bb Merge pull request # 92919 from dashpole/update_cadvisor
  > a76b711 Don't return proxied redirects to the client
  > 8e13431 Merge pull request # 92768 from deads2k/security-contacts
  > a8c4c9d update cAdvisor to v0.37.0
  > 9894919 Merge pull request # 92661 from jpbetz/smd-bump-field-unsetting
  > 6047e48 update security contacts for apimachinery repos
bumping k8s.io/kube-openapi 6aeccd4...d219536:
  > d219536 Merge pull request # 217 from apelisse/make-prune-schema-public
  > e5efaa5 Merge pull request # 216 from apelisse/remove-default-removal
  > b345f90 Make PruneDefaultsSchema public
  > 1a53ea8 Merge pull request # 215 from apelisse/remove-default-removal
  > d1ae56e PruneDefaults from OpenAPI definitions
  > 4260ea8 Merge pull request # 210 from apelisse/add-default-field
  > 3d739c2 Revert "Do not publish defaults in the OpenAPI"
  > 74b467f Merge pull request # 214 from sttts/sttts-validation-owners
  > 8302f5d Generate OpenAPI default field from +default comment marker
  > fd18780 Merge pull request # 213 from gautierdelorme/fix_unexpected_error_values
  > 4c5de0b validation: add OWNERS
  > c633d96 Do not publish defaults in the OpenAPI
  > e58175e Merge pull request # 211 from sttts/sttts-go-openapi
  > dc2906f remove unused stringValidator logic
  > 8b50664 Merge pull request # 201 from mandelsoft/master
  > 842b075 Merge pull request # 212 from apelisse/schemaconv-defaults
  > 79abcd8 go mod tidy
  > 6022c63 Fix unexpected error values
  > 64514a1 Merge pull request # 208 from apelisse/master-on-smd-v4
  > 7eba4cb fix type comments in tests
  > 75b8c0c Carries default from OpenAPI to smd schema
  > f11f208 pkg/validation: remove yaml dependency
  > daf3cbb Merge pull request # 204 from jpbetz/fix-separable-granular
  > 9e5d302 Change spaces indentation in yaml
  > 7defebb fix handling of inlined embedded struct pointer fields
  > e38fae7 Update structured-merge-diff to v4.02 with defaulting
  > 6d4b372 pkg/validation: revert github.com/go-openapi/validate/pull/81
  > 37f25a7 Merge pull request # 202 from jpbetz/atomic-map-extension
  > e87543d Fix openAPI x-kubernetes-map-type enum to be granular, not separable
  > 6a26536 kube-openapi release-1.19 uses smd v4
  > 4c7aaf5 Merge pull request # 199 from joelsmith/master
  > 2feab02 pkg/validation: disconnect from mongo libraries
  > 118b65b Add x-kubernetes-map-type: atomic support
  > dffdd16 Merge pull request # 198 from windayski/fix-typo
  > 5eea07a Add SECURITY.md
  > 7c24206 pkg/validation/validate: remove Swagger specific options
  > fc40da1 fix typos
  > 810b3bd pkg/validation/validate: delete misplaced $schema and id logic
  > 12b99a1 pkg/validation: strip errors package
  > cc84d3c pkg/validation: strip validate package
  > d3e34b6 pkg/validation: strip strfmt package
  > 73fa09a pkg/validation: strip spec package
  > c8c0761 pkg/validation: adapt imports
  > d5ff47f Add 'pkg/validation/strfmt/' from commit '4582ae0121f5848b90e7a2512238b657c8136124'
  > 4231b2d Add 'pkg/validation/spec/' from commit '3b94d049fd4e1a0ad441b1d45bb338b25647b519'
  > 6faa644 Merge pull request # 57 from go-openapi/fix-base64-regression
  > 41abdff Add 'pkg/validation/validate/' from commit '3f99090fb9b5c19d4b814575b460d99799b16477'
  > 2223ab3 fix expanding for go 1.13
  > 432db8f fix linting issues
  > ecb9ab3 revert back to stdencodign for base64
  > 5388388 Add 'pkg/validation/errors/' from commit '79f62bc27c99a0c81cbd7cfdced6d414dbee2c7b'
  > 08232b6 Merge pull request # 119 from fredbi/fix-items
  > bdfd7e0 update go.mod and travis for go1.12
  > f620df9 use official mongodb driver
  > d9664f9 add go.mod and go.sum
  > 1170d1c Merge pull request # 120 from fredbi/fix-relinting-excl-tests
  > 6cf224c Fixes issues related to swagger-specific rules with array schemas and items.
  > b2056d6 Merge pull request # 91 from sttts/sttts-nullable
  > a3e0926 remove easyjson dependency
  > 1801eed Merge pull request # 16 from fredbi/serve-nil-error
  > 80d596e Merge pull request # 118 from petrkotas/go-yaml-fix
  > cac980b linting, excluding test
  > cc050a9 linting & refactoring tests
  > 9d9763c Merge pull request # 90 from fredbi/fix-gob-security
  > 915f417 Add nullable
  > 49685d4 Fix function comments based on best practices from Effective Go
  > 87bb653 Merge pull request # 15 from maxatome/defaultHTTPCode
  > 41df026 Completed test for ServeError with nil Error, as discussed in # 13
  > cae306c Refactor type formats (# 117)
  > e0a8a7d Bump go-yaml version to cover fixed ddos heuristic
  > 53d7765 Merge pull request # 85 from fredbi/lint-and-refact
  > cb961e9 Fixed gob encoding/decoding for SwaggerProps
  > e87a5af Merge pull request # 54 from jeffreydwalter/master
  > ffd6e7d use go 1.11 in travis
  > 214ef8a Default error code can be changed externally
  > d85eac7 Add parameter type and validation match check (# 116)
  > 5b6cdde Merge pull request # 88 from fredbi/fix-1824
  > 9453b11 More unit testing
  > b0d6b39 Merge pull request # 52 from ligustah/fix-time-json-null
  > 57bf448 Issue # 53: Added support for parsing ISO8601 timestamps that are in localtime.
  > b2b2bef Merge pull request # 12 from fredbi/lint-and-test
  > d8e712d update to newer spec for go1.13 compatibility
  > c3754ea Merge pull request # 87 from fredbi/fix-1846
  > 4967c03 Fix gob encoding on operations
  > 22e9aff * Updated to new lint rules (globals and inits)
  > 29177d4 Merge pull request # 50 from justincormack/uuid
  > 5029a76 Handle JSON null values for DateTime
  > 7bcb96a fix # 10 - add error factor must be positive (# 11)
  > 41e8bbe - linting
  > 6405b90 update go.mod and travis for go1.12
  > 5bae59e add go.mod and go.sum
  > c166dd3 Fix regression on unmarshalling Ref types by using gob encode/decode
  > cfd46eb Reduce debt
  > 4d736b2 Merge pull request # 48 from kenjones-cisco/feature/cidr-format
  > c004288 Use google/uuid not pborman/uuid
  > 03cfca6 Merge pull request # 8 from ligustah/patch-1
  > fa1c2cc update .travis.yml for go1.12
  > f1468ac use go 1.11 in travis
  > bb51295 Merge pull request # 47 from mjvm/fix/empty-datetime-shouldbe-invalid
  > 2dbb59a Feature: Add CIDR format
  > fc3f73a Merge pull request # 7 from Simon-Li/patch-1
  > b587e41 Set Content-Type explicitly in ServeError
  > a2e819b Merge pull request # 109 from sttts/sttts-nullable
  > 384415f Merge pull request # 83 from fredbi/fix-circular-absolute
  > bc2668d Merge pull request # 45 from mrostecki/fix-deepcopy-comments
  > 28d9b38 empty datetime shouldn't be converted to epoch time and it shouldn't be accepted as valid
  > 49fe8b3 notify in slack
  > c25e181 Add a helper method for making up name
  > 3fd099a Fix schema options aren't propagated to childs (# 107)
  > 505f35f Add nullable
  > bce47c9 Merge pull request # 82 from go-openapi/circularRespParamsFix
  > 837d3d5 * Added option to expand circular $ref with absolute path
  > dd2bd34 Merge pull request # 44 from mrostecki/deepcopy
  > 2ce5189 Fix typos in comments to DeepCopyInto methods
  > c2d1ee3 move to travis
  > 5b1623b Merge pull request # 106 from tossmilestone/fix-array-items
  > 90cb622 Merge pull request # 81 from go-openapi/fix-circular
  > 2d9ee49 - handle transitive refs for responses/parameters
  > 870f786 Merge pull request # 43 from fredbi/fix-42
  > 13e5106 Add DeepCopy and DeepCopyInto methods to all types
  > 4178436 Merge pull request # 6 from go-openapi/valid-http-statuscode
  > d2eab7d add go.mod and go.sum
  > 691579c Add object disable array check option
  > ac0b6b8 Revert "Hang when expanding circular $ref"
  > 64080af Fix unit test no specifying correct path
  > e471370 Merge pull request # 40 from jimmystewpot/extend_hostname_validation
  > 1a393c9 Fix hostname validation regexp
  > 529f25f Merge pull request # 5 from ethanfrey/master
  > add0cc5 fix pullapprove regex
  > e0648ff use go 1.11 in travis
  > b79fccf Hang when expanding circular $ref
  > 08971c5 Added fixture for # 69
  > b7bbaf9 Merge pull request # 37 from jimmystewpot/36-fix_hostname_regex
  > b52d81c Merge branch 'extend_hostname_validation' of https://github.com/jimmystewpot/strfmt into extend_hostname_validation
  > d24ebc2 Merge pull request # 3 from go-openapi/pullapprove
  > a4b12db Define distinct error codes for different causes
  > bbed4f3 update drone to 1.7
  > 7c19119 Merge pull request # 100 from fredbi/fix-unit-test
  > 8b2cc60 Merge pull request # 78 from fredbi/fix-remote-skip-schemas
  > e2e66a1 * Circular ref, cont'd: absolutized initial root path passed with options
  > 81f5045 Merge pull request # 35 from fredbi/golangci-lint
  > 6232591 Fixes # 36 Hostname matching doesn't conform to modern hostname patterns
  > 88430b3 fix up rebase merge conflict
  > 1683a72 tidy up readability of tests
  > 8a4ac38 Merge pull request # 2 from fiorix/master
  > fd93366 adds pullapprove support
  > f023e63 update drone to 1.7
  > 4f81262 Merge pull request # 98 from fredbi/expand-with-base
  > 72cdde7 Fixed undue warnings w/race in unit test
  > 16284f9 Merge pull request # 68 from fredbi/travis-update-go-8-9
  > f9ebe9c Relocate relative $ref in response and param schema
  > 70ef9ff * Fixed transitiveResolver (change root)
  > edab999 Merge pull request # 33 from go-openapi/fix-goswagger-1519
  > 53354ba Linting
  > 8fde95a tidy up readability of tests
  > 292dbf3 fix regex to allow non-ascii and long tlds
  > b6a74a9 update readme badge
  > f16c3d9 Fix typo mulit vs multi
  > 4c3f2a6 map internal error code to http status code
  > 9a6e517 Merge pull request # 96 from fredbi/fix-linting
  > 109e4ba Fixes with remote and cyclical $ref
  > 49a17f2 Merge pull request # 73 from fredbi/fix-linting
  > 1d51702 Merge branch 'master' into travis-update-go-8-9
  > 6e1e397 Merge branches 'fix-circular' and 'master' of https://github.com/go-openapi/spec into fix-circular
  > 35fe473 add go.mod and go.sum
  > d2c6911 adds finns failing address
  > 6f9e6a3 rebase from master
  > 57feacd add unicode (emoji) and puny code domain support to hostname validation
  > 9a60a06 adds badges
  > b0a3ed6 Merge pull request # 95 from jerome-laforge/master
  > 58e1f50 * Some linting
  > bcff419 adds test for security requirement parsing
  > 93213da Linting
  > a866211 upgrade CI with go 1.8 and 1.9
  > 035942d - change basepath when encountering a transitive ref
  > 7761141 Merge pull request # 31 from jerome-laforge/master
  > 4571a0b ensure the address is not just a name
  > 92d4b1f add unicode (emoji) and puny code domain support to hostname validation
  > c70d1bd adds license etc
  > 9ce4aba Merge pull request # 94 from jerome-laforge/master
  > d543b1a Remove unnecessary code duplication
  > 68d51af update jsonschema draft4
  > af4c70f Hang when expanding circular $ref
  > 6292e8b use go 1.11 in travis
  > 04228a9 # 30 github.com/go-mgo/mgo is no longer maintained
  > 44323b0 adds a test with some unusual email addresses
  > 5998ddd adds drone build
  > 9286f6d Merge pull request # 91 from sttts/sttts-fix-defaulter-plus-test
  > 8da38e2 Avoid lock when regexp's cache is hot.
  > 2be454c Merge branch 'master' into master
  > 370d9e0 Merge pull request # 72 from go-openapi/fixSpelling
  > eed2e94 update travis yml
  > 5e0adf9 use an RFC 5322 address parser for email addresses
  > 8c410d7 fixes # 363 add int validation for min/max
  > e943f4b Merge pull request # 90 from fredbi/fix-debug-logger
  > c803615 Stop defaults overriding existing values
  > f6c557a Remove unnecessary code duplication
  > 9acd888 Merge pull request # 71 from go-openapi/transitiveResolverLocalRefCheck
  > 18bafbc - fix spelling
  > 913ee05 Merge pull request # 29 from fredbi/fix-linting
  > 5891937 cleanup and update vendor
  > f8f9c59 Merge pull request # 88 from victorxw/87-fix-regexp-cache-race
  > 5a75475 Fix debug logger side effects
  > a309226 Merge pull request # 70 from go-openapi/transitive-refs
  > f7d3cf6 - only change the resolver for transitive refs if the ref isn't local
  > 4818084 Merge pull request # 28 from fieryorc/cr/26-fix_null_date
  > 6410a8a Linting
  > 3436444 fixes enum validation fail
  > 659e09d Merge pull request # 86 from sttts/sttts-reflect-slices
  > 64288d1 Fix regexp cache race issue
  > d8000b5 fix case no url fragment
  > 66589c1 - remove dead code
  > 257eae8 Merge pull request # 27 from fieryorc/pr/26-uuid-null
  > 67468bf Handle null dates when deserializing
  > 82dd1e1 reformat
  > a6c59cf Merge pull request # 81 from sttts/sttts-orthogonal-defaulting
  > 1788db6 Clarify post-algorithm inputs
  > 410b67e normalizePaths() and tests issues fix for Windows
  > b1a574a - fixes # 65
  > 6ba3155 Merge pull request # 25 from outdoorsy/master
  > 6e21b58 Handle null uuids when deserializing
  > 6fb880f adds license header
  > 180bba5 Added fixtures for non-regression
  > 563c6e5 optimize: reduce quantor allocations
  > 17d85e3 Allow typed slices via reflection
  > 8f284a2 more accurate, with normalizeAbsPath()
  > 6d1a47f Merge pull request # 24 from fredbi/strfmt-extends-ut-dates-and-times
  > d62f4e6 Fix str->bson function usages
  > d06126e Merge branch 'gen-spec'
  > 1846887 Fix hang on recursive schemas when checking example of default values.
  > deac891 Add pruning post-validate algorithm
  > ed99db2 Add runtime integration test
  > fe19c0b absPath() windows fix
  > 2a209b0 Merge pull request # 21 from fredbi/doc-update
  > 7f951f2 Extended unit tests coverage on date, datetime and duration
  > 565063a refactors validation errors
  > 359dec9 remove godeps, testify breakage
  > 1ff04bd - run long running tests in parallel
  > 94e900b defaulting: implement orthogonally to validation
  > 1de3e05 improve performance of schema deserialize
  > 4dd3d30 Merge pull request # 19 from krnkl/18-date-validation
  > 4f91803 Doc work: README, godoc and linting
  > 7b27eb5 move last remaining error into errors package
  > 19a5938 Better test coverage
  > c7c5d5c defaulting: add benchmark
  > 7a3d901 Merge pull request # 60 from go-openapi/all-circular-refs
  > a764d2e The dashes in UUIDs are optional.
  > 245bafe Fixed isDate validation; added unittests
  > 5220f8d some extremely low hanging fruit tests
  > d5d4826 Fixes # 75
  > e62278c defaulting: add simpler unit test for debugging
  > a7c6967 Merge pull request # 59 from stoplightio/fix-response-exansion
  > b7cbfa8 - if ref is equal to the current ref for a response, parameter or path item then don't expand again.
  > 610b6ca Add RFC3339 format with microsecond precision
  > 868563a generate operations and parameters for the server
  > 4d761f0 Fix issue# 73: panic on unresolved  in response definition
  > e5cac01 Merge pull request # 58 from koron/normalize-drive-letter-windows
  > 41de52f - fix expand response, path items, and parameters
  > 7ede853 - handle circular references for path items, responses and parameters
  > af70bcd Allow MarshalFormat to be overridden
  > 55567f4 generators wip
  > 2a09d72 - [x] Fixed panic case whenever a $ref is declared as sibling of response.
  > 81ece4e Merge pull request # 57 from kreamyx/expansion-export
  > ce2166c normalize cache key for root in ExpandSchema
  > 93a31ef Fixing date_test to use Formatted string reference date for comparison
  > 8a1c964 Adds support for authentication
  > 9129a28 Added default validation for headers
  > f3499b5 Merge pull request # 55 from stoplightio/httpRelativeBase
  > c4e71bf added exported versions of the expandResponse and the expandParameter functions to be used by the validate package
  > 1cb88cb Correcting date time storage to use RFC3339Millis
  > f1b51f3 render correct success status code
  > 2f38c53 Non-validating examples raise warnings, not errors
  > 8ed76de Merge pull request # 54 from stoplightio/fix-expand-schema
  > cccc148 - use strings.HasPrefix instead of strings.Contains to detect a url
  > 6dd1b17 Correcting date time storage to use RFC3339Millis
  > df6dca6 add more tests
  > 9999dd7 Merge pull request # 64 from stoplightio/master
  > fa03337 Merge pull request # 50 from kreamyx/clean-up
  > 6bff943 - Don't write root schema to disk.
  > 18002ed relative base can be a http url
  > 583d10b Adding cast to time.Time for sql.Value calls for non-reflecting drivers
  > e258299 (wip) jsonschema implementation
  > 9b59475 Merge pull request # 62 from fredbi/53-enhance-message-catalog
  > 35e5534 - fix TestSchemaValidator_Panic
  > 5fb63ac Merge pull request # 49 from go-openapi/revert-48-master
  > 7857ce9 clean up temp files
  > bf5b18a fix grammar mistake found by @PaulCapestany
  > 612ee2e adds validations for array paramters
  > fa47bbf Validate examples. Refactoring of validate pkg. (# 60)
  > c7d02fc Complete godoc-ed catalog of validation messages
  > 0d19bc5 Merge pull request # 48 from CiscoM31/master
  > e41dd92 Revert "47-Delete temporary files before program termination"
  > 38b28fd Merge pull request # 12 from go-openapi/feat-mgo-compatibility
  > f747d65 implements validation for parameters
  > 0e805b1 44 FIX - Improve spec validation messages (# 42)
  > 06b88aa Merge pull request # 46 from hypnoglow/45-fix-expand-schema-with-empty-basepath
  > 803abef Delete temporary files before program termination
  > 2f6a212 Merge pull request # 10 from go-openapi/feat-convertors
  > 988898b add bson objectid type
  > 05502a8 refactor binding into a parameter module, add some validation
  > 32db5cd update json schema fixtures
  > aa90e7c Merge pull request # 44 from hypnoglow/43-relative-base-checks
  > 6ef9882 Fix expandSchema when basePath is empty
  > 0cb3db4 revert hostname validator
  > 3f0a5ee update ci/travis to work with multiple packages
  > 2c55f40 add GetBSON/SetBSON for all types
  > f29eabe adds sanity tests for error generation
  > 84511ac fix validate test to reconcile recursive refs with temp files
  > 0173894 fixing paths for windows (# 42)
  > ae13823 Consistently check if RelativeBase is empty
  > 5050127 use more of govalidator where possible
  > 78ff80e add conv pkg
  > ffb252e big restructuring of project layout
  > d509235 Recognize path parameters in path segment fragments # 39
  > 4a3d261 optimization of ResolveRef during code generation (# 41)
  > 34fc3ba move to travis
  > a52193a allow a property name to be properties
  > 65a3c60 reference resolution  (# 38)
  > 0b340fc Merge pull request # 6 from karim-elghamrawy/mapstructure
  > 9ca207c remove debug artefact
  > 5a4a1e9 Merge pull request # 40 from databus23/regression-issue-39
  > d65c7fd Merge pull request # 5 from karim-elghamrawy/UUID-validation
  > c7420a9 modify drone
  > bed0b99 allow a property name to be items
  > bfb48d3 Merge pull request # 39 from databus23/patch-1
  > 967b480 Avoid null value when serializing operations
  > dfda818 Merge pull request # 4 from go-openapi/pullapprove
  > 8bc5140 Fixed the uppercase isse for UUIDx validations
  > c19edbc added mapstructure hook
  > a762d5d more validations when type does not even exist
  > a4fa957 Merge pull request # 37 from ethantkoenig/example
  > 58f1853 Don't drop empty arrays of operations security definitions
  > 256bd5a Merge pull request # 3 from shawnps/master
  > 7189d7d adds pullapprove support
  > 32c2d07 Fix panic for nil schema
  > 84b5bee Merge pull request # 35 from kreamyx/ref-resolution
  > eef1d9a Add Example field to SimpleSchema
  > ee18223 Merge pull request # 2 from go-openapi/easyjson-methods
  > e4017a4 gofmt -s
  > e9896c1 added a check that type array must have items
  > 48c2a71 Merge pull request # 33 from morlay/master
  > 778dc9b solve recursive issue
  > 66a99d4 Merge pull request # 1 from tzneal/master
  > 45a8a06 update drone.yml
  > b6cfc35 added tests
  > 7abd574 Merge pull request # 31 from nikhita/fix-json-marshal
  > b6429be marshal unmarshal item with vendorExtensible
  > d9e0070 fix basePath and add some logging
  > f827e8c adds license etc
  > c8619da add support for MAC and split/fix tests
  > 3525286 adds methods for easyjson interfaces
  > e8b25c4 check that any object with items key should have a type array
  > 3faa005 Merge pull request # 30 from nikhita/fix-ref-comment
  > bfeb729 nil value should get marshalled to json null
  > 4762da7 added tests
  > 957c950 adds drone build
  > 4566af4 Add the test case causing the (fixed) panic
  > 51363c5 return empty ref instead of empty fragment for root ref
  > 352aaa8 ref: fix comment for MustCreateRef
  > 78d12de remove debug artifact
  > 65b0e7f once and for all work out the rules for pointing to things
  > e291569 Fix panic when json.Number value is in a string field
  > 9cf697d Merge pull request # 28 from stoplightio/master
  > 00fbf1c ref resolution
  > 5c5ca2f Change strfmt.DateTime and strfmt.Date types to alias
  > dc8a684 Fix multipleOf validation for float
  > e81a133 Merge pull request # 27 from stoplightio/master
  > 3a1ce1b - donâ€™t panic when an array of refs canâ€™t be expanded because the ref doesnâ€™t exist.
  > 927b235 FIXES # 193
  > 6ea11e6 Revert "Spec Validate function returns validated spec document"
  > e51c28f fix resolving local files on windows
  > d9973aa Update missingRef.json
  > 0f765d4 Refactor strfmt/time tests, add strfmt.NewDateTime function
  > 901ab08 Spec Validate function returns validated spec document
  > 02fb9cd Merge pull request # 20 from tgraf/response-vendor
  > 568697b - add test fixture for continue on error
  > ff65ae4 remove nil handling
  > 8a82927 Add defaulter support
  > f81e0f7 Merge pull request # 19 from go-openapi/fix-definitions-omitempty
  > 20787e6 Add vendor extension to response
  > 61a0b1c - add test case for continue on error flag for expanding a spec.
  > ea5835c allow for nil too
  > 035dcd7 Merge pull request # 23 from go-openapi/fix-ci-readme-badge
  > e072eb2 add vendor extensions to items
  > 15bda12 omit definitions from json serialization when empty
  > 3bb6a37 - fix Schema and Ref struct tags
  > f4a0ffb adds test for the zero unmarshal
  > 8e5a58a Merge pull request # 22 from carvind/arvind-test-recursive-refs
  > 3bc6644 replace vmware badges w/ travis/codecov
  > 593aa4c Merge pull request # 18 from carvind/fix-external-refs
  > 2269577 always default to unix epoch 0
  > b11dbf8 update json-schema-fixtures
  > d32bc74 Add test for recursive expansion
  > 3a04341 add .editorconfig file
  > b0bd7b5 Remove unnecessary paincs
  > 6fa5d3a fix golint issues for strfmt
  > 0134d56 Merge pull request # 21 from GlenDC/6-no-responses
  > 458d956 reset resolver in between different stages of expanding spec
  > 866da0c Check external refs if already resolved
  > 7bb072e reformat
  > 763d886 fix validation of spec with local file references
  > f3cd0d1 add tests for issue 6
  > 34b5fff no pointer for status code response
  > 8856928 fixes # 92 structs can't have more than one swagger function
  > f31278a Merge pull request # 20 from GlenDC/18-validate-patterns
  > f7e42b8 add missing JSONPointable interface implemenations
  > abe1c79 adds license header
  > 2c997e1 update json-schema acceptance tests
  > 755cb91 validate invalid patterns - fixes # 18
  > 2303790 allow for skipping schemas when resolving refs
  > 7a142d4 fix NPE for reading invalid date type
  > 027696d Merge pull request # 15 from go-openapi/update-jsonschema-suite
  > 8be5aee adds methods to resolve items and path items
  > ba15317 Scan() and Value() for most string types.
  > e931a23 Merge pull request # 14 from go-openapi/fix-enum-validation
  > 806aac1 remove duplicate test
  > 2b6b49e more fixes for windows path concatenation
  > 5e67547 sql.Scanner and driver.Valuer implementation for strfmt datetime types.
  > 03d947b Merge pull request # 9 from go-openapi/number-fix
  > 39be12f fix int enum validation
  > 0f417b1 update travis with pretty print lib
  > 501bbbb rewrite paths on windows
  > c0af102 Replace casualjim with go-swagger in imports.
  > deaf2c9 Merge pull request # 1 from go-openapi/pullapprove
  > 721fe46 disable failing test for more important fix
  > 18a374f adds verbose logging
  > 8eb7426 rewrite file paths for windows
  > 67d464a Fixes # 7 adds support for password format
  > 1487254 fall back to converting and comparing for enum validation (for go-swagger/go-swagger# 523)
  > 7c0865a adds pullapprove support
  > 6d57208 add a case for dealing with json.Number
  > 98ced7e update fixtures and move to travis
  > 3008893 detect if base is a file or dir
  > 9c8bbcd Merge branch 'gen-spec'
  > f9db1b8 remove the reload
  > 0348a3c make IsValidURI base path aware
  > 4bc9387 add support for custom string formats
  > fd5ef4b drop the '+' from a +swagger: annotations
  > e6da236 refactor package structure to flat
  > 6138df5 Verify expansion works in response
  > ff140ef partial implementation for parsing schemas
  > 82fd27f update build
  > f7ae86d fix # 17 remove binary
  > 6650845 wip
  > 3aa147d update drone.sec
  > d1c18b3 Merge pull request # 16 from prettyxw/master
  > dfff0ca remove godeps, testify breakage
  > 495e588 re-enable file validation
  > 75eab84 Merge pull request # 15 from prettyxw/master
  > 06cc456 Improve code in normalizeFileRef().
  > 33a653a add build files etc
  > 8f2b3d0 Merge pull request # 13 from BafFlynN/master
  > 15b547f Fix infinite loop error in resolveRef().
  > 50dbb09 Better if to determine a file reference.
  > 0f8a682 move errors and strfmt into their own repo
  > 451818a Merge pull request # 12 from go-openapi/expander-fixes
  > 1c7661f pass original target.ID onwards
  > 7e980cd Fix: Expand spec that contains file reference.
  > f950ca5 Fix type assetion error.
  > d86e7ae moves loads and analysis into their own packages
  > 98bb9aa Update README.md
  > a31ef44 fixed r.currentRef needed = currentRef in r.Resolve
  > 61cbb7b update json schema
  > 6c46ef7 Support circular file references.
  > dbbd2f0 rewrite for removal of loads package
  > 04b593a update badges in readme
  > 54c6519 adds a failing test
  > 0dbebf5 all tests pass now
  > 75d0421 moves spec, swag, internal/testing, jsonpointer, jsonreference to their own repos
  > 660f7a7 Merge pull request # 10 from go-openapi/avoid-race
  > 709a663 update
  > f131695 Merge pull request # 485 from go-swagger/extract-spec-analyzer
  > bbc678b Merge pull request # 9 from prettyxw/master
  > 2766ac2 remove a rare race
  > 12a467f Merge pull request # 450 from galaxie/master
  > 73107a7 moves yaml spec loading functions to its own package
  > 2433d2f Merge pull request # 8 from go-openapi/spec-update
  > d2461f9 Add vendor extensions support for header.
  > 4c2c438 Merge pull request # 440 from flavioribeiro/master
  > 023add3 Merge branch 'master' into master
  > 7eb8dd4 moves loading a spec doc into its own package
  > 6aced65 Merge pull request # 7 from mbohlool/master
  > cd9894a update swagger schema.json
  > 1800165 Merge pull request # 396 from gaplyk/master
  > f1d923d fix typo (defintion -> definition)
  > cfa6b86 Check non-valid values in  Required function. Fix minor typos
  > 3e6d6b1 move analysis out of object model
  > e9fab75 Merge pull request # 5 from go-openapi/pullapprove
  > 137bf17 Make all sub-properties public
  > e89ccd7 Merge pull request # 394 from go-swagger/368-merge-expand-items
  > c4f436f Merge branch 'master' of github.com:go-swagger/go-swagger
  > 9e02bb8 Add validation required fix and corresponding package tests
  > 95959bd Merge pull request # 4 from stoplightio/master
  > ed19648 adds pullapprove support
  > 88796ac Merge pull request # 392 from caglar10ur/flags
  > 408016c cherry-picks files from stoplight branch
  > 12e3276 Merge branch 'master' of github.com:go-swagger/go-swagger
  > 2029f51 Merge pull request # 1 from stoplightio/master
  > ff49af6 - Fixes # 3, circular refs no longer panics.
  > 2e13aac Merge pull request # 391 from gaplyk/master
  > 6dcc7c8 Merge branch 'master' into flags
  > 72a68b0 add robots.txt file
  > afe1c90 Merge pull request # 387 from go-swagger/159-invalid-ref
  > 1f40fcb adds license etc
  > f183b62 - keep track of parent refs better, fixed https://github.com/go-swagger/go-swagger/issues/483
  > ba2ac84 fixes # 16 warn for unused values
  > da1b22d Update .gitignore
  > aa454dd Merge pull request # 374 from go-swagger/363-int-minmax
  > 9077d68 fixes # 159 invalid uris are invalid refs
  > 59736cd update for new package structure
  > c4e61b4 fixes # 127 add formdata and body validation
  > 9fe9d04 Merge pull request # 373 from go-swagger/misc-fixes
  > df8e8b6 fix linting errors
  > 6e05c1b moves yaml spec loading functions to its own package
  > cb38921 Merge pull request # 157 from ecnahc515/support_x-nullable
  > c4ad296 fixes # 372 separate listener creation from serving
  > a1b0ff6 fixes # 363 add int validation for min/max
  > 3386a82 moves loading a spec doc into its own package
  > 852d3b2 fixes # 149 add allowEmptyValue support on server and client
  > ad56ea5 fixes # 128 validation for empty path param names
  > c421876 pre-allocate known lengths, remove some commented code
  > bdde9c7 updates domain names
  > 768ead8 removed stale files
  > 7366d2e stop tests from triggering firewall dialog on osx
  > 5c5e615 move analysis out of object model
  > 78cffcb fix recursive ref resolutions in validation
  > 88c964f Fix for exander test.
  > d5a535e fixes # 123 fixes wrong name detection for circular ancestry
  > becf18a Use cache as it is designed to be used, not as it is actually used.
  > ebd43ca reformat
  > de24523 once and for all work out the rules for pointing to things
  > f855ecd update from upstream
  > 4b54972 fixes # 386 fields in response refs
  > fbaf4db adds license header
  > a77b1fc allow empty operation ids
  > 5476576 - fix Panic expanding responses that are a schema ref with circular
  > 59164d3 Add 'docs/public/' from commit '82664226de5580c9258c9fa97cd3dbf838fa1c72'
  > 7003341 fixes # 104 swagger validate now fails for duplicate operation ids
  > c89aaf5 Merge branch 'master' into master
  > 8fb592c Add 'docs/themes/bootie-docs/' from commit '81e1459dac71f81285cb4f4b3fe2aae7878136cb'
  > 8e8fa3b - fix circular refs!
  > e3a6c42 removes goconvey from tests
  > 308a3af fixes # 62, fail validation for swagger spec jsonschema
  > 13a58f3 hugo new theme
  > d9516bd removes goconvey from tests
  > 970c819 - expand schemas properly, with all tests passing.
  > 07253ed fixes # 61 find refs
  > 694783e - Don't decode array's as null if objects are empty.
  > 5bcbad1 cherry-picks files from stoplight branch
  > 6a517e7 fixes multiple-refs in params validation
  > 747eae7 fixes # 159 invalid uris are invalid refs
  > daf2b56 fix NPE for reading invalid date type
  > 8d899c8 fixes # 372 separate listener creation from serving
  > fe5e970 validate response examples against schema
  > c5275f5 fixes # 304 operation consumes/produces now overrides instead of complements
  > 1cedc8d fixes # 79 validate enum values
  > d9eda23 fixes # 278 adds support for unix domain sockets
  > ced2f7b fixes # 18 validates default values
  > 965bd77 Add Support for Extensions on the swagger root object.
  > 53fcc15 adds validations for schema
  > 12291ed fixes # 254 go 1.6 fixes reflection bug we relied on
  > 1c08d05 validate default values for headers
  > 32f7333 build generator DOM once
  > 127bebd also validate parameter items
  > 5271609 adds chainable builder methods
  > d2475c0 also fail validation for a parameter
  > 8b7d2fe fixes # 187 add an init command
  > b67ec08 make the success case work for parameters
  > 7da8251 fixes # 16 warn for unused values
  > 54640f4 beginning of tests
  > 0ad45a3 operation id has no influence over routing
  > 91b2f07 untested params validation
  > 48f049f fixes # 170 render instagram api server
  > f0eafb5 fixes # 63, rely on resolution for parameters bag at root level
  > 989bded fix analyzer so it uses slash paths instead filepath, all test pass on windows
  > bc6d013 Merge pull request # 64 from dolmen/fix/show-path-in-path-parameter-validation-error
  > 1400258 fixes # 149 add allowEmptyValue support on server and client
  > 7052e53 fixes # 17 must be able to resolve all references
  > e70e111 validation: show path in path parameter validation errors
  > c568ef0 fixes # 65 support discriminators for schemas
  > 171b662 fixes # 13: validates circular ancestry
  > 022bea8 fixes # 123 fixes wrong name detection for circular ancestry
  > cfaa794 fixes # 12 duplicate property names in composed definition
  > bbde078 fixes # 115 support https in generated server
  > 7e37496 fixes # 53 fail when swagger version is missing
  > e1b1b25 reformat
  > c6a38d1 fixes # 52: check for nil on paths
  > a8f2096 ensure basepath starts with '/', don't render unset body
  > 2f65e0a Merge pull request # 26 from gbjk/master
  > 40effcb contributes to # 90 renders all the known annotations
  > 25c76d1 Merge pull request # 25 from gbjk/feature/leaked_target
  > ea9ba78 Merge remote-tracking branch 'upstream/master'
  > b470a48 move scripts into scripts dir
  > 8bcf01c Merge pull request # 24 from gbjk/feature/import_paths
  > 3e1a592 moves interfaces from root to httpkit package
  > 1c2301d Replace casualjim with go-swagger in imports.
  > 811998c adds license header
  > c7b7454 move validation to httpkit/validate
  > 8d3449d fixes # 85 pick up shared parameter definitions for client gen
  > a9868a5 renames util package to swag
  > 4fe7f0d fixes # 62, fail validation for swagger spec jsonschema
  > d23fa32 Merge branch 'gen-spec'
  > bcf62ac fixes multiple-refs in params validation
  > b511e86 add a few doc comments
  > d8f29db wip
  > 53ddbfe validate response examples against schema
  > 848b18b adds validation for required properties in definitions
  > 7ab50d3 update to latest swagger json schema definition
  > 8afca9f Adds specs for validating items for array elements
  > aba00bb fixes # 63, rely on resolution for parameters bag at root level
  > 8fbfed5 adds extra validations for operation parameters
  > b91c4ed partial fix for # 65
  > 08607fb update some docs
  > dd97f70 fix test failure
  > 9b5a3cd refactors validation errors
  > 296ff68 fixes # 53 fail when swagger version is missing
  > f88ae0d merge generators branch
  > 86102af fixes # 52: check for nil on paths
  > a1f9cb5 Adds support for authentication
  > bda65b6 refactor validate package
  > a950cdd updates swagger schema.json
  > f66362e render correct success status code
  > f57dc3b moves lots of validation code in internal package
  > 3793557 fixes # 55 convert custom formats
  > 991daf5 refactor basepath to be a router middleware only thing
  > a8a3cc1 move content type validation to middleware package
  > ca4ede4 More tests for additionalProperties
  > b345d6c adds a command for serving swagger ui
  > 08a0862 remove some dead code
  > 38038f5 Found a big gap in the support for additional items
  > ee0e624 integrates validation into request binding
  > 23a23c2 fix remaining missing types
  > 652f81d moves spec related assets under spec package
  > 11941ef adds support for extra formats defined by json-schema
  > 065cf38 add support for custom string formats
  > af91bb5 Fix tests for integer
  > fcae14d brings validate command back
  > fdece36 adds binding slice parameters
  > 1c6f06a Adds tuple type array definitions
  > 6098d61 makes all the json schema test suite specs pass
  > fde79a8 fix remaining test failures
  > 324641e wip, sharing simplest spec
  > d87e774 adds some tests for expanding refs
  > a9d8f65 fix some tests after testify upgrade
  > d8b19ff regen assets to pass golint
  > 52b8b65 struct support
  > 7c90c32 generate operations and parameters for the server
  > 4dc672a fixes # 4 include swagger version
  > 25bd51d makes the last jsonschema tests that don't require reference resolution pass
  > 58729c2 generators wip
  > 72c7dba Replace casualjim with go-swagger in imports.
  > f362fe2 (wip) jsonschema implementation
  > 446def4 renames util package to swag
  > a6d4fe7 Adds validator for items in parameters
  > 9f82d9f Merge branch 'gen-spec'
  > e811262 adds validations for array paramters
  > 7ff1ee3 Adds specs for validating items for array elements
  > 0baff8e adds parsing of response structs
  > c8d6550 don't validate content twice
  > 5247d48 adds extra validations for operation parameters
  > c2039a3 adds parsing of structs to schemas
  > 801527e implements validation for parameters
  > a546ef3 moves testing helpers into internal package
  > c9f2a67 partial implementation for parsing schemas
  > 1906e15 refactor binding into a parameter module, add some validation
  > 6853c23 refactors validation errors
  > 326e781 wip moving to gb as tool
  > cb20c8b adds tests for binding a fully untyped request
  > 30761de moves lots of validation code in internal package
  > 1325118 big restructuring of project layout
  > 6a64ce8 Add generating a builder
  > 2b9c6a5 initial commit
  > cb77705 refactor router to use http.Handler
  > b9b1153 generate typed authed operation
  > eb319d3 generate operations and parameters for the server
  > d51facf generators wip
  > 1fdc069 Adds support for authentication
  > 9fd9785 render correct success status code
  > dcb2bd0 makes a bit of the petstore example work with current featureset
  > 94c535d integrates validation into request binding
  > d2fe763 adds support for extra formats defined by json-schema
  > 002eb78 brings validate command back
  > 2f18ec1 makes all the json schema test suite specs pass
  > bbbd25a add missing files
  > 6c2c7e5 adds some tests for expanding refs
  > 5f3b0de adds resolving refs and id fields according to jsonschema rules
  > d7d044d refactor to use jsonreference.Ref
  > a56719c struct support
  > 0639da9 (wip) jsonschema implementation
  > 66fb3d5 Adds validator for items in parameters
  > a0d4cc8 adds validations for array paramters
  > 9127f87 add missing file
  > 96e2a6d implements validation for parameters
  > 0f20074 refactor binding into a parameter module, add some validation
  > 4b1b6b6 adds tests for binding a fully untyped request
  > cb9ba12 big restructuring of project layout
bumping knative.dev/hack/schema 93ad912...3d4b264:
  > 3d4b264 Cleanup release script more (# 74)
  > daccc2c Allow for ignoring arbitrary files with shellcheck (# 48)
  > e35bcb8 Rollback random GOBIN and make it relative to GOPATH again (# 73)
  > 1c52c48 Skip GOPATH hacks if the repository is already on GOPATH (# 72)
  > de04b70 Do not print debug info when running release.sh (# 70)
bumping go.uber.org/zap 404189c...ebebbf3:
  > ebebbf3 Release v1.17.0 (# 956)
  > 75ac0de Prepare release v1.17.0
  > f612082 zapcore/FieldType: Don't change enum values (# 955)
  > d3092aa Integrate FOSSA (# 953)
  > 4110cb4 lint: Check that 'go mod tidy' was run (# 951)
  > 756fb2a go mod tidy (# 947)
  > 2732714 internal/readme: Simplify if condition (# 945)
  > 2f8e331 FAQ: Add zapfilter (# 939)
  > 34ea13c Update dependencies to fix vulnerabilities in (# 936)
  > 9a9e13f Switch from Travis to GitHub Actions (# 940)
  > 15dca18 zapcore: Cleanup copy in NewMultiWriteSyncer (# 934)
  > 92549f9 Update dependencies to fix vulnerabilities (# 931)
  > 8d5e39e Add FilterFieldKey to zaptest/observer (# 928)
  > 016a93b Support multi-field encoding using zap.Inline (# 912)
  > 6f4d093 Add support for grpclog.LoggerV2 (# 881)
  > b73d9b5 tools: Move to submodule (# 914)
  > d5dd706 Remove outdated information, make dependencies is no longer necessary. (# 915)
  > dca7c25 Optimize Sugar logger for calls with a single string arg (# 913)
  > 9f3c0ee Fix: code quality issues using DeepSource (# 907)
  > 864bed1 http: support additional content type (# 903)
  > a68efdb travis: Test against ppc64le (# 872)
  > f5a3592 Byte alignment, optimization from 96 to 80 byte (# 865)
  > 5b4722d README: use pkg.go.dev instead of godoc.org (# 883)
  > 4b2b07c field/error: Handle panic in Error() (# 867)
  > 495658f travis: Test against stable and oldstable (# 882)
  > 9d2e5de Add FAQ question on zap dropping logs due to sampling (# 875)
bumping k8s.io/code-generator 29e28b1...48c1e31:
  > 48c1e31 Merge pull request # 100501 from joelsmith/automated-cherry-pick-of-# 98477-upstream-release-1.20
  > 0af40aa update gogo/protobuf to v1.3.2
  > 3f1cbd4 Merge pull request # 99171 from jkh52/release-1.20
  > 2ff6012 Bump konnectivity-client to v0.0.15 in release-1.20
  > 80a9312 Fixes fake client test generation
  > 0843e0f Merge pull request # 96317 from Jefftree/test-ssa
  > 63fc387 Integrate defaults marker and remove ContainerPort defaulter
  > 3ba8036 Re-generate with defaults
  > 99f3521 Update kube-openapi
  > 18d1afb Merge pull request # 96425 from bobbypage/vendor-cadvisor-v0.38
â€¦

---
## [lordScrubling/junk@1405821172...](https://github.com/lordScrubling/junk/commit/1405821172a86f948711881af641b9d384719ab2)
##### 2021-06-11 14:19:20 by bluezorua

adds a new clown mask, the madman, a madness combat reference (#4356)

* funni reference

* fixes bug

* oh fuck oh shit im stupid

---
## [PatrickF1/fzf.fish@0fa7c34c4e...](https://github.com/PatrickF1/fzf.fish/commit/0fa7c34c4e0a32d958264bb18cdf6402c841d0e6)
##### 2021-06-11 16:46:18 by Patrick

Overhaul custom key bindings to be a first-class feature (#172)

Setting custom key bindings is horrible experience. It's time to give it a make over!

## Background and motivation
fzf.fish ships with default key bindings that are mnemonic and have minimal conflicts with existing fish key bindings. However, for users who want to change them, the process of customizing them is frustrating and confusing at best. This frustration has culminated in a steady stream of issues, discussions, PRs, and Wiki sections around key bindings (#17, #89, #99, #108, #103, #153, #162, [Wiki section](https://github.com/PatrickF1/fzf.fish/wiki/Cookbook/60b24ade20395cab07148c87c14966046ccbe8e9#how-can-i-customize-only-one-key-binding)). Here are the shortcomings of making custom bindings DIY:
- Besides not installing the default bindings if `fzf_fish_custom_keybindings` is set, the plugin provides _zero_ assistance to the user when it comes to installing the custom bindings. Users have to study `config/fzf.fish`, `bind` documentation, and maybe even learn some fish syntax to learn how to set their own key bindings. This is a quite daunting task. Furthermore, users have to reference functions clearly denoted private (`__fzf_search_*`)., which feels and use hacky. Ideally, 
 the plugin does not require typical users to dive into its code and will abstract private functions away completely.
-  `fzf_fish_custom_keybindings` is all or nothing; users have to opt out of ALL default key bindings and re-bind them themselves even if they only want to change one. This is tedious, verbose, and unwieldy. A good plugin should allow tweaking the key binding while maintaining the rest of the defaults.
- Because the `fzf_fish_custom_keybindings` has to be set before `config/fzf.fish` is executed, it has to be created as a universal variable. Unfortunately, universal variables are a [very confusing point for new fish users](https://github.com/fish-shell/fish-shell/issues/7317#issuecomment-701165897).
- And because it needs to be universal, it's [bad practice to add it to one's `config.fish`](https://gitter.im/fish-shell/fish-shell?at=60c3880fbed13a2dba7acd55).  This makes it more difficult for one's `fzf.fish` configuration to be [checked into git](https://github.com/PatrickF1/dotfiles/tree/master/.config/fish).

As the plugin author, I have also felt the pain of working around this DIY custom binding mechanism:
- Because custom bindings are so painful to use, user forego custom bindings and get stuck with the defaults, which puts a lot of pressure on me (subconsciously and through the many issues opened) to make the default bindings suitable for _everyone_. Unfortunately, the goal of having a default set of key bindings that is suitable for even 80% of users while being easy to learn (or mnemonic) is nigh impossible, requiring a thorough understanding of the multitudes of CLIs and terminals people use, the ways they use them, and they key binding. I've concluded this task is ultimately futile because key bindings are very idiosyncratic. Therefore, custom key bindings should be a first class feature that is well supported, completely documented, flexible, painless to use, and directly encouraged.
- Any change, even an addition (such as a new feature), to the default key bindings is an outsized, monumental event because it's not transparent and hard to communicate to users. In fisher, there isn't a mechanism for precisely warning users of backwards incompatible changes. Furthermore, the only place where the default key bindings are officially listed is on the readme. The best I can do is to cut a new major release and post on Reddit and Gitter to announce any and all key binding changes. But still, most users will probably be left in the dark when their key bindings silently break on the next update. If more users customized their key bindings and (which they don't because again, it's not well supported) and there was an interface to quickly view the default key bindings, this would be a much smaller problem.
- Because users have to hardcode in the function names for their custom key bindings, fzf.fish's internal functions are not really private and I cannot rename them as they morph. This is important to me as the names of some features, and therefore the ideal function name, have shifted since their inception.
- Finally, `fzf_fish_custom_keybindings` has an annoying typo: key binding is two words, not one.

## The new solution
A new function called `fzf_configure_bindings` solves or mitigates all of the aforementioned problems. It:
- serves as a wrapper around the key bindings and fzf.fish's private functions so that they are properly abstracted away under a lightweight interface.
- allows customizing the key binding for each feature through namesake options (e.g. `--directory` controls the search directory key binding). Bindings can be overridden or, if the user doesn't want to use the feature, even disabled.
- uses mnemonic key sequences by default for features that the user chooses to not customize. This means that to change the key bind for a single feature, only one option needs to be specified.
- comes with great, easy-to-read help documentation that prints if used incorrectly.
- includes the default key bindings in its help message so users can easily and quickly find them.
- is robust and thoroughly tested.
- will include command completion (to be implemented later).

---
## [tsipa/bpf-next@5cceca5972...](https://github.com/tsipa/bpf-next/commit/5cceca5972c636eca65eca10037a6de20a5ccd81)
##### 2021-06-11 18:07:37 by Maciej Å»enczykowski

bpf: do not change gso_size during bpf_skb_change_proto()

This is technically a backwards incompatible change in behaviour,
but I'm going to argue that it is very unlikely to break things,
and likely to fix *far* more then it breaks.

In no particular order, various reasons follow:

(a) I've long had a bug assigned to myself to debug a super rare kernel
crash on Android Pixel phones which can (per stacktrace) be traced back
to bpf clat ipv6 to ipv4 protocol conversion causing some sort of ugly
failure much later on during transmit deep in the GSO engine, AFAICT
precisely because of this change to gso_size, though I've never been able
to manually reproduce it.
I believe it may be related to the particular network offload support
of attached usb ethernet dongle being used for tethering off of an
IPv6-only cellular connection.  The reason might be we end up with more
segments than max permitted, or with a gso packet with only one segment...
(either way we break some assumption and hit a BUG_ON)

(b) There is no check that the gso_size is > 20 when reducing it by 20,
so we might end up with a negative (or underflowing) gso_size or
a gso_size of 0.  This can't possibly be good.
Indeed this is probably somehow exploitable (or at least can result
in a kernel crash) by delivering crafted packets and perhaps triggering
an infinite loop or a divide by zero...
As a reminder: gso_size (mss) is related to mtu, but not directly
derived from it: gso_size/mss may be significantly smaller then
one would get by deriving from local mtu.  And on some nics (which
do loose mtu checking on receive, it may even potentially be larger,
for example my work pc with 1500 mtu can receive 1520 byte frames
[and sometimes does due to bugs in a vendor plat46 implementation]).
Indeed even just going from 21 to 1 is potentially problematic because
it increases the number of segments by a factor of 21 (think DoS,
or some other crash due to too many segments).

(c) It's always safe to not increase the gso_size, because it doesn't
result in the max packet size increasing.  So the skb_increase_gso_size()
call was always unnecessary for correctness (and outright undesirable, see
later).  As such the only part which is potentially dangerous (ie. could
cause backwards compatibility issues) is the removal of the
skb_decrease_gso_size() call.

(d) If the packets are ultimately destined to the local device, then
there is absolutely no benefit to playing around with gso_size.
It only matters if the packets will egress the device.  ie. we're
either forwarding, or transmitting from the device.

(e) This logic only triggers for packets which are GSO.  It does not
trigger for skbs which are not GSO.  It will not convert a non-GSO mtu
sized packet into a GSO packet (and you don't even know what the mtu is,
so you can't even fix it).  As such your transmit path must *already* be
able to handle an mtu 20 bytes larger then your receive path (for ipv4
to ipv6 translation) - and indeed 28 bytes larger due to ipv4 fragments.
Thus removing the skb_decrease_gso_size() call doesn't actually increase
the size of the packets your transmit side must be able to handle.
ie. to handle non-GSO max-mtu packets, the ipv4/ipv6 device/route mtus
must already be set correctly.  Since for example with an ipv4 egress mtu
of 1500, ipv4 to ipv6 translation will already build 1520 byte ipv6 frames,
so you need a 1520 byte device mtu.  This means if your ipv6 device's
egress mtu is 1280, your ipv4 route must be 1260 (and actually 1252,
because of the need to handle fragments).  This is to handle normal non-GSO
packets.  Thus the reduction is simply not needed for GSO packets,
because when they're correctly built, they will already be the right size.

(f) TSO/GSO should be able to exactly undo GRO: the number of packets
(TCP segments) should not be modified, so that TCP's mss counting works
correctly (this matters for congestion control).
If protocol conversion changes the gso_size, then the number of TCP segments
may increase or decrease.  Packet loss after protocol conversion can result
in partial loss of mss segments that the sender sent.  How's the sending
TCP stack going to react to receiving ACKs/SACKs in the middle of the
segments it sent?

(g) skb_{decrease,increase}_gso_size() are already no-ops for GSO_BY_FRAGS
case (besides triggering WARN_ON_ONCE). This means you already cannot
guarantee that gso_size (and thus resulting packet mtu) is changed.
ie. you must assume it won't be changed.

(h) changing gso_size is outright buggy for UDP GSO packets, where framing
matters (I believe that's also the case for SCTP, but it's already excluded
by [g]).  So the only remaining case is TCP, which also doesn't want it
(see [f]).

(i) see also the reasoning on the previous attempt at fixing this
(commit fa7b83bf3b156c767f3e4a25bbf3817b08f3ff8e) which shows
that the current behaviour causes TCP packet loss:

  In the forwarding path GRO -> BPF 6 to 4 -> GSO for TCP traffic, the
  coalesced packet payload can be > MSS, but < MSS + 20.

  bpf_skb_proto_6_to_4() will upgrade the MSS and it can be > the payload
  length. After then tcp_gso_segment checks for the payload length if it
  is <= MSS. The condition is causing the packet to be dropped.

  tcp_gso_segment():
    [...]
    mss = skb_shinfo(skb)->gso_size;
    if (unlikely(skb->len <= mss)) goto out;
    [...]

Thus changing the gso_size is simply a very bad idea.
Increasing is unnecessary and buggy, and decreasing can go negative.

Cc: Dongseok Yi <dseok.yi@samsung.com>
Cc: Daniel Borkmann <daniel@iogearbox.net>
Cc: Willem de Bruijn <willemb@google.com>
Fixes: 6578171a7ff0 ("bpf: add bpf_skb_change_proto helper")
Signed-off-by: Maciej Å»enczykowski <maze@google.com>

---

# [<](2021-06-10.md) 2021-06-11 [>](2021-06-12.md)

