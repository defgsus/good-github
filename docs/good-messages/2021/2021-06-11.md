# [<](2021-06-10.md) 2021-06-11 [>](2021-06-12.md)

3,629,122 events, 1,482,178 push events, 2,395,493 commit messages, 182,696,571 characters


## [MissaelOrtiz/pokedex-fetch-react](https://github.com/MissaelOrtiz/pokedex-fetch-react)@[a3f833e074...](https://github.com/MissaelOrtiz/pokedex-fetch-react/commit/a3f833e0744dd865ed0bff63d71427f38ad55268)
#### Friday 2021-06-11 00:18:38 by Missael Ortiz

and it is done, finally my days of suffering have been concluded thanks to help of my friends the the support of those who care about me and my progress. Holy shit I think I was about to go insane with this and It is FINALLY done and I can FINALLY move on with my life and JUST BE DONE WITH THIS SHIT HOLY GOD. fixed the asc and desc.

---
## [pytorch/pytorch](https://github.com/pytorch/pytorch)@[4393f1cc71...](https://github.com/pytorch/pytorch/commit/4393f1cc7179f4e75a4d903d74e19f9d2ac03a74)
#### Friday 2021-06-11 00:52:38 by Brian Hirsh

add a boxed CPU fallback kernel

Pull Request resolved: https://github.com/pytorch/pytorch/pull/58065

This PR replaces the existing code-generated CPU fallback kernels that XLA uses with a single boxed CPU fallback.

Current state: there are a couple different design ideas that I want to point out, but the logic for the actually kernel is mostly done and passing tests.

### Design

To preface, I'm not 100% tied to the current design and I'm putting the PR up now for opinions and totally open to alternatives, some of which I listed below. Actually after writing this description, I'm leaning toward the following changes:
* Confirm whether or not we can remove all C++ logging info directly in the yaml.


**Current Design**

All of the CPU fallback codegen is deleted. In its place, XLA (and other external backends, later) can choose to opt into a CPU fallback by adding the following code in a C++ file. I have an corresponding [xla-side PR with the xla changes](https://github.com/pytorch/xla/pull/2945/files#diff-1a005c10039f0cb11130a3b740f5de716d2f10acaea121017016025861886798R1).

There's no actual requirement to split up the code into a .h and .cpp file, but that's necessary in the XLA case because they sometimes need to call the fallback directly from their handcrafted kernels.

```
// xla_cpu_fallback.h
#include <ATen/native/CPUFallback.h>
...
void xla_cpu_fallback(const c10::OperatorHandle& op, torch::jit::Stack* stack);
...
```
```
// xla_cpu_fallback.cpp
#include "torch_xla/csrc/aten_cpu_fallback.h"
...
void xla_cpu_fallback(const c10::OperatorHandle& op, torch::jit::Stack* stack) {
  // Do custom logging here
  ...
  // Call the actual boxed CPU fallback.
  at::native::cpu_fallback(op, stack);
}

TORCH_LIBRARY_IMPL(_, XLA, m) {
  m.fallback(torch::CppFunction::makeFromBoxedFunction<&xla_cpu_fallback>());
}
```

Now that the fallback is exposed in the backend, they can call it directly. Doing so requires converting from an unboxed to a boxed context, which we provide a utility function before. E.g.:
```
#include <ATen/native/CPUFallback.h>

at::Tensor addmm(const at::Tensor& self,const at::Tensor& mat1,const at::Tensor& mat2,const at::Scalar& beta,const at::Scalar& alpha) {
  ....
  if (...call_fallback...) {
    return at::native::call_fallback_fn<&xla_cpu_fallback, decltype(at::addmm)>::call("aten::addmm", self, mat1, mat2, beta, alpha);
  }
  ...
}
```

That `decltype(at::addmm)` logic isn't actually used everywhere in the xla-side PR yet, since you hit issues with overloads. I could use it everywhere once #58092 lands.

**Alternatives: The API for calling the CPU fallback directly is ugly, can we make it nicer?**
We could change the api to use `at::redispatch`, which would make it look something like this:
```
at::Tensor addmm(const at::Tensor& self,const at::Tensor& mat1,const at::Tensor& mat2,const at::Scalar& beta,const at::Scalar& alpha) {
  ....
  if (...call_fallback...) {
    return at::redispatch::addmm(c10::DispatchKeySet(c10::DispatchKey::CPUFallback), self, mat1, mat2, beta, alpha);
  }
  ...
}
```
Which definitely feels cleaner, but also requires adding a new DispatchKey just for this use case. Conditionally calling the CPU fallback doesn't sound like a hugely important use case, so I don't know if giving up one of our 64 dispatch key slots is worth the API improvement. Totally open to other opinions though!


Another more mild improvement that would avoid having to pass operator string names (including overloads) around would be to codegen (yet another) namespaced API. Something like this:
```
at::Tensor addmm(const at::Tensor& self,const at::Tensor& mat1,const at::Tensor& mat2,const at::Scalar& beta,const at::Scalar& alpha) {
  ....
  if (...call_fallback...) {
    return at::fallback::addmm<&xla_cpu_fallback>(self, mat1, mat2, beta, alpha);
  }
  ...
}
```

Writing that out actually I actually like it more (I think it'll let us get rid of `decltype(...)`). Maybe that is nice enough to warrant a new codegen API - I haven't tried adding that yet, but if people like it I'm happy to try it out.

**More alternatives**
The current design also involves the backend manually writing and registering the boxed fallback themselves, but an alternative would be for us to do it in codegen too: they would just need to pass in all of the C++ logging that they want done in the fallback, directly through the yaml. The main downsides:
* Backend code that wants to call the fallback needs to abide by whatever convention our codegen uses to name the generated boxed fallback.
* Passing custom C++ logging through yaml is just more fragile: right now xla uses an `iostream` to log each tensor arg in the operator, so we'd have to either force other backends into the same convention or figure something else out later.

To be fair, we actually already do that: XLA has custom per-tensor-arg logging for all of the generated `out` wrappers in the codegen, which we do by passing their C++ logging info through the yaml. This seems unnecessary though, since `out` wrappers just call into a functional kernel, which is hand written with its own custom logging. So my take is: try to remove custom C++ logging from the yaml, and if it turns out to be really necessary, then we may as well take advantage of that to codegen the fallback.

### Performance impact

While ops that fall back to CPU aren't exactly hot path, we probably don't want to use a boxed fallback if it turns out to be an absolute perf killer.

I ran my benchmarks using callgrind, benchmarking both `at::add` and `at::add_out` run on XLA. My callgrind benchmark for `at::add` can be found here (the add_out benchmark looks basically the same): https://www.internalfb.com/phabricator/paste/view/P415418587. I created the benchmark by hacking the existing xla C++ test build scripts and throwing in a reference to callgrind.

I also attached the full callgrind output for each benchmark; the full output is actually pretty noise and hard to parse, but I focused on everything underneath the `at::add()` call in the output, which was much more stable. My guess is that it's due to some heavyweight async startup processing that xla does.

`at::add`:
before: 88,505,130 instructions. Full output: https://www.internalfb.com/phabricator/paste/view/P415421001
after: 102,185,654 instructions. Full output: https://www.internalfb.com/phabricator/paste/view/P415421273
delta: ~15.5% increase

`at::add_out`:
before: 63,897,395 instructions. Full output: https://www.internalfb.com/intern/everpaste/?handle=GBrrKwtAPlix9wUEAOZtrFXpdO5UbsIXAAAz
after: 73,170,346 instructions. Full output: https://www.internalfb.com/phabricator/paste/view/P415423227
delta: ~14.5% increase

High level takeaway: A framework overhead increase of 10-20% doesn't seem too horrible for the CPU fallback use case.

For structured, functional ops that requires a CPU fallback, we're actually in an unfortunate situation: we're doing even more work than necessary. Our codegen automatically creates a `CompositeExplicitAutograd` kernel which calls into the `out` operator. So the extra work that we end up doing is:
* An extra dispatcher hop: (at::add -> CompositeExplicitAutograd -> CPUFallback -> at::native::add) instead of (at::add -> CPUFallback -> at::native::add)
* An unnecessary tensor allocation (the CompositeExplicitAutograd kernel uses at::empty() to create an output tensor, which is immediately overwritten by the CPU fallback)
* An unnecessary meta() call (the CompositeExplicitAutograd kernel calls it to create the output tensor, but we call it again in the CPU kernel).
* unboxing->boxing->unboxing logic (this is the only strictly required piece)

There are definitely ways to avoid the unnecessary work explained above: one would be to give the boxed fallback higher priority than composite keys (there's [an issue for it here](https://github.com/pytorch/pytorch/issues/55104)), and codegen fallthroughs for all composite ops. It'll require more infra to set up, so I see it as more of a perf knob that we can apply if we need it later.

Unfortunately I couldn't dig much deeper into the differences aside from the aggregate change in instructions, since it looks like callgrind fudged some of the instruction attribution (`at::to_cpu` takes up a ton of instructions, but I don't see any attribution for the `at::native::add` kernel anywhere).

Differential Revision: [D28833085](https://our.internmc.facebook.com/intern/diff/D28833085/)

**NOTE FOR REVIEWERS**: This PR has internal Facebook specific changes or comments, please review them on [Phabricator](https://our.internmc.facebook.com/intern/diff/D28833085/)!
ghstack-source-id: 131149497

---
## [Jeftaei/No-LT-ALLOWED](https://github.com/Jeftaei/No-LT-ALLOWED)@[ff4e4905fa...](https://github.com/Jeftaei/No-LT-ALLOWED/commit/ff4e4905faf347777a8886d3f73a398df9ebe5f2)
#### Friday 2021-06-11 02:59:50 by Jeft

laughable kick commanmds!!!!!!!!!!!!!!

Fuck you fiveman u suck (im not fixing intnets :3 )

---
## [wolfgang-degroot/AfterCoffee](https://github.com/wolfgang-degroot/AfterCoffee)@[0d6dc6a8ae...](https://github.com/wolfgang-degroot/AfterCoffee/commit/0d6dc6a8aed864572354fb79d1e305b95ad3a806)
#### Friday 2021-06-11 04:17:31 by Wolfgang de Groot

Checkboxes now function as intended

This was an entire-ass day of work to fix because of small niche problems in PHP, JSON, and their intertwining. I love PHP, more than it deserves, but today I fully understood every single person that has ever discredited this decrepit and deranged language.

---
## [dlwlrma123/lilac_kernel_sdm439](https://github.com/dlwlrma123/lilac_kernel_sdm439)@[b9e0d545ef...](https://github.com/dlwlrma123/lilac_kernel_sdm439/commit/b9e0d545efb3f07bb11cb087a3e0d69e954e6110)
#### Friday 2021-06-11 04:19:03 by Angelo G. Del Regno

Merge: Performance improvements.

This patchset brings some performance improvements and the addition of the LZO-RLE
algorithm to the kernel, also usable in zram (yup, tested, works but LZ4 is still ok for us).

The main performance improvement is for SWAP space: the locking has changed and
the swap cache is now split in 64MB trunks.
This gives us a reduction of the median page fault latency of 375%, from 15uS to 4uS,
and an improvement of 192% on the swap throughput (this includes "virtual" swap
devices, like zRAM!). The real world user experience improvement of this on a mobile
device is seen after a day or two of usage, where it usually starts losing just a little
performance due to the large amount of apps kept open in background: now I cannot
notice any more performance loss and the user experience is now basically the same as
if the phone was in its first 2 hours of boot life.

Other performance improvements include, in short:

    UDP v4/v6: 10% more performance on single RX queue
    Userspace applications will be faster when checking running time of threads
    2-5% improvements on heavy multipliers (yeah, not a lot, but was totally free...)
    Improvements on rare conditions during sparsetruncate of about 0.3% to a
    way more rare around 20% improvement (that's never gonna happen, but there
    is no performance drop anywhere).

Tested on SoMC Tama Akatsuki RoW

This was taken from
Repo:
https://github.com/sonyxperiadev/kernel
PR: 2039 ([2.3.2.r1.4] Performance improvements)

---
## [NoiceBroice/Teddy-Twosome](https://github.com/NoiceBroice/Teddy-Twosome)@[4cb21a9516...](https://github.com/NoiceBroice/Teddy-Twosome/commit/4cb21a95160b210aaa3bf2bb45d664d76a53217e)
#### Friday 2021-06-11 06:28:30 by NoiceBroice

Freeplay menu fix and no more gitaroo, fuck you gitaroo

---
## [Adamantcheese/Kuroba](https://github.com/Adamantcheese/Kuroba)@[b4002e53d4...](https://github.com/Adamantcheese/Kuroba/commit/b4002e53d471a600f5fce6d90b1e3c11d46443af)
#### Friday 2021-06-11 09:15:55 by Adamantcheese

Cap <img> tag stuff to 5 with deduplication, also add in iframe unhiding, which will just display the appropriate URL

Fuckin Hiro and his massive /qa/ shitpost, I've also added some caps to font size stuff so they don't get too massive and horrible to render

---
## [wireshark/wireshark](https://github.com/wireshark/wireshark)@[dc7f0b88bb...](https://github.com/wireshark/wireshark/commit/dc7f0b88bba0c703d9c802b153e145dc6b3dc549)
#### Friday 2021-06-11 11:21:36 by João Valverde

Refactor our logging and extend the wslog API

Experience has shown that:

  1. The current logging methods are not very reliable or practical.
A logging bitmask makes little sense as the user-facing interface (who
would want debug but not crtical messages for example?); it's
computer-friendly and user-unfriendly. More importantly the console
log level preference is initialized too late in the startup process
to be used for the logging subsystem and that fact raises a number
of annoying and hard-to-fix usability issues.

  2. Coding around G_MESSAGES_DEBUG to comply with our log level mask
and not clobber the user's settings or not create unexpected log misses
is unworkable and generally follows the principle of most surprise.
The fact that G_MESSAGES_DEBUG="all" can leak to other programs using
GLib is also annoying.

  3. The non-structured GLib logging API is very opinionated and lacks
configurability beyond replacing the log handler.

  4. Windows GUI has some special code to attach to a console,
but it would be nice to abstract away the rest under a single
interface.

  5. Using this logger seems to be noticeably faster.

Deprecate the console log level preference and extend our API to
implement a log handler in wsutil/wslog.h to provide easy-to-use,
flexible and dependable logging during all execution phases.

Log levels have a hierarchy, from most verbose to least verbose
(debug to error). When a given level is set everything above that
is also enabled.

The log level can be set with an environment variable or a command
line option (parsed as soon as possible but still later than the
environment). The default log level is "message".

Dissector logging is not included because it is not clear what log
domain they should use. An explosion to thousands of domains is
not desirable and putting everything in a single domain is probably
too coarse and noisy. For now I think it makes sense to let them do
their own thing using g_log_default_handler() and continue using the
G_MESSAGES_DEBUG mechanism with specific domains for each individual
dissector.

In the future a mechanism may be added to selectively enable these
domains at runtime while trying to avoid the problems introduced
by G_MESSAGES_DEBUG.

---
## [maryreader/starter-academic](https://github.com/maryreader/starter-academic)@[e33024b6ba...](https://github.com/maryreader/starter-academic/commit/e33024b6bacef58765f0e6e2c1ae8e1b16d645ed)
#### Friday 2021-06-11 11:29:20 by m.reader

Create Post “cpag-blog-‘other-people-dont-have-to-think-about-which-kid-they-love-the-most-that-month-the-realities-of-everyday-life-on-the-benefit-cap-and-two-child-limit/index”

---
## [Dylan-DPC/rust](https://github.com/Dylan-DPC/rust)@[1346b6cdd9...](https://github.com/Dylan-DPC/rust/commit/1346b6cdd946a3e99948255067ed0a03f3ee8055)
#### Friday 2021-06-11 11:41:00 by Dylan DPC

Rollup merge of #86174 - lqd:const-ub-align, r=RalfJung

Detect incorrect vtable alignment during const eval

This PR fixes #86132 by detecting invalid alignment values for trait objects in the interpreter, and emitting an error about this conversion failure, to avoid the ICE.

I've noticed that the error emitted at https://github.com/rust-lang/rust/blob/a50d72158e08e02cfc051b863017bdbd2c45b637/compiler/rustc_mir/src/interpret/traits.rs#L163-L166 doesn't seem to be present in the const-ub tests, so I've tried adding a test that triggers both of these cases: one for the invalid size, and another for the invalid alignment that #86132 tracks (I have found different magic values triggering different `Align::from_bytes` errors than the "power of 2" one, if need be).

However, when doing that, I *cannot* for the life of me figure out the correct incantation to make these 2 errors trigger with the "it is undefined behavior to use this value" message rather than the "any use of this value will cause an error" lint.

I've tried Oli's suggestions of different values, tuples and arrays, using the transparent wrapper trick from the other tests and I was only able to trigger the regular const-ub errors about the size of the vtable, or that the drop pointer was invalid. Maybe these "type validation failed" errors happen before this part of the interpreter is reached and there just needs some magic incorrect values to bypass them, I don't know.

Since this fixes an ICE, and if the constants are indeed used, these 2 tests will turn into a hard error, I thought I'd open the PR anyways. And if `@RalfJung` you know of a way I could manage that (if you think that these tests are worth checking that the `throw_ub_format!` does indeed create const-ub errors as we expect) I'd be grateful.

For that reason, r? `@RalfJung` and cc `@oli-obk.`

---
## [ElectroPerf/android_kernel_asus_sdm660-LTO](https://github.com/ElectroPerf/android_kernel_asus_sdm660-LTO)@[56bfc3dc98...](https://github.com/ElectroPerf/android_kernel_asus_sdm660-LTO/commit/56bfc3dc980fa17cbdf9469c9ae3b2d082702e76)
#### Friday 2021-06-11 13:23:43 by DarknessKiller

[SQUASH] Revert Some Commits To Fucking Fix The Ghost Touch Issues

- This thing made users spam me to suck my balls.. bruh..
- Authorship? No Fucking kangers dont give authorship.. so fuck those who die for authorship.
- Ok so keep these bitches aside, its Ryuuji who suggested me.

This reverts commit 5451515a0a1690734eb050375d5d2598fe83361a.
This reverts commit 0091c017d885c653f6d637e4af1017902e0e143c.
This reverts commit 452984a985469af6bc9fe64e4f14a8319f897919.

Co-Authored-by: RyuujiX <RyuujiX@users.noreply.github.com>
Signed-off-by: ElectroPerf <kunmun.devroms@gmail.com>

---
## [ElectroPerf/android_kernel_asus_sdm660-LTO](https://github.com/ElectroPerf/android_kernel_asus_sdm660-LTO)@[7337c1346b...](https://github.com/ElectroPerf/android_kernel_asus_sdm660-LTO/commit/7337c1346bf40e34c8095649055d1f39489b3c36)
#### Friday 2021-06-11 13:26:06 by DarknessKiller

[SQUASH] Revert Some Commits To Fucking Fix The Ghost Touch Issues

- This thing made users spam me to suck my balls.. bruh..
- Authorship? No Fucking kangers dont give authorship.. so fuck those who die for authorship.
- Ok so keep these bitches aside, its Ryuuji who suggested me that X00TD's gay NVT touch drivers dont support low latencies.

This reverts commit 5451515a0a1690734eb050375d5d2598fe83361a.
This reverts commit 0091c017d885c653f6d637e4af1017902e0e143c.
This reverts commit 452984a985469af6bc9fe64e4f14a8319f897919.

Co-Authored-by: RyuujiX <RyuujiX@users.noreply.github.com>
Signed-off-by: ElectroPerf <kunmun.devroms@gmail.com>

---
## [lyz-code/blue-book](https://github.com/lyz-code/blue-book)@[87dab010e9...](https://github.com/lyz-code/blue-book/commit/87dab010e9d232aef574eadfa00c1d79129a8205)
#### Friday 2021-06-11 14:33:21 by Lyz

feat(projects#self-hosted-map): introduce seedling self-hosted map project

I love maps, as well as traveling and hiking. This project aims to create a web
interface that let's me interact with the data gathered throughout my life. I'd
like to:

* Browse the waypoints and routes that I've done.
* Create routes and export the gpx.
* Be able to search through the data
* Plan trips

feat(projects#switch-to-a-better-browser): Introduce the seed project to
switch to a better browser

Firefox + Trydactil has it's limits, and Firefox has been following an ill path
for a while, [qutebrowser](https://github.com/qutebrowser/qutebrowser) looks
like the perfect replacement.

---
## [ghc/ghc](https://github.com/ghc/ghc)@[62149ba49d...](https://github.com/ghc/ghc/commit/62149ba49d9e855957b66a7c956277d9b7a47beb)
#### Friday 2021-06-11 14:44:22 by John Ericson

Fix #19931

The issue was the renderer for x86 addressing modes assumes native size
registers, but we were passing in a possibly-smaller index in
conjunction with a native-sized base pointer.

The easist thing to do is just extend the register first.

I also changed the other NGC backends implementing jump tables
accordingly. On one hand, I think PowerPC and Sparc don't have the small
sub-registers anyways so there is less to worry about. On the other
hand, to the extent that's true the zero extension can become a no-op.

I should give credit where it's due: @hsyl20 really did all the work for
me in
https://gitlab.haskell.org/ghc/ghc/-/merge_requests/4717#note_355874,
but I was daft and missed the "Oops" and so ended up spending a silly
amount of time putting it all back together myself.

---
## [Garfonso/ioBroker.lovelace](https://github.com/Garfonso/ioBroker.lovelace)@[1ad42163d5...](https://github.com/Garfonso/ioBroker.lovelace/commit/1ad42163d5066515dc60c266073233a162642f07)
#### Friday 2021-06-11 15:03:54 by Achim Königs

use obj.common.name if present

use friendly name from ioBroker in lovelace, too.
If we focus on Room & Function, this causes trouble with multiple devices of the same function in the same room (think window, blinds, lamps, ...). They become undistinguishable.

---
## [fjtrujy/binutils-gdb](https://github.com/fjtrujy/binutils-gdb)@[f7088df3b1...](https://github.com/fjtrujy/binutils-gdb/commit/f7088df3b1c0370101edada54e26d24efb53125c)
#### Friday 2021-06-11 15:58:12 by Sergio Durigan Junior

Explicitly use language_c when evaluating a SDT probe argument

Joel contacted me offlist with a question about a warning that one of
his customers was seeing.  The message came from the new
linker-debugger interface, which uses SDT probes internally.  The
warning said:

    (gdb) run
    [...]
    warning: Probes-based dynamic linker interface failed.
    Reverting to original interface.

    Argument to arithmetic operation not a number or boolean.

This should not have happened in the environment the customer was
using (RHEL-6.x), so I found it strange.  Another thing caught my
attention: the last message, saying "Argument to arithmetic operation
not a number or boolean.".

Joel kindly investigated the issue further, and found the answer for
this.  To quote him:

	(gdb) set lang c
	(gdb) p 48+$ebp
	$4 = (void *) 0xffffd0f8

    So far so good. But...

	(gdb) set lang ada
	(gdb) p 48+$ebp
	Argument to arithmetic operation not a number or boolean.

    Ooops! Interestingly, if you revert the order of the operands...

	(gdb) p $ebp+48
	$5 = (access void) 0xffffd0f8

So the problem is doing pointer arithmetics when the language is set
to Ada.

I remembered that, during the parsing and the evaluation of SDT probe
arguments, the code sets the language as current_language, because, at
that time, I thought it was not necessary to worry about the language
given that the code implements its own parser.  I was wrong.  So here
is a patch to fix that, by setting the language as C, which should
guarantee that the maths are done in the right way (TM).

It was somewhat hard to find a reproducer for this issue.  In the end,
what I had to do was to create a testcase that used the %ebp register
on some displacement (e.g., "-4(%ebp)"), which finally triggered the
bug.  I am not sure why I could not trigger it when using other
registers, but I did not want to spend too much time investigating
this issue, which seemed like an Ada issue.  Also, because of this
peculiar way to trigger the problem, the testcase only covers x86-like
targets (i.e., i*86 and x86_64 with -m32).

Joel kindly tested this for me, and it worked.  I also ran a full
regression test here on my Fedora 20 x86_64, and everything is fine.

I will push this patch in a few days if there are no comments.

gdb/ChangeLog:
2014-10-14  Sergio Durigan Junior  <sergiodj@redhat.com>

	* stap-probe.c (stap_parse_argument): Initialize expout explicitly
	using language_c, instead of current_language.

gdb/testsuite/ChangeLog:
2014-10-14  Sergio Durigan Junior  <sergiodj@redhat.com>

	* gdb.arch/stap-eval-lang-ada.S: Likewise.
	* gdb.arch/stap-eval-lang-ada.c: Likewise.
	* gdb.arch/stap-eval-lang-ada.exp: New file.

---
## [PatrickF1/fzf.fish](https://github.com/PatrickF1/fzf.fish)@[0fa7c34c4e...](https://github.com/PatrickF1/fzf.fish/commit/0fa7c34c4e0a32d958264bb18cdf6402c841d0e6)
#### Friday 2021-06-11 16:46:18 by Patrick

Overhaul custom key bindings to be a first-class feature (#172)

Setting custom key bindings is horrible experience. It's time to give it a make over!

## Background and motivation
fzf.fish ships with default key bindings that are mnemonic and have minimal conflicts with existing fish key bindings. However, for users who want to change them, the process of customizing them is frustrating and confusing at best. This frustration has culminated in a steady stream of issues, discussions, PRs, and Wiki sections around key bindings (#17, #89, #99, #108, #103, #153, #162, [Wiki section](https://github.com/PatrickF1/fzf.fish/wiki/Cookbook/60b24ade20395cab07148c87c14966046ccbe8e9#how-can-i-customize-only-one-key-binding)). Here are the shortcomings of making custom bindings DIY:
- Besides not installing the default bindings if `fzf_fish_custom_keybindings` is set, the plugin provides _zero_ assistance to the user when it comes to installing the custom bindings. Users have to study `config/fzf.fish`, `bind` documentation, and maybe even learn some fish syntax to learn how to set their own key bindings. This is a quite daunting task. Furthermore, users have to reference functions clearly denoted private (`__fzf_search_*`)., which feels and use hacky. Ideally, 
 the plugin does not require typical users to dive into its code and will abstract private functions away completely.
-  `fzf_fish_custom_keybindings` is all or nothing; users have to opt out of ALL default key bindings and re-bind them themselves even if they only want to change one. This is tedious, verbose, and unwieldy. A good plugin should allow tweaking the key binding while maintaining the rest of the defaults.
- Because the `fzf_fish_custom_keybindings` has to be set before `config/fzf.fish` is executed, it has to be created as a universal variable. Unfortunately, universal variables are a [very confusing point for new fish users](https://github.com/fish-shell/fish-shell/issues/7317#issuecomment-701165897).
- And because it needs to be universal, it's [bad practice to add it to one's `config.fish`](https://gitter.im/fish-shell/fish-shell?at=60c3880fbed13a2dba7acd55).  This makes it more difficult for one's `fzf.fish` configuration to be [checked into git](https://github.com/PatrickF1/dotfiles/tree/master/.config/fish).

As the plugin author, I have also felt the pain of working around this DIY custom binding mechanism:
- Because custom bindings are so painful to use, user forego custom bindings and get stuck with the defaults, which puts a lot of pressure on me (subconsciously and through the many issues opened) to make the default bindings suitable for _everyone_. Unfortunately, the goal of having a default set of key bindings that is suitable for even 80% of users while being easy to learn (or mnemonic) is nigh impossible, requiring a thorough understanding of the multitudes of CLIs and terminals people use, the ways they use them, and they key binding. I've concluded this task is ultimately futile because key bindings are very idiosyncratic. Therefore, custom key bindings should be a first class feature that is well supported, completely documented, flexible, painless to use, and directly encouraged.
- Any change, even an addition (such as a new feature), to the default key bindings is an outsized, monumental event because it's not transparent and hard to communicate to users. In fisher, there isn't a mechanism for precisely warning users of backwards incompatible changes. Furthermore, the only place where the default key bindings are officially listed is on the readme. The best I can do is to cut a new major release and post on Reddit and Gitter to announce any and all key binding changes. But still, most users will probably be left in the dark when their key bindings silently break on the next update. If more users customized their key bindings and (which they don't because again, it's not well supported) and there was an interface to quickly view the default key bindings, this would be a much smaller problem.
- Because users have to hardcode in the function names for their custom key bindings, fzf.fish's internal functions are not really private and I cannot rename them as they morph. This is important to me as the names of some features, and therefore the ideal function name, have shifted since their inception.
- Finally, `fzf_fish_custom_keybindings` has an annoying typo: key binding is two words, not one.

## The new solution
A new function called `fzf_configure_bindings` solves or mitigates all of the aforementioned problems. It:
- serves as a wrapper around the key bindings and fzf.fish's private functions so that they are properly abstracted away under a lightweight interface.
- allows customizing the key binding for each feature through namesake options (e.g. `--directory` controls the search directory key binding). Bindings can be overridden or, if the user doesn't want to use the feature, even disabled.
- uses mnemonic key sequences by default for features that the user chooses to not customize. This means that to change the key bind for a single feature, only one option needs to be specified.
- comes with great, easy-to-read help documentation that prints if used incorrectly.
- includes the default key bindings in its help message so users can easily and quickly find them.
- is robust and thoroughly tested.
- will include command completion (to be implemented later).

---
## [Natashi/Touhou-Danmakufu-ph3sx-2](https://github.com/Natashi/Touhou-Danmakufu-ph3sx-2)@[2a635d0c66...](https://github.com/Natashi/Touhou-Danmakufu-ph3sx-2/commit/2a635d0c665740e88f689aa8cb630cbc7184334f)
#### Friday 2021-06-11 19:10:32 by Natashi

Reduced default render priority of items to 40 because fuck you mkm

---
## [freedesktop/drm-misc](https://github.com/freedesktop/drm-misc)@[a1e3667a98...](https://github.com/freedesktop/drm-misc/commit/a1e3667a9835e15101cf27731219fe2581dbf572)
#### Friday 2021-06-11 19:33:56 by Douglas Anderson

drm/bridge: ti-sn65dsi86: Promote the AUX channel to its own sub-dev

On its own, this change looks a little strange and doesn't do too much
useful. To understand why we're doing this we need to look forward to
future patches where we're going to probe our panel using the new DP
AUX bus. See the patch ("drm/bridge: ti-sn65dsi86: Add support for the
DP AUX bus").

Let's think about the set of steps we'll want to happen when we have
the DP AUX bus:

1. We'll create the DP AUX bus.
2. We'll populate the devices on the DP AUX bus (AKA our panel).
3. For setting up the bridge-related functions of ti-sn65dsi86 we'll
   need to get a reference to the panel.

If we do #1 - #3 in a single probe call things _mostly_ will work, but
it won't be massively robust. Let's explore.

First let's think of the easy case of no -EPROBE_DEFER. In that case
in step #2 when we populate the devices on the DP AUX bus it will
actually try probing the panel right away. Since the panel probe
doesn't defer then in step #3 we'll get a reference to the panel and
we're golden.

Second, let's think of the case when the panel returns
-EPROBE_DEFER. In that case step #2 won't synchronously create the
panel (it'll just add the device to the defer list to do it
later). Step #3 will fail to get the panel and the bridge sub-device
will return -EPROBE_DEFER. We'll depopulate the DP AUX bus. Later
we'll try the whole sequence again. Presumably the panel will
eventually stop returning -EPROBE_DEFER and we'll go back to the first
case where things were golden. So this case is OK too even if it's a
bit ugly that we have to keep creating / deleting the AUX bus over and
over.

So where is the problem? As I said, it's mostly about robustness. I
don't believe that step #2 (creating the sub-devices) is really
guaranteed to be synchronous. This is evidenced by the fact that it's
allowed to "succeed" by just sticking the device on the deferred
list. If anything about the process changes in Linux as a whole and
step #2 just kicks off the probe of the DP AUX endpoints (our panel)
in the background then we'd be in trouble because we might never get
the panel in step #3.

Adding an extra sub-device means we just don't need to worry about
it. We'll create the sub-device for the DP AUX bus and it won't go
away until the whole ti-sn65dsi86 driver goes away. If the bridge
sub-device defers (maybe because it can't find the panel) that won't
depopulate the DP AUX bus and so we don't need to worry about it.

NOTE: there's a little bit of a trick here. Though the AUX channel can
run without the MIPI-to-eDP bits of the code, the MIPI-to-eDP bits
can't run without the AUX channel. We could come up a complicated
signaling scheme (have the MIPI-to-eDP bits return EPROBE_DEFER for a
while or wait on some sort of completion), but it seems simple enough
to just not even bother creating the bridge device until the AUX
channel probes. That's what we'll do.

Signed-off-by: Douglas Anderson <dianders@chromium.org>
Reviewed-by: Lyude Paul <lyude@redhat.com>
Reviewed-by: Linus Walleij <linus.walleij@linaro.org>
Link: https://patchwork.freedesktop.org/patch/msgid/20210611101711.v10.7.If89144992cb9d900f8c91a8d1817dbe00f543720@changeid

---
## [Buildstarted/linksfordevs](https://github.com/Buildstarted/linksfordevs)@[f9cee72a05...](https://github.com/Buildstarted/linksfordevs/commit/f9cee72a05746ef4437b166fa8331e32a5703344)
#### Friday 2021-06-11 20:10:39 by Ben Dornis

Updating: 6/11/2021 8:00:00 PM

 1. Added: The most useful math formulas
    (http://blog.pkh.me/p/29-the-most-useful-math-formulas.html)
 2. Added: Traits of a healthy team
    (https://vmayakumar.wordpress.com/2021/06/10/traits-of-a-healthy-team/)
 3. Added: Keychron K4 v2 Honest Mechanical Keyboard User Review
    (https://www.dottedsquirrel.com/keychron-k4-review/)
 4. Added: Does Safari 15 finally fix viewport height?
    (https://lukechannings.com/blog/2021-06-09-does-safari-15-fix-the-vh-bug/)
 5. Added: The Productivity Implications of Working from Home Across 150,000 Employees by @ttunguz

    (https://tomtunguz.com/work-from-home-productivity/)
 6. Added: We Should Rename the Internet
    (https://www.chrbutler.com/we-should-rename-the-internet)
 7. Added: Talk on engineering productivity, metrics, and morale
    (https://www.waynehaber.com/2021/06/talk-on-engineering-productivity.html)
 8. Added: The Time Inconsistency Problem and How It's Hurting You
    (https://durmonski.com/psychology/time-inconsistency-problem/)
 9. Added: Bigger product, bigger shadow · Philip Ardeljan is a UI designer
    (https://philip.design/blog/bigger-product-bigger-shadow/)
10. Added: What the &?!$ is an Individual Contributor?
    (https://mntlty.dev/2021/06/11/individual-contributor.html)
11. Added: I Have No Group, and I Must Scream
    (https://bastian.rieck.me/blog/posts/2021/groups/)
12. Added: Emotional Debt
    (https://solmaz.io/2021/06/10/emotional-debt/)
13. Added: Media Queries in Times of @container
    (https://mxb.dev/blog/media-queries-in-times-of-container-queries/)
14. Added:  Defining a Platform is Hard
    (https://sujithjay.com/internal-platforms)
15. Added: The Personal Pandemic
    (https://viewfinderfox.com/the-personal-pandemic/)
16. Added: Why Developers Will Win the Creator Economy
    (https://matt-rickard.com/developers-win-creator-economy/)
17. Added: Fast Navigation in the Command Line
    (http://karolis.koncevicius.lt/posts/fast_navigation_in_the_command_line/)
18. Added: The Fighting Chess Index – davidsmerdon.com
    (https://www.davidsmerdon.com/?p=2168)
19. Added: Reflections from GoCardless
    (https://paprikati.github.io/2021/06/10/leaving-gocardless.html)
20. Added: Serving sharp images to high density screens
    (https://jakearchibald.com/2021/serving-sharp-images-to-high-density-screens/)

Generation took: 00:10:28.6828172
 Maintenance update - cleaning up homepage and feed

---
## [airplanedev/cli](https://github.com/airplanedev/cli)@[904699b660...](https://github.com/airplanedev/cli/commit/904699b660ccf0a47af7ff57b1973ab1368701bd)
#### Friday 2021-06-11 21:16:03 by Colin

Add `airplane dev` command for local task execution (#173)

This PR adds a concept of local task execution via the new `airplane dev` command. Currently, this PR only supports Node, but we'll add support for Python in a future PR after https://github.com/airplanedev/cli/pull/170 lands.

I landed on a separate command (vs. `execute --remote`) for a couple reasons:
1. I'd like for `execute/dev` to (mostly) require zero flags. This leaves the door open to dropping `--` (f.e. Yarn dropped this in 1.0: https://github.com/yarnpkg/website/issues/666). Can't do much about `-o json` / `--debug`, but we could enforce those come before positional arguments for `dev/execute`. TBD for now.
2. The existing `airplane execute` supports execution [by slug, script, and YML file](https://github.com/airplanedev/cli/pull/138#discussion_r641829470). If we introduce a `--remote` flag, then we'd also want to support all three with local development. However, neither slugs nor YML file make sense with local execution. The former because we don't associate slugs with local files, and the latter because we don't support shim-based tasks with YML.

However, I'd love to find better command terminology than `dev` and `execute`. To me, `dev` implies "watch"-style behavior. For example, `next dev` vs. `next build`.

```sh
# now
airplane dev ./file.ts
airplane exec outputs

# proposal 1: different verbs
airplane test ./file.ts
airplane trigger outputs

# proposal 2: remove the top-level alias for remote execution
airplane [dev|test] ./file.ts
airplane runs [create|execute|trigger] outputs

# proposal 3: just merge them
airplane exec ./file.ts
# --remote must be passed before the first positional arg. Everything after the first
# positional arg is considered a task param.
airplane exec --remote outputs [...task parameters]

# proposal 4: just merge them, but slugs == remote, files == local (tbh, seems confusing to me)
airplane exec ./file.ts
airplane exec outputs [...task parameters]
```

---

In a follow-up PR, we'll add support for reading environment variables from a `.env`.

---
## [ilri/rmg-ansible-public](https://github.com/ilri/rmg-ansible-public)@[5df20910bb...](https://github.com/ilri/rmg-ansible-public/commit/5df20910bb4df3d253372d45b7ac113c564c9620)
#### Friday 2021-06-11 21:16:22 by Alan Orth

roles/sssd: Increase timeouts in sssd.conf

After spending hours troubleshooting what I thought were TLS errors,
I finally realized that the real issue in my setup was timeouts.

Note to self and anyone else, if you are seeing errors like this in
your SSSD status or logs, and your `ldapsearch -x` is working, you
might need to increase your timeouts:

- Could not start TLS encryption. unknown error
- ldap_install_tls failed: [Connect error] [unknown error]
- ldap_install_tls failed: [Timed out] [unknown error]

In hindsight the last one does make sense, but the other two (and
so many others I saw) lead me to think there was some TLS issue! A
good tip would have been that even forcing plaintext ldap on port
389 was timing out.

---
## [KadeDev/Kade-Engine](https://github.com/KadeDev/Kade-Engine)@[3f25ff165a...](https://github.com/KadeDev/Kade-Engine/commit/3f25ff165a4149e5bdb95afd0e39dee81457d6a7)
#### Friday 2021-06-11 21:23:48 by Puyo

...

FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU FUCK YOU

---

# [<](2021-06-10.md) 2021-06-11 [>](2021-06-12.md)

