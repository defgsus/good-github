# 2021-03-07

2,185,573 events, 1,249,742 push events, 1,747,207 commit messages, 105,057,362 characters


## [newstools/2021-sundiata-post@9113d54d5f...](https://github.com/newstools/2021-sundiata-post/commit/9113d54d5f4117907840e531354029642e55946a)
##### 2021-03-07 03:23:10 by NewsTools

Created Text For URL [sundiatapost.com/lady-laments-as-her-boyfriend-impregnates-girl-who-joined-them-for-threesome/]

---
## [imtahiranjum/OOP-SP21@575617e255...](https://github.com/imtahiranjum/OOP-SP21/commit/575617e2551bb7c1596b8fc63284e7c84010387d)
##### 2021-03-07 16:22:41 by Tahir Anjum

Time.java

Brother, I removed the package that was pasted along side your code on the top! Accept the pull request and merge!
Use proper wording for variables. "hr" should also be "hours" and to compensate the duplicate use of hours, use "This" to adjust. It manages the scope. You can concern Sir Mukhtar or else you can search it on YouTube etc.
Don't think that I stole your code for assignment because I am pro programmer and I know how to do things. I just corrected one thing in your code that I mentioned above. And one more thing, Stay cool! Stay Blessed! May God Almighty strengthen you in your skills and guide you to the right path. THE most important thing is that, I want to see you as CEO of your own company that would compete the world's best companies.

---
## [mrakgr/The-Spiral-Language@f15a67fd86...](https://github.com/mrakgr/The-Spiral-Language/commit/f15a67fd86531f645ff53c22203b71a151c3a4c2)
##### 2021-03-07 16:51:19 by Marko Grdinić

"2pm. Done with breakfast. Let me chill a bit and then I'll do the chores.

3:10pm. Done with chores. Let me rest a bit and then I will resume. The morning session was too intense so I need more time off.

3:40pm. Let me resume.

I did want to resume earlier, but given how early I got up, and how intensely I am focused on this task, my mind is in a daze. It feels like I have a fever from all this thinking.

3:45pm. I have a strong feeling of inspiration.

4:15pm.

```fs
type [<ReferenceEquality>] TypecheckerState = {
    package_id : PackageId
    module_id : ModuleId
    top_env : TopEnv Promise
    results : (Bundle * InferResult * TopEnv) Stream
    bundle : BlockBundleState
    }
```

Hmmm, to get the actual top env, what I have to do is use the top_env as the neutral element and fold over the results, getting the third item.

```fs
let top_env_last (x : TypecheckerState) = x.top_env >>=* fun s -> Stream.foldFun (fun _ (_,_,x) -> x) s x.results
```

Also to make compilation less annoying, I should in fact...

No nevermind. I'll have to go over all the packages anyway during prepass compilation.

This caught my attention for the reason that making the `BuildFile` command work took a hack.

4:45pm. I should be writing code, but I am not. It is not like I am blocked. It is not that I do not know what I need to do. It is that the insights and the inspiration are coming in at too rapid of a clip and I am trying to digest them properly.

5:25pm. Done with lunch.

I am actually quite tired after thinking at full tilt for so long. I got up significantly earlier than usual too. I don't think I'll be doing any more programming for the day.

At any rate, I think I understand it all. The entire editor support segment. Last time I could only hack it piece by piece, but now I have the entire structure internalized as one clean mental model.

This time I am absolutely sure that I will be able to design it so it is roboust.

Let me do just a little in anticipation of what is to come.

```fs
type PackageFiles =
    | File of module_id: int * path : string * name: string option
    | Directory of dir_id: int * path : string * name: string * PackageFiles list
```

This. Paths will definitely make the reverse updates easier.

```fs
let proj_files_diff (uids_file : ('a * 'b) [], uids_directory : 'b [], files) (num_dirs, uids, files') =
    let uids_file' = Array.zeroCreate (Array.length uids)
    let uids_directory' = Array.zeroCreate num_dirs
    let rec loop = function
        | File(uid,path,name), File(uid',path',name') when uid = uid' && name = name' && path = path' && uids.[uid] = fst uids_file.[uid] ->
            uids_file'.[uid] <- uids_file.[uid]; true
        | Directory(uid,path,name,l), Directory(uid',path',name',l') when uid = uid' && name = name' && path = path' && list (l,l') ->
            uids_directory'.[uid] <- uids_directory.[uid]; true
```

It did not require much modification.

5:30pm. I definitely made the wrong choice with streams.

Instead the right answer was to make the editor support one huge immutable data structure. This is quite amazing. I finally have the feeling for how this kind of machinery works.

Last time I toughed it out, but now now I can finally visualize the whole thing as an one big whole. I can zoom in and inspect what every piece does in my mind. And according to that, I can verify the correctness of the system.

I am not saying that once I code it all up, that it will work and be without bugs. But if a bug happens, you can bet that I will be able to track it down and fix it right away.

5:35pm. I am really tempted to do a bit more right now and code up at least the inter package updates, but I should leave that for later and take it easy for the rest of the day. A leisurely pace is the best. One day you think hard, the next day you code hard. That is what programming is. It is hard to switch gears to code writing mode.

Instead of doing it forcefully, by tomorrow this surge of thoughts will petter out and solidify as it cools down.

I know the whole system and I am already thinking ahead, but tomorrow I will just play it safe and finish the clean stuff. I only have two functions left before I am done with typechecking. After that comes the prepass. After that I'll move to the `.spiproj` parser.

There is no need to rush this. Now that I know how to do things, why not give it a few weeks? Forget the time.

After I implement the new design, the editor support won't have any new features, but it should be much more roboust. I'll never have trouble extending it again or fixing what minor bugs are left in it.

Not only will Spiral be very much complete, in the sense of not having all the features that I wanted, but also in the sense of being thoroughly battle tested, but I'll also gain an understanding of this technique. I get the sense that it will be pretty useful in my future endeavors. It meshes particularly well with concurrency, but it would have value without it.

Keeping track of state and managing complexity will be my main challenge as I start taking ML seriously again. I'll probably find an opportunity to make use of this design in my ML work.

I'll fuse my understanding of compiler engineering and ML. That is my main goal for 2021.

I'll refine Spiral and then consolidate all of my experiences.

I can do this. My 2021 ML attempt won't go the same way as the 2018 one. Just because one blow did not topple my opponent does not mean that a much stronger strike wouldn't."

---
## [via8/pytux@0d32e3aee3...](https://github.com/via8/pytux/commit/0d32e3aee3e4abce8603342bb9dc16c9af7a6cc1)
##### 2021-03-07 18:52:24 by via8

ultradeathhardmetalcoremothufuckingcocksuckingannual update presenting absolutely new pytux version newer seen such programming skill (shit) before, you got no chance to beat me, this is my code, this is my home, these are my homies, this is my masterpiece, prepare your anuses, get ready to see this: add label start (AUTOMATICALLY YOLO)

---
## [rileyjshaw/rileyjshaw.github.io@1c9ceef36f...](https://github.com/rileyjshaw/rileyjshaw.github.io/commit/1c9ceef36f4fef69fd3a20b65414de774f3bf3e1)
##### 2021-03-07 19:58:13 by Riley Shaw

Feature: add a dark theme

Dark themes are something I’ve sought since my early days on a computer. I remember finding a way to apply a black background to Microsoft Word 2003, then being horrified when I accidentally printed the document. In uni I scripted my desktop to boot into [f.lux](https://justgetflux.com/)’s darkroom mode. One of my only lasting contributions to [Signal](https://rileyjshaw.com/blog/the-pool-on-the-roof-must-have-a-leak) was loudly advocating for dark mode on iOS and Desktop, not just Android. I even [made a browser extension in 2015](https://chrome.google.com/webstore/detail/dark-theme-everywhere/nibjplbnmmklkfnkpecgbffkifmdbjed) to apply a dark theme to the entire Internet.

It’s not the most pressing or exciting work, but I decided my site should have a dark theme of its own. I took a lot of inspiration from my former Khan Academy teammate [Josh W. Comeau’s dark mode post](https://www.joshwcomeau.com/react/dark-mode/), with a few differences.

UI-wise, I decided to go a different route than a binary toggle between dark and light. There were three motivations behind this. From most to least important:

- I wanted to include a “system” option. Theming is still a fresh concept for most web users, so I think it’s worthwhile to expose a way to control theme, motion, brightness etc from within the webpage. But [there should _always_ be a simple way to revert back to your system’s display preferences](https://kilianvalkhof.com/2020/design/your-dark-mode-toggle-is-broken).
- I may add more options later (greyscale? low-res? melty??) and this leaves my options open and unlimited.
- I liked the animated eyeball idea.

Speaking of the animated eyeball… I’m happy with how it turned out! It was quite a deep dive, since I didn’t want to include a heavy animation library like [react-spring](https://www.react-spring.io/) (>25kb) or [Framer Motion](https://www.framer.com/motion/) (>90kb). **Thankfully, the coolest thing I learned while working on this feature is that [SVG has a declarative animation specification called SMIL](https://css-tricks.com/guide-svg-animations-smil/)!** It didn’t take long to pick up, and it’s very easy to work with. I’m really happy to add it to my toolkit.

Animations were the _coolest_ deep dive, but they weren’t the deepest. Back when I started building this website, I split the header into Cyan, Magenta, and Yellow (CMY) channels. They [combined subtractively](https://rileyjshaw.com/blog/your-art-teacher-lied) to make a black-ish color, which I used across the site for text. I removed that feature in late 2019, but recently added it back.

With a single theme, that’s three combinations, for a total of 7 colors. With two themes… the combinations explode a bit.

I use [mix-blend-modes](https://developer.mozilla.org/en-US/docs/Web/CSS/mix-blend-mode) to combine colors, of which there are limited options. For my initial color palettes, I wanted to pick three pretty primary colors (light: CMY, dark: RGB) that would blend into three pretty secondary colors (light: RGB, dark: CMY), and all blend together into something with enough contrast from the background to use as body text. Tall order! [So I built a tool for that](https://github.com/rileyjshaw/palette-test-tool), and spent a few idle hours tweaking settings until I was happy.

And the initial palettes are… pretty good? I wish I was more thrilled with the result, but there are so many conflicting requirements that it’s impossible to get a result as good as if I’d hand-picked the colors independently. I’ve done an initial a11y pass of the colors, and there are some areas of the site where I want to improve the contrast. So I’ll probably end up with a palette split between the “true” colors, and their slightly modified, more attractive cousins.

I also needed to add a global settings provider in this commit. Now that I’ve done the work for that, look forward to more settings (reduce motion, contrast preference, block embeds… cheat codes??) coming soon!

I made a few minor changes while working on this commit:

- Update a bunch of the site doodles to fit either theme.
- Share theme colors between CSS-land and JS-land. No more mismatches!
- Keep the `<Layout>` component mounted between pages. Transitions and performance will be just _sliiightly_ smoother.
- Clarify the color variables a bit; `--cb` is now `--color-blue`.
- Add theme-dynamic color variables. For instance, `--color-p1` (“primary one”) maps to `--color-red` in dark mode and `--color-cyan` in light mode.
- Update some non-standard colors (eg. scaling faders demo) to fit the new palettes.
- Super simplify state-handling in the site nav (fixes a persistent console error).
- Standardize the handling of `localStorage` and `sessionStorage`.

Hope you enjoy!
