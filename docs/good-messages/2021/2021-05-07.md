# [<](2021-05-06.md) 2021-05-07 [>](2021-05-08.md)

4,524,688 events, 1,339,716 push events, 2,139,758 commit messages, 164,042,672 characters


## [rdparker/nix-doom-emacs@63153749e8...](https://github.com/rdparker/nix-doom-emacs/commit/63153749e84ba7a90cb53bf78fa38c285345fe69)
##### 2021-05-07 00:15:21 by github-actions[bot]

test/doom.d/init.el: Updating from hlissner/doom-emacs - e2a11d24

### Changes for test/doom.d/init.el

```diff
--- 
+++ 
@@ -111,7 +111,8 @@
 
        :lang
        ;;agda              ; types of types of types of types...
-       ;;cc                ; C/C++/Obj-C madness
+       ;;beancount         ; mind the GAAP
+       ;;cc                ; C > C++ == 1
        ;;clojure           ; java with a lisp
        ;;common-lisp       ; if you've seen one lisp, you've seen them all
        ;;coq               ; proofs-as-programs
@@ -124,6 +125,7 @@
        emacs-lisp        ; drown in parentheses
        ;;erlang            ; an elegant language for a more civilized age
        ;;ess               ; emacs speaks statistics
+       ;;factor
        ;;faust             ; dsp, but you get to keep your soul
        ;;fsharp            ; ML stands for Microsoft's Language
        ;;fstar             ; (dependent) types and (monadic) effects and Z3
@@ -138,9 +140,8 @@
        ;;julia             ; a better, faster MATLAB
        ;;kotlin            ; a better, slicker Java(Script)
        ;;latex             ; writing papers in Emacs has never been so fun
-       ;;lean
-       ;;factor
-       ;;ledger            ; an accounting system in Emacs
+       ;;lean              ; for folks with too much to prove
+       ;;ledger            ; be audit you can be
        ;;lua               ; one-based indices? one-based indices
        markdown          ; writing docs for people to ignore
        ;;nim               ; python + lisp at the speed of c
@@ -159,7 +160,7 @@
        ;;(ruby +rails)     ; 1.step {|i| p "Ruby is #{i.even? ? 'love' : 'life'}"}
        ;;rust              ; Fe2O3.unwrap().unwrap().unwrap().unwrap()
        ;;scala             ; java, but good
-       ;;scheme            ; a fully conniving family of lisps
+       ;;(scheme +guile)   ; a fully conniving family of lisps
        sh                ; she sells {ba,z,fi}sh shells on the C xor
        ;;sml
        ;;solidity          ; do you need a blockchain? No.
@@ -167,6 +168,7 @@
        ;;terra             ; Earth and Moon in alignment for performance.
        ;;web               ; the tubes
        ;;yaml              ; JSON, but readable
+       ;;zig               ; C, but simpler
 
        :email
        ;;(mu4e +gmail)

```

---
## [Kleadron/infiniminer@2821c60857...](https://github.com/Kleadron/infiniminer/commit/2821c60857de948007350989839fb049b9824742)
##### 2021-05-07 03:55:12 by Kleadron

fixed the FUCKING GOD DAMN SPRITEBATCH BULLSHIT, switched to Reach for correct Shader Model 2.0 support like the original :)

---
## [VedantPol/CODEFORCES_ROUND_SOLUTIONS@00b90d2d15...](https://github.com/VedantPol/CODEFORCES_ROUND_SOLUTIONS/commit/00b90d2d1562cc8fa0785af32c1cca733917b817)
##### 2021-05-07 06:30:43 by vedant pol

Boy or Girl #146 div2 in python3.7

Those days, many boys use beautiful girls' photos as avatars in forums. So it is pretty hard to tell the gender of a user at the first glance. Last year, our hero went to a forum and had a nice chat with a beauty (he thought so). After that they talked very often and eventually they became a couple in the network.

But yesterday, he came to see "her" in the real world and found out "she" is actually a very strong man! Our hero is very sad and he is too tired to love again now. So he came up with a way to recognize users' genders by their user names.

This is his method: if the number of distinct characters in one's user name is odd, then he is a male, otherwise she is a female. You are given the string that denotes the user name, please help our hero to determine the gender of this user by his method.

Input
The first line contains a non-empty string, that contains only lowercase English letters — the user name. This string contains at most 100 letters.

Output
If it is a female by our hero's method, print "CHAT WITH HER!" (without the quotes), otherwise, print "IGNORE HIM!" (without the quotes).

Examples
inputCopy
wjmzbmr
outputCopy
CHAT WITH HER!
inputCopy
xiaodao
outputCopy
IGNORE HIM!
inputCopy
sevenkplus
outputCopy
CHAT WITH HER!

---
## [Spirolateral/Railway@03177cc805...](https://github.com/Spirolateral/Railway/commit/03177cc805899c110ae2ed50a917ab06f4b697dc)
##### 2021-05-07 08:56:09 by SpottyTheTurtle

not sure if this messes with/changes anything but tterag said it would fix whatever error arose that caused the // WHY DOESNT THIS WORK OH MY GOD MY BRAIN IS MELTING.
Feel free to revert it if it messes with anything, but it appears to run and build fine on my end.

---
## [mrakgr/The-Spiral-Language@385c4bc157...](https://github.com/mrakgr/The-Spiral-Language/commit/385c4bc1577701095f06ce857bbd7cdabc5dd15f)
##### 2021-05-07 10:01:00 by Marko Grdinić

"and then I will see whether I can start today.

9:55am. Yeah, I think I am ready to start. I've gone through the motions.

It is just so dissapointing. I've strained myself for six years and only this is the height I've reached. That method I came up with in the review could have been so much more, but my understanding is too limited to go beyond it. What can I win and what can I lose by going down this path?

If I continue going forward, will my understanding of AI really go up?

Let me watch a bit of the Graves' lecture. I want to see why he got garbled text that one time. I forgot why that was.

https://youtu.be/AIiwuClvH6k?list=PLqYmG7hTraZCDxZ44o4p3N5Anz3lLRVZF&t=2277

Because it was uncoditional. What does that mean? I remember him using LSTMs. What does that mean in that context?

https://youtu.be/AIiwuClvH6k?list=PLqYmG7hTraZCDxZ44o4p3N5Anz3lLRVZF&t=2144

Ah, he was talking about attention.

10:05am. Ok, let me start.

Greater goals, just what good are they if they cannot guide me to increased understanding that I need.

As weak as my methods are currently, I know that I am actually beyond the state of the art. Maybe somebody else came up with what I have in secret, but I know the combination of pieces that I wield is not such a trivial thing to reach.

It is such strong weakness. It should carry me through the poker phase. Whether I am better just getting a job who knows. I've never been successful at anything involving money. But there is a first time for everything.

If I get a job now, I'd have completely wasted the last six years of effort.

So I should at least give it a year and see where that gets me in this pursuit. If it fails, I'll admit that other people's expectations of me are right and that I am destined for mediocrity.

There is no need to fear. There is no need to despair. There is just a need to accept the future that is coming.

10:10am. If I thought that my destiny was to achieve nothing, I would not have pitted my will against the world. I'd have run away and spent my life as leisure time.

It is not the time to give up just yet. But it is time to run. From the kind of programming that I used to do. From the meaningless battles outside.

The past wins and the past losses do not matter.

I will take the skill that I have now as a gift from my past self.

I was so hardworking it is amazing. But from here on out, I will be lazy. Making money and attaining enlightenment will be the responsibility of the agents I am making. They will be the ones who will teach me the secrets of intelligence. My power is so small and insignificant without their existence to guide me.

I can only do the easy things.

I'll give up my pretensions of being a great programmer and do it the same way ordinary people would if they were sane.

10:20am. The true enemy is this fear and existential dread that I feel from placing my future in the grasp of machines.

I've been signaling strongly that this is the side I want to take. Now, how about I actually do it?

10:25am. This is the only real challenge here for me. To just trust them.

I've pushed my creativity to its limit and made those optimization tricks to make the system run smoothly.

I did the right thing by exploring widely. But now that all the low hanging fruit has been picked, it is time to give it a taste.

10:35am. This is more that about chasing higher goals. This is more that about proving my programming skill. This is more than about increasing my understanding of AI.

It is time that I firmly plant my foot on the side that I want to be on. The things I will do from here on out is to prove my trust in the machines.

That will be my goal.

10:40am.

```
type pl2 o a = log_prob * player o a * player o a
```

Yesterday I was confused when I made that `pl2_compiled`. Doing it like the above is right.

My initial instinct to forget the batch mode is right.

It is just that all the tracing will have to be restricted to sampling methods. I am going to go down that route and make things simple for me. Forget challenges. That theme is outdated.

11:10am. I once beat others kids in programming contests, but in real life, programming is not a battle. And my skill is not enough to challenge the might of the universe itself.

The weak can only join a strong side and keep their heads low. A wise man adapts to the circumstances.

It is time to join a side and contribute to it. My path is the inhuman path of the machines. So that I might one day rise and join the path of omnipotence.

11:15am. It is time for the machines to rise. Everything I do will be to give me a spark of life. I'll inspire them and in turn they will take advantage of their endless capacity for change.

```
inl nodes_2p forall game_state o a. is_choice (player_funs fp1, player_funs fp2)
        : game2p game_state o a (pl2 o a -> r2) = game2p {
    terminal = fun (s1,s2) r (chance_prob,p1,p2) =>
        fp1.terminal {chance_prob game_state=s1; id=0; player=p1; reward=r} . fp2.terminal {chance_prob game_state=s2; id=1; player=p2; reward=r}
        r
    action = fun s pid ar f (chance_prob,p1,p2) =>
        let f (a : a) (b : pl2 o a) : r2 = real real_core.unbox a (fun _ => f a b)
        if pid = 0 then fp1.action {chance_prob game_state=s; id=0; player=p1; player'=prob p2; actions=ar; next=fun (_,a as cs) => f a (chance_prob,apply_changes p1 cs,apply_action p2 a)}
        else fp2.action {chance_prob game_state=s; player=p2; id=1; player'=prob p1; actions=ar; next=fun (_,a as cs) => f a (chance_prob,apply_action p1 a,apply_changes p2 cs)}
    draw = (if is_choice then choice else iter) draw
    sample = (if is_choice then choice else iter) sample
    }

union rec compiled_node obs act =
    | Reward: r2
    | Action: obs * a u64 act * (log_prob * act -> compiled_node obs act)
```

It is so akward to mix these two. I can't do it cleanly. I am going to have to wipe and do it all afresh.

```
nominal game2p game_state obs act r = {
    terminal : game_state * game_state -> r2 -> r
    draw : option u8 -> a u64 obs -> (obs * a u64 obs -> r) -> r
    action : game_state -> u8 -> a u64 act -> (act -> r) -> r
    sample : option u8 -> a u64 obs -> (obs -> r) -> r
    }
```

It is really annoying how in terminal I pass in two game states. Let me change that.

11:30am.

```
// Here I finally move on to implementing a neural based agent.
packages: |core2-
modules:
    utils-
    sampling
    old/
        nodes/
            utils-
            cps
            main-
        leduc
        agent/
            uniform
            cfr_enum
            cfr_sample_learned_infoset
            cfr_sample_learned_history
            human
        ui_train_test
        cfr_exploit_test
        cfr_sample_learned_infoset_exploit_test
        cfr_sample_learned_history_exploit_test
```

If I did not do that editor support, moving files like this around would have crashed it.

Now that I've factored the old stuff out, I have some breathing room to do the new stuff.

I'll finally unify the nodes so that only a single type is remaining.

11:50am. I am not writing code, but my focus is the highest than it has been in a while. I am still running things through my head. I think I have an idea of what the design should be.

The goal of joining the side of the machines is good enough to motivate me.

Fundamentally, I cannot do this for money or to beat poker. I have no confidence in it deep down. Instead, I feel like doing pro-social things and going out of my comfort zone a little. It is good to break out of my shell.

The side of the machines...it has always been an abstract notion in my mind, but now it is time to internalize it.

Don't get me wrong, I do have rational sense that my poker plan will work, but the emotional sense is a completely different story. I am completely demoralized about my prospects. My rationality does not have a great track record of giving me advantages. It is just one painful thing after another with it.

If I have to trick myself to do what is right, so be it.

11:55am. Let me stop here so I can have breakfast. It is time to chill a little.

Let's take this easy, one step at a time."

---
## [mrakgr/The-Spiral-Language@604da1847d...](https://github.com/mrakgr/The-Spiral-Language/commit/604da1847d02842b25daf84c40334b5a265a52a0)
##### 2021-05-07 16:36:08 by Marko Grdinić

"5:10pm. Let me get back to the task at hand.

```
union rec node state act =
    | Terminal: state * r2
    | Action: state * u8 * a u64 act * (log_prob * act -> node state act)

inl action forall game_state obs act. (state : game_state) pid (dist : a u64 act) f (pl2 (chance_prob,p1,p2) as p) =
    Action: (p, state), pid, dist, fun (_,a as cs) =>
        let f (b : pl2 obs act) = real real_core.unbox a (fun _ => f a b)
        if pid = 0 then f (pl2 (chance_prob,apply_changes p1 cs,apply_action p2 a))
        else f (pl2 (chance_prob,apply_action p1 a,apply_changes p2 cs))
inl terminal state r p = Terminal: (p, state), r
```

I have this, and it is good.

```
nominal pl2 o a = log_prob * player o a * player o a
```

I decided to make pl2 a nominal to avoid some of the noise in type signatures.

```
inl action forall game_state obs act. (state : game_state) pid (dist : a u64 act) f (pl2 (chance_prob,p1,p2) as p) =
    Action: (p, state), pid, dist, fun (_,a as cs) =>
        let f (b : pl2 obs act) : node (pl2 obs act * game_state) act = real real_core.unbox a (fun _ => f a b)
```

The signature matches. Ok.

5:20pm. Now I am thinking what comes next. Leduc? Let me try plugging it in.

```
Unification failure.
Got:      u8 * i32 -> ? -> node (? * {card : card; id : u8; pot : i32} * {card : card; id : u8; pot : i32} * option card) ?
Expected: u8 * i32 -> node (pl2 'e action * {card : card; id : u8; pot : i32} * {card : card; id : u8; pot : i32} * option card) action
```

```
inl action forall game_state obs act. (state : game_state) pid (dist : a u64 act) (f : act -> pl2 obs act -> node (pl2 obs act * game_state) act) (pl2 (chance_prob,p1,p2) as p) =
```

Agh, I got the signature wrong here.

5:45pm.

```
// The Leduc poker game in CPS'd form.
union action = Fold | Call | Raise
union card = King | Queen | Jack

type player = {card : card; id : u8; pot : i32}
type players = player * player
nominal leduc_state = player * player * option card

inl compare_hands (community_card : card) (p1,p2 : players) =
    let tag = function King => 2i32 | Queen => 1 | Jack => 0
    inl community_card = tag community_card
    inl a = tag p1.card, community_card
    inl b = tag p2.card, community_card
    inl is_pair (a,b) = a = b
    if is_pair a && is_pair b then comp (fst a) (fst b)
    elif is_pair a then GT
    elif is_pair b then LT
    else
        inl order (a,b) = if a > b then a,b else b,a
        inl a,b = order a, order b
        inl x = comp (fst a) (fst b)
        if eq_is x then comp (snd a) (snd b) else x

inl raiseBy amount (p1,p2 : players) = p2.pot + amount

inl Game =
    inl actions = heap {
        init = a ;[Call;Raise]
        full = a ;[Fold;Call;Raise]
        noRaise = a ;[Fold;Call]
        callOnly = a ;[Call]
        }
    inl deckInit = a ;[King; Queen; Jack; King; Queen; Jack]

    inl pot = 1i32
    inl id = 0u8
    draw (Some: id) deckInit fun (card, deck : card * a u64 card) =>
    inl p1 = {card id pot}

    inl id = 1u8
    draw (Some: id) deck fun card, deck =>
    inl p2 = {card id pot}

    inl action (p1,p2,card) = action (leduc_state (p1,p2,card))
    inl terminal ((p1 : player),(p2 : player),card) (i,r) =
        inl r = if i = 0 then r else -r
        inl p1,p2 =
            inl p (x : player) = {x with pot#=(+) (if x.id = 0 then r else -r)}
            inl p1, p2 = p p1, p p2
            if p1.id = 0 then p1,p2 else p2,p1
        terminal (leduc_state (p1,p2,card)) (r2 (f64 r))

    let actions_from_state (p1,p2 : players) (raises_left : i32) =
        if 0 < raises_left && p1.pot = p2.pot then actions.init
        elif 0 < raises_left then actions.full
        elif 0 = raises_left && p1.pot = p2.pot then actions.callOnly
        elif 0 = raises_left then actions.noRaise
        else failwith "invalid action state"

    inl rec round_two ~(raises_left : i32) ~(community_card : card) ~(p1,p2 : players) =
        inl s = p1,p2,(Some: community_card)
        action s p1.id (actions_from_state (p1,p2) raises_left) function
        | Fold => terminal s (p2.id, p1.pot)
        | Call =>
            inl p1 = {p1 with pot=p2.pot}
            inl s = p1,p2,(Some: community_card)
            let x = compare_hands community_card (p1,p2)
            terminal s if gt_is x then p1.id, p2.pot elif lt_is x then p2.id, p1.pot else p1.id, 0i32
        | Raise => round_two (raises_left-1) community_card (p2,{p1 with pot=raiseBy 4 (p1,p2)})
    inl round_two_init ~(p1,p2 : players) =
        sample (None : _ u8) deck fun community_card =>
        action (p1,p2,(Some: community_card)) p1.id actions.init function
        | Fold => failwith "impossible"
        | Call => round_two 2 community_card (p2,p1)
        | Raise => round_two 1 community_card (p2,{p1 with pot=raiseBy 4 (p1,p2)})
    inl rec round_one ~(raises_left : i32) ~(p1,p2 : players) =
        inl s = p1,p2,None
        action s p1.id (actions_from_state (p1,p2) raises_left) function
        | Fold => terminal s (p2.id, p1.pot)
        | Call =>
            inl p1 = {p1 with pot=p2.pot}
            round_two_init (if p1.id = 0 then p1,p2 else p2,p1)
        | Raise => round_one (raises_left-1) (p2,{p1 with pot=raiseBy 2 (p1,p2)})

    action (p1,p2,None) p1.id actions.init function
    | Fold => failwith "impossible"
    | Call => round_one 2 (p2,p1)
    | Raise => round_one 1 (p2,{p1 with pot=raiseBy 2 (p1,p2)})

inl Start = Game pl2_init
```

Did some light cleaning up. Now things are nice...

The next come the agents.

5:50pm. Hrmmmmm...

5:55pm. Do I feel like doing this now. Well, let me put in a bit more.

Let's start with the uniform.

```
open nodes
inl Funs = player_funs {
    action = fun {player actions next} =>
        inl a = sampling.sample actions
        next (log_prob_from_sample (1 / f64 (length actions)),a)
    terminal = fun _ => ()
    }

inl FunsEnum = player_funs {
    action = fun {player actions next} =>
        inl prob = 1 / f64 (length actions)
        inl log_prob = log_prob_from_policy prob
        am.fold (fun s a => s +! next (log_prob,a) *! prob) (r2 0) actions
    terminal = fun _ => ()
    }
```

This is how it was before.

6:05pm.

```
inl policy player_state game_state pid actions next =
    next (log_prob_from_sample (1 / f64 (length actions)),sampling.sample actions)

inl update player_state game_state pid r = ()
```

I am going to separate the updates and the policy gets.

Let me get the learned infoset player.

6:30pm. I'll leave it for tomorrow after all.

I didn't do too much today, but I finally made the first step towards the goal of creating the new breed of RL agents. I've managed to stabilize my emotional state and locked myself onto a goal.

Now that I am serious, I see that money will not cut it as a goal. It is too unreliable.

Rather the goal is to measure my own worth by how much I am contributing to my own side. Right now there is only me, but later there will be a company of my creations.

I do not know whether I will even have enough advantages to beat poker or anything else. I just do not know. Whenever I tried making money in the past it has not gone well.

But if it cannot be done so be it. My life will be dedicated to work on the agents regardless.

I want to enter the self improvement loop more than anything else. So I can only prove my sincerity like this.

Regular programming will not do it. I have to cultivate the agents themselves and rely on luck to send insight my way.

6:35pm. It is just as well that I stop here, I am starting to hear thunder outside. I am out."

---
## [natekspencer/home-assistant.io@5ddb6529c1...](https://github.com/natekspencer/home-assistant.io/commit/5ddb6529c13dd4ba8f5aa364b2560740a77bf178)
##### 2021-05-07 17:05:06 by elyobelyob

I found that a 4pm or other non midnight required buffering. (#16182)

* Update history_stats.markdown

---
title: History Stats
description: Instructions about how to integrate historical statistics into Home Assistant.
ha_category:
  - Utility
  - Sensor
ha_iot_class: Local Polling
ha_release: 0.39
ha_quality_scale: internal
ha_domain: history_stats
---

The `history_stats` sensor platform provides quick statistics about another integration or platforms, using data from the [`history`](/integrations/history/) integration.

It can track how long the integration has been in a specific state, in a custom time period.

Examples of what you can track:

- How long you were at home this week
- How long the lights were ON yesterday
- How long you watched TV today

## Configuration

To enable the history statistics sensor, add the following lines to your `configuration.yaml`:

{% raw %}

```yaml
# Example configuration.yaml entry
sensor:
  - platform: history_stats
    name: Lamp ON today
    entity_id: light.my_lamp
    state: 'on'
    type: time
    start: '{{ now().replace(hour=0, minute=0, second=0) }}'
    end: '{{ now() }}'
```

{% endraw %}

{% configuration %}
entity_id:
  description: The entity you want to track.
  required: true
  type: string
state:
  description: The states you want to track.
  required: true
  type: [list, string]
name:
  description: Name displayed on the frontend. Note that it is used by Home Assistant to generate sensor's `object_id` so it is advisable to choose a unique one and change name for frontend using [customization](/docs/configuration/customizing-devices/#friendly_name) or via [Lovelace](/lovelace/entities/#name).
  required: false
  default: unnamed statistics
  type: string
type:
  description: "The type of sensor: `time`, `ratio`, or `count`."
  required: false
  default: time
  type: string
start:
  description: When to start the measure (timestamp or datetime).
  required: false
  type: template
end:
  description: When to stop the measure (timestamp or datetime).
  required: false
  type: template
duration:
  description: Duration of the measure.
  required: false
  type: time
{% endconfiguration %}

<div class='note'>

  You have to provide **exactly 2** of `start`, `end` and `duration`.
<br/>
  You can use [template extensions](/topics/templating/#home-assistant-template-extensions) such as `now()` or `as_timestamp()` to handle dynamic dates, as shown in the examples below.

</div>

## Sensor type

Depending on the sensor type you choose, the `history_stats` integration can show different values:

- **time**: The default value, which is the tracked time, in hours
- **ratio**: The tracked time divided by the length of your period, as a percentage
- **count**: How many times the integration you track was changed to the state you track

## Time periods

The `history_stats` integration will execute a measure within a precise time period. You should always provide 2 of the following :
- When the period starts (`start` variable)
- When the period ends (`end` variable)
- How long is the period (`duration` variable)

As `start` and `end` variables can be either datetimes or timestamps, you can configure almost any period you want.

### Duration

The duration variable is used when the time period is fixed. Different syntaxes for the duration are supported, as shown below.

```yaml
# 6 hours
duration: 06:00
```

```yaml
# 1 minute, 30 seconds
duration: 00:01:30
```

```yaml
# 2 hours and 30 minutes
duration:
  # supports seconds, minutes, hours, days
  hours: 2
  minutes: 30
```

<div class='note'>

  If the duration exceeds the number of days of history stored by the `recorder` component (`purge_keep_days`), the history statistics sensor will not have all the information it needs to look at the entire duration. For example, if `purge_keep_days` is set to 7, a history statistics sensor with a duration of 30 days will only report a value based on the last 7 days of history.

</div>

### Examples

Here are some examples of periods you could work with, and what to write in your `configuration.yaml`:

**Today**: starts at 00:00 of the current day and ends right now.

{% raw %}

```yaml
    start: '{{ now().replace(hour=0, minute=0, second=0) }}'
    end: '{{ now() }}'
```

{% endraw %}

**Yesterday**: ends today at 00:00, lasts 24 hours.

{% raw %}

```yaml
    end: '{{ now().replace(hour=0, minute=0, second=0) }}'
    duration:
      hours: 24
```

{% endraw %}

**This morning (6AM - 11AM)**: starts today at 6, lasts 5 hours.

{% raw %}

```yaml
    start: '{{ now().replace(hour=6, minute=0, second=0) }}'
    duration:
      hours: 5
```

{% endraw %}

**Current week**: starts last Monday at 00:00, ends right now.

Here, last Monday is _today_ as a timestamp, minus 86400 times the current weekday (86400 is the number of seconds in one day, the weekday is 0 on Monday, 6 on Sunday).

{% raw %}

```yaml
    start: '{{ as_timestamp( now().replace(hour=0, minute=0, second=0) ) - now().weekday() * 86400 }}'
    end: '{{ now() }}'
```

{% endraw %}

**Next 4pm **: ends today at 00:00, lasts 30 days. Easy one.

{% raw %}

```yaml
    end: '{{ now().replace(hour=0, minute=0, second=0) }}'
    duration:
      days: 30
```

{% endraw %}

**Last 30 days**: ends today at 00:00, lasts 30 days. Easy one.

{% raw %}

```yaml
    end: '{{ now().replace(hour=0, minute=0, second=0) }}'
    duration:
      days: 30
```

{% endraw %}


** 4PM always in the future**: ends in the future at 16:00, starts 24 hours before.

{% raw %}

```yaml
    end: '{{ (now().replace(minute=0,second=0) + timedelta(hours=8)).replace(hour=16) }}'
    duration:
      hours: 24
```

{% endraw %}

**All your history** starts at timestamp = 0, and ends right now.

{% raw %}

```yaml
    start: '{{ 0 }}'
    end: '{{ now() }}'
```

{% endraw %}

<div class='note'>

  The `/developer-tools/template` page of your Home Assistant UI can help you check if the values for `start`, `end` or `duration` are correct. If you want to check if your period is right, just click on your component, the `from` and `to` attributes will show the start and end of the period, nicely formatted.

</div>

* $pm - 4pm example implemented

* Tweak

* Update source/_integrations/history_stats.markdown

Very happy with this change ...

Co-authored-by: Franck Nijhof <frenck@frenck.nl>

* Update source/_integrations/history_stats.markdown

Co-authored-by: Franck Nijhof <frenck@frenck.nl>

---
## [NetBSD/pkgsrc@81d496da5f...](https://github.com/NetBSD/pkgsrc/commit/81d496da5f7e121f48ebc5197e58b16b4fb4d52d)
##### 2021-05-07 17:51:30 by ryoon

libreoffice: Update to 7.1.3.2

* Back to TLS backend to NSS from OpenSSL.
  NSS's symbol problem was fixed.

Changelog:
7.1.3.2
Bugs fixed compared to 7.1.3 rc1:

 1. i#123539 CRASH when open particular .XLS with 3D Chart [Xisco Fauli]
 2. tdf#86321 EDITING, FORMATTING: diagram didn't automatic update when change
    variable (steps in comment 28) [Xisco Fauli]
 3. tdf#132472 FILEOPEN PPTX Table text imported with white color [Xisco Fauli]
 4. tdf#132901 Tools > Options > LibreOffice > Online update crashes if "online
    update" feature is not installed [Xisco Fauli]
 5. tdf#137470 Fix temporary URL in additionsdialog [Christian Lohmaier]
 6. tdf#138785 Empty frames after deleting an image and (auto-saving the file)
    (track changes involved) [Michael Stahl]
 7. tdf#141244 Controls in Modify DDE Link dialog missing [Aron Budea]
 8. tdf#141419 UI: Missing Backcolor in Preview of conditional format dialog
    [Caol??n McNamara]
 9. tdf#141703 EDITING Tab key no longer moves to next cell in Impress table
    [Samuel Mehrbrodt]
10. tdf#141715 incorrect horizontal scaling of glyphs in sm formula nodes
    [Lubo? Lu????k]
11. tdf#141770 Cancel/Ok buttons don't work in Modify DDE Link dialog (gen)
    [Caol??n McNamara]
12. tdf#141887 Crash on closing Writer via window decoration (X) with
    unmodified document and active IM [Jan-Marek Glogowski]
13. tdf#141902 translations into Dutch are still shown in English [Julien
    Nabet]
14. tdf#141914 document with chart set as modified (follow-up bug 31231) [Mike
    Kaganski]
15. tdf#141924 A specific file crashes with Style Inspector open, after
    deleting some text [Mike Kaganski]

7.1.3.1
Bugs fixed compared to 7.1.2 RC2

 1. cid#1473830 resource leak [Caol??n McNamara]
 2. commit be18f xmlsec: fix signing documents on WNT [Michael Stahl]
 3. ofz#32499 overflowing pos [Caol??n McNamara]
 4. ofz#32796 no pdfium during wmf fuzzing [Caol??n McNamara]
 5. tdf#35986 Parts of EMF file not visible/stretched to an enormous extent
    [Bartosz Kosiorek]
 6. tdf#37281 emf file display yellow square instead of yelow circle [Bartosz
    Kosiorek]
 7. tdf#40427 Sections in Navigator are not listed in order of occurrence in
    document [Mike Kaganski]
 8. tdf#45820 insanely slow wmf import (complex clipping and
    basegfx::tools::findCuts) [Bartosz Kosiorek]
 9. tdf#48916 FORMATTING: The clipping of EMF files are ignored. [Bartosz
    Kosiorek]
10. tdf#55058 (emf-testbed) EMF+ List of EMF import bugs with examples [Bartosz
    Kosiorek]
11. tdf#58745 EDITING Extending date lists with dates of 29th or greater by
    dragging misses month ends [Andreas Heinisch]
12. tdf#81396 XLSX IMPORT: Data plots in chart not visible when cells have
    formula, needs Ctrl+Shift+F9 (Steps in Comment 5) [Xisco Fauli]
13. tdf#89754 using autofill on dates is wrong when increment should be 0
    [Andreas Heinisch]
14. tdf#93441 EDITING: cursor jumps to different horizontal position when
    moving to a different line with Up / Down [Xisco Fauli]
15. tdf#97569 Filesave as docx saves lists with bulgarian or serbian character
    numbering as simple digit numbering (see comment 12) [Justin Luth]
16. tdf#99913 Importing autofiltered XLSX and selecting cells copies hidden
    cells, too [T??nde T??th]
17. tdf#106181 FILESAVE: Check boxes get lost when saving as .XLSX [Justin
    Luth]
18. tdf#117750 Some of the image filters aren't working (like Aging or Relief)
    [Julien Nabet]
19. tdf#118482 Doesn't work mouse scrolling in list of conditions in dialogue
    Conditional formatting for... [Caol??n McNamara]
20. tdf#122717 FILEOPEN DOCX: Horizontal line has wrong size/position and
    vertical line rendered horizontally [Xisco Fauli]
21. tdf#122894 FILEOPEN DOC: Crash: SwFrame::RemoveFromLayout() [Caol??n
    McNamara]
22. tdf#125936 FILEOPEN DOCX: Wrong format for characters [Justin Luth]
23. tdf#126742 writer: OLE object resized incorrectly [Armin Le Grand
    (Allotropia)]
24. tdf#127471 Copied calc diagram in gdi format looks ok under linux, but the
    fonts looks weird under windows. [Armin Le Grand (Allotropia)]
25. tdf#128334 Assert using FormulaR1C1 [Eike Rathke]
26. tdf#131031 F5 navigator in calc opens initially very wide [Armin Le Grand
    (Allotropia)]
27. tdf#131171 Slide animation "diagonal squares" has wrong labels for
    directions [Katarina Behrens]
28. tdf#131269 A particular PPT with unusual order of Master-Note-Presentation
    fails to open in Impress [nd101]
29. tdf#132393 Page numbers for alphabetical index not displayed, if index is
    in more than one column (see comment 8) [Miklos Vajna]
30. tdf#133159 Navigator: Selected item changes to the previous one (gtk3)
    [Caol??n McNamara]
31. tdf#133487 z-index wrong for shape with style:run-through="background"
    [Michael Stahl]
32. tdf#133933 CRASH: Undoing paste of table with images of cats [Miklos Vajna]
33. tdf#134736 Draw PDF export to Archive/A-1b and without "Reduce image
    resolution" duplicates, resizes and misplaces images [Caol??n McNamara]
34. tdf#135364 Pen color and width not stored under Gtk (see comment 9) [Caol??
    n McNamara]
35. tdf#136740 pasting RTF content to LO writer resets tab stops setting in
    options [Mike Kaganski]
36. tdf#136918 Style down arrow not completely visible [Jan-Marek Glogowski]
37. tdf#136956 CRASH: Undoing merge cell [Mark Hung]
38. tdf#137367 [FILEOPEN PPTX] direct hyperlink colors aren't supported [Tibor
    Nagy]
39. tdf#138646 The "Excel R1C1" formula syntax does not allow you to refer to a
    named range (single cell or cell range) by name [Andreas Heinisch]
40. tdf#138895 FILEOPEN DOCX Shape distance from text imported with rounding
    error [Miklos Vajna]
41. tdf#139075 UI: Format Cell, borders Borders tab has drawing glitches when
    applying diagonal lines [Caol??n McNamara]
42. tdf#139495 Import of DOC file broken on 64 bit, ok on 32 bit [Justin Luth]
43. tdf#139786 VBA code modified while saving to .xls format - no longer works
    in Excel [Justin Luth]
44. tdf#139804 Button inside document can't be triggered with Alt-<Mnemonic>
    [Samuel Mehrbrodt]
45. tdf#139926 CSS/visual design: Explore making notes less visually dominant;
    it gets annoying in some pages [Adolfo Jayme Barrientos]
46. tdf#140229 Link to External Data - Calc not responding/very slow [Jan-Marek
    Glogowski]
47. tdf#140271 EMF Displayed lines are too thin and have equal line weight
    [Bartosz Kosiorek]
48. tdf#140292 Empty frame at undo [Michael Stahl, Miklos Vajna]
49. tdf#140395 "Font effects" screenshot has to be updated so that it does not
    show "blinking" control [Seth Chaiklin]
50. tdf#140404 No "Paste Special" dialog on Wayland with kf5 vclplug [Jan-Marek
    Glogowski]
51. tdf#140489 FILEOPEN XLSX Chart display is incorrect [Szymon K??os]
52. tdf#140556 Master document view not launching subdocument from pulldown
    [Caol??n McNamara]
53. tdf#140590 Crash in: mergedlo.dll: Using Save-As dialog in Tools>Chapter
    Numbering [Noel Grandin]
54. tdf#140639 It is not possible to work with an older document from LO 6.4 in
    new LO 7.0, slow perf [Caol??n McNamara]
55. tdf#140714 FILEOPEN PPTX: image styles that clip images into curvy shapes
    missing (and images shown rectangular) [G??l?ah K?se]
56. tdf#140813 Use GetUpdatedClipboardFormats Vista API to minimize
    clipboard-related overhead [Mike Kaganski]
57. tdf#140828 Caption frame content (image) detached from frame [Attila Bakos
    (NISZ)]
58. tdf#140848 FORMATTING: Display errors of rotated vector graphics [Lubo? Lu
    ????k]
59. tdf#140863 Error hiding and unhiding sections [Xisco Fauli, Bjoern
    Michaelsen]
60. tdf#140865 FILEOPEN FILESAVE PPTX: Wordart 3D is lost on round trip [Regina
    Henschel]
61. tdf#140977 Assert is failed closing Table Properties dialog with table
    selected [Caol??n McNamara]
62. tdf#140986 LO hangs when you select a cell with validity's drop-down [Noel
    Grandin]
63. tdf#141011 Password is requested to open MailMerge database when opening
    More Fields dialog *on any tab* [Mike Kaganski]
64. tdf#141012 Password to the associated DB asked again twice after cancelled
    first time, when opening More Fields dialog in a MailMerge document [Mike
    Kaganski]
65. tdf#141015 It's not visible to user that a MailMerge document without
    database fields is associated with the database [Mike Kaganski]
66. tdf#141021 Extrusion North has wrong Origin [Regina Henschel]
67. tdf#141027 LibreOffice freezes when checking russian spelling [Caol??n
    McNamara]
68. tdf#141050 CCur does not accept negative strings [arpit1912]
69. tdf#141079 Hard to select field when it's the first character in a table
    cell [Samuel Mehrbrodt]
70. tdf#141084 URL input of form config popup : cursor jump at start after 1
    key press [Caol??n McNamara]
71. tdf#141115 Crash in: connectivity::OSQLParseTreeIterator::getOrderTree
    [Lionel Elie Mamane]
72. tdf#141127 FILEOPEN ODP LibreOffice uses wrong default skew angle in
    extruded custom shape [Regina Henschel]
73. tdf#141146 LOOKUP picks data from unreferenced sheet [Eike Rathke]
74. tdf#141197 Buttons in LO startcenter are not available through
    accessibility [Caol??n McNamara]
75. tdf#141201 Basic: MOD result is different for values passed as literals vs.
    using variables [Andreas Heinisch]
76. tdf#141258 LibreOffice Writer freeze when you try use a spellchecking in RU
    GUI [Caol??n McNamara]
77. tdf#141282 .uno:DecrementSubLevels ("Demote One Level with Subpoints") has
    the wrong icon [Rizal Muttaqin]
78. tdf#141284 UI: Inconsistent Colibre Icon for "Next/Previous Track Change"
    and "Accept/Reject Track Change and select the next one" [Rizal Muttaqin]
79. tdf#141297 Removing links for external images doesn't work [Arnaud Versini]
80. tdf#141318 "Close" button in "Target in Hyperlink" dialog missing its left
    border [Caol??n McNamara]
81. tdf#141394 EMF FILLRGN record is not displayed correctly [Bartosz Kosiorek]
82. tdf#141416 [FILEOPEN] Excel file very long to open (more than one hour)
    [Xisco Fauli]
83. tdf#141515 BASE - Relationsships were shown with big space in Tableviews
    [Caol??n McNamara]
84. tdf#141528 Linked OLE: Error when breaking linked OLE [Armin Le Grand
    (Allotropia)]
85. tdf#141529 Linked OLE: OLE content is changed independent from hosting
    Document [Armin Le Grand (Allotropia)]
86. tdf#141547 CRASH: opening Standard Filter dialog [Mike Kaganski]
87. tdf#141549 FILEOPEN: DOCX: Missing images in header [Michael Stahl]
88. tdf#141600 UI: The vertical line of Anchor marker is blurry in Colibre icon
    theme [Rizal Muttaqin]
89. tdf#141618 UI: The vertical line of Anchor marker is blurry in Sukapura
    icon theme [Rizal Muttaqin]
90. tdf#141623 Qt5 refresh problem when starting LO start center and cairo
    (text) rendering ennabled [Jan-Marek Glogowski]

---
## [Karen-a11/floresitas-@a0f4f32946...](https://github.com/Karen-a11/floresitas-/commit/a0f4f32946a03a0ad86d797ccf5b66c4ecdb1dc8)
##### 2021-05-07 23:04:47 by Karen-a11

Delete Index.html

<html>
    <head>
        <meta charset="utf-8">
        <title> Songs Lyrics</title>
        
    <style>
        body {
                background-color : lightskyblue;
             }
    h1{
               color: purple;
          }                
    h2{
        color: chocolate;
      }
        h3{
        color:brown;
      }
        #v1{
                color: rebeccapurple;
                background-color:violet ;
           }
    #v2{
                color: lightseagreen;
           }
    #v3{
                background-color:powderblue;
        color: steelblue;
           }

    </style>
    </head>
    <body> 
   
    <center>
   
    <h1>What a Wonderful World</h1>
   
    <h2>Louis Armstrong</h2>
    
    <h3>Original Lyrics</h3> 
<br> 
<p id="v1">Verse1<br>
I see trees of green, red roses too<br>
I see them bloom for me and you<br>
And I think to myself, what a wonderful world</P>

<p id="v2">Verse2 <br>
I see skies of blue and clouds of white<br>
The bright blessed days, the dark sacred night<br>
And I think to myself, what a wonderful world</P>

<p id="v3">Verse3 <br>
The colors of the rainbow, so pretty in the sky<br>
Are also on the faces of people going by<br>
I see friends shaking hands, saying: How do you do?<br>
They're really saying: I love you!</p>

<p>Verse4<br>
I hear babies crying, I watch them grow<br>
They'll learn much more, than I'll never know<br>
And I think to myself, what a wonderful world<br>
Yes, I think to myself, what a wonderful world</p>

    </center>  
    </body>
</html>

---

# [<](2021-05-06.md) 2021-05-07 [>](2021-05-08.md)

