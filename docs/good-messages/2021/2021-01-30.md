# [<](2021-01-29.md) 2021-01-30 [>](2021-01-31.md)

2,093,042 events, 1,202,750 push events, 1,729,702 commit messages, 112,856,328 characters


## [thechangelog/changelog.com@b2c7a2fb37...](https://github.com/thechangelog/changelog.com/commit/b2c7a2fb3747e3eb397ee766ed4c14e93c042066)
##### 2021-01-30 15:21:59 by Gerhard Lazu

Migrate from Crunchy Data to Zalando PostgreSQL

Crunchy Data has not been the best experience. Based on the initial
setup, Zalando PostgreSQL seems to be better.

What worked well with Crunchy Data:

* it didn't lose any data
* it degraded gracefully under load

What didn't work so well:

* the initial setup was complicated, with too much documentation that
  was poorly structured (no teasing, lumps of unrelated items, probably
  useful, but confusing as hell)
* default backups filled the disk and made the db become unavailable
  (not a safe default & not easy to configure)
* the pgo client approach is not GitOps friendly, I really missed the
  CRD approach
* replication stopped, pg-wal on the primary filled up, and eventually
  the primary crashed and wouldn't restart - that was a fun one to debug
  & recover from (our own custom backups saved the day)
* pods have too many labels (15+) which means that Loki running in
  Grafana Cloud rejects the db logs as they breach the maximum number of
  allowed labels ðŸ™„
* couldn't figure out how to get metrics into Prometheus & Grafana
  dashboards into our kube-prometheus-stack setup

All in all a poor experience, too heavyweight and complicated. But it's
OSS, so we tried it, captured this feedback, and moved on because YOLO.

In closing, within the first 30 minutes of switching to a PostgreSQL
provisioned by the Zalando Operator, our 95th responses went from 313ms
avg to 228ms according to nginx logs. That's a 28% speedup by simply
switching the operator. So far, so good ðŸ˜‰

Signed-off-by: Gerhard Lazu <gerhard@lazu.co.uk>

---
## [mrakgr/The-Spiral-Language@484023b8d8...](https://github.com/mrakgr/The-Spiral-Language/commit/484023b8d8e027b1a4896ffcca195dd35f2d73ee)
##### 2021-01-30 17:51:59 by Marko GrdiniÄ‡

"1:15am. Done with breakfast and chores. Let me chill for a bit. My mind feels like it is going haywire. I am in such a rush!

1:30pm. Let me start the review.

///

I spent the first 3 weeks of January doing the documentation for [Spiral](https://github.com/mrakgr/The-Spiral-Language). As far as docs go, these are lacking in thoroughness. Beginners to functional programming would be better served studying F# instead, there are lot of high quality learning resources for a mature language such as it, but I've covered all the main differences between Spiral and F#. They should be enough to pick up the language.

Just recently the Cython backend has been added to the language. Want all the benefits of functional programming, blazing fast performance, and the interop with the Python ecosystem? Give it a try now!

Ever since I started my programming journey, I've always had the idea in mind that GPUs will be superseeded by novel hardware for ML. A few years ago that was only a pipe dream, but things are moving. There are a lot of [startups](https://www.reddit.com/r/MachineLearning/comments/kzsokz/d_list_of_novel_ml_hardware_companies_january_2021/) in this field. What surprised me while doing research on them is that a quarter of the startups that support training seem to be [photonics](https://www.youtube.com/watch?v=eZSnJPDzyaI) companies.

I expected some companies to be working on neurochips, but literally none of them do.

To be honest, I am disappointed that I could not dig up any interesting material on these companies. I've been spamming the [neurochip talk by Davies](https://www.youtube.com/watch?v=jhQgElvtb1s) in these reviews. This talk really spurned my interest a year ago, but these newer entrants are uninspiring. A runner-up would be the talk by [Cornami](https://www.youtube.com/watch?v=_bNzxW90AEI). The talk is weird, as privacy in neural networks is one issue nobody actually cares about, and their solution is some kind of novel adaptible hardware which does sound interesting. Their product line hinges on quantum computers breaking currently used encription algorithms.

Adaptive hardware seems like the kind of flytrap made for me, but at this point I am honestly afraid of applying there. Intel as well, neurochips got me excited about their possibilities, but I already spent 2018 getting nowhere in ML and 2019 getting nowhere in math. And I spent 2017 working on Spiral, and 2020 studying concurrency and working on Spiral. In 2021, I am determined to get some tangible gains for myself in the form of hardware and cold, hard cash. So I do not want to grind away at speculative strategies anymore.

In the last month, many bugs fixes have been made and the language is significantly more roboust now. I have about 20 or so sponsor targets. If they would adopt Spiral, they could radically decrease the costs of their software stacks. These are all young companies, so the main purpose of Spiral - making ML libraries would be right up their alley. I thought a bit of how I would value the average sponsorship and I put it at 3k/month. This is high enough, but not high enough that they could fork the open-source language and pay somebody else to maintain it.

I am sure I could provide enough benefits to make access to their hardware and a monthly stipent worth it to all of them. This would be a huge monthly income for me if I could convince them.

1.5 weeks ago, I got pretty excited by these thoughts and took the direct approach, firing of an email to a few of these just to get a sense of things. The result is that I got no reply even today.

At first this confused me. In my future sight I saw myself getting ghosted by all 20 of the companies, and I wracked my brain and schemed how to avoid this. Eventually I started to get a handle on the situation.

Imagine you have 20 or so girls you are interested in. What these girls want is marriage, and what you want is access to their hardware instead. Going up to them and expressing that desire would be a show of will, but would not give the kind of result that you'd want.

These companies are the same. What they want is elite programmers, but not necessarily tooling improvements. In order to get some investment from them, I have to first get them to open up to conversation. For that I am going to have to feign interest in marriage and apply with them for a regular job despite having no intention of accepting their offers. Because why would I? Even getting just a few of them onboard would exceed any kind of salary I could get at a single place, and my primary goal is to become good enough at programming to the point where I am capable of transform my programming skill into superhuman abilities at [gaming](https://www.esportsearnings.com/). I can't imagine a programmer good enough to conquer the world would be too weak to beat this challenge.

I will need better hardware to move beyond simple games like poker, and I still have gotten anywhere with that.

I'll do what is needed. I'll embelish my resume, do my best at sweeping past my obvious lack of working-for-other-people experience and do my best at feigning selling myself, all for the sake of selling Spiral.

In addition to be above I also had another insight. My odds garnering sponsors, and hence my expected value from this activity is directly proportional to my fame. For the sake of raising my profile I had the idea revisiting my work from 2018 and describing it in articles. Back then I made my own language, and my own ML library from the ground up. The optimized kernels and RNNs are my best work from that time. I even used the library to do training of RL agents for a simplified poker game.

Though I burned out towards the end of 2019 for various reasons, the only real regret from that time is that .NET's GC could not deal with GPU memory. It is ironic - .NET is definitely a superior platform to Python's, but reference counting is just more versatile than heap scanning. Had I picked Python as a target, I would not have had this issue.

I started work on the Cython backend with those thoughts in mind, but now the way I see things has changed. It is not that I've changed my view on the benefits of reputation, but it would just be too harsh to spend months of my time building up the ML library just to push out a few articles on it.

Instead of spending my time working on a ML library, why don't I use what Python already has and just resume from where I was at the end of 2018? Now that I have the Cython backend, I actually have access to the entirety of Python's ecosystem with all the functional programming benefits of Spiral. I actually considered moving to Python in early 2019, but the thought of abandoning my style for an inferior one would be unbearable humiliation so I decided against it.

Now I could pick up Python through Spiral, without embarassment. If I need to implement optimized kernels, I can just make a Cuda backend again and access it through the Cython one. No doubt, the ML hardware companies will all want the Python ML crowd, and Spiral can serve as a bridge in ways no other language can. I am anticipating their need there by making the Cython backend.

By abandoning Spiral v0.09 at the end of 2018, I just lost so much initiative. It is not worth trying to recover that work. It is a real pity. v0.09 was fun and exciting, a real eye opener that showed me a completely different side of programming. I could do so much in it that I could not in F#. I fell in love with it. But ultimately, v2 is simply the better language. The year away from Spiral in 2019 served to get me over my burn out and admit what its faults were. I could admit that some of the techniques I discovered during that time are better off not being used. I was too arrogant to say that bottom-up typing is a replacement for the top-down.

My time from ML will serve the same way, to highlight to me the flaws of my earlier approach. This time around, just like I haven't improved on old Spiral directly, but instead fused it with top-down typing techniques, I won't try to replace backprop, but will instead just make it the bottom part of the whole system. At the top I'll use various ensembling techniques which are guaranteed to stabilize it and make it scale better.

This will be my main goal for 2021. It was actually what my 2016 goal was, but my position right now with the Spiral v2 being complete is incomparably better. My skills cannot be compared to back then. There should be some challenge in mastering UI automation. My attainment in that is non-existent at the moment.

If there is anything my years of life have taught me, it is that while you can count on the people around you to keep you alive, you can only count on yourself to attain wealth and power. Great deeds are one's personal accomplishment. So I won't place too much importance on selling Spiral.

I feel such relief that I do not have to start from scratch with the new Spiral. I'll restart climbing from the same height, if not the peak, that I left before.

///

1:45am. https://cython.readthedocs.io/en/latest/src/userguide/memoryviews.html#cython-arrays

It seems that Cython does have type arrays like the ones I need. I'll change from Numpy arrays to this later.

2pm. Ok, this distracted me. Let me find that photonics link.

2:30pm. I keep getting distracted with those issues.

https://stackoverflow.com/questions/65967020/why-is-the-logf-function-missing-from-libc-math?noredirect=1#comment116635696_65967020

Got the answer to this issue. It turns out the float functions aren't in the 29.x version yet.

Let me get back to the review. I'll change from numpy arrays to memory views later. Also I'll move to using doubles as well.

4:20pm. I think what I've written above is good enough.

Yeah, I do feel relief that I can get back into ML right away. That is what I will do.

Today though, let me put the last screws on the backend. Let me switch from Numpy arrays to memory views.

4:25pm. Let me focus on arrays first. I'll do the math functions after that.

```
v0 = cython.view.array(shape=(10,), itemsize=sizeof(int), format='i')
```

This is an interesting way of making an empty tuple.

4:50pm. https://stackoverflow.com/questions/18462785/what-is-the-recommended-way-of-allocating-memory-for-a-typed-memory-view

I am thinking of how to deal with these memory views.

5:25pm. Had to take a break. I think I'll just malloc them.

```
cdef view.array my_array = view.array(..., mode="fortran", allocate_buffer=False)
my_array.data = <char *> my_data_pointer

# define a function that can deallocate the data (if needed)
my_array.callback_free_data = free
```

This is so complicated.

I need to ask about one thing - does the memory view hold the reference to the object it is derived from?

Also how can I get the memory view to free up data on its own?

https://github.com/cython/cython/blob/master/Cython/Includes/cpython/array.pxd

Let me read this thing.

```
  array.pxd
  Cython interface to Python's array.array module.
  * 1D contiguous data view
  * tools for fast array creation, maximum C-speed and handiness
  * suitable as allround light weight auto-array within Cython code too
  Usage:
  >>> cimport array
  Usage through Cython buffer interface (Py2.3+):
    >>> def f(arg1, unsigned i, double dx)
    ...     array.array[double] a = arg1
    ...     a[i] += dx
  Fast C-level new_array(_zeros), resize_array, copy_array, Py_SIZE(obj),
  zero_array
    cdef array.array[double] k = array.copy(d)
    cdef array.array[double] n = array.array(d, Py_SIZE(d) * 2 )
    cdef array.array[double] m = array.zeros_like(FLOAT_TEMPLATE)
    array.resize(f, 200000)
  Zero overhead with naked data pointer views by union:
  _f, _d, _i, _c, _u, ...
  => Original C array speed + Python dynamic memory management
    cdef array.array a = inarray
    if
    a._d[2] += 0.66   # use as double array without extra casting
    float *subview = vector._f + 10  # starting from 10th element
    unsigned char *subview_buffer = vector._B + 4
  Suitable as lightweight arrays intra Cython without speed penalty.
  Replacement for C stack/malloc arrays; no trouble with refcounting,
  mem.leaks; seamless Python compatibility, buffer() optional
```

The trouble is that Cython files do not have any intellisense, so I am running blind here.

Where is `cython.pyx`?

5:55pm. I have no idea. Forget this. Until the questions I asked on the user group get answered, I can't touch them.

You know, maybe I could just regular python array and just force cast them if that is possible to hold whatever data type I want.

I have no idea. Forget this for now.

Let me fix the math functions.

6:30pm. Done with lunch.

```
cimport libc.math
cpdef float main():
    cdef float v0
    cdef float v1
    cdef float v2
    v0 = 1.000000
    v1 = libc.math.tanh(v0)
    v2 = libc.math.exp(v1)
    return libc.math.log(v2)
```

Works fine. Let me push another patch.

6:30pm. Memory views I'll leave for later. They are not that important for the time being.

6:35pm. Let me stop here for the day. It was pretty nice today.

Tomorrow I should start working on the resume, but I almost don't feel like doing that. I'll mix it up with studying Python in general. I should get PyTorch operational and take a look at the Deepmind game stuff. I remember looking into that in early 2019.

There is no need to rush. Unlike last time I won't be spending endless time on working on the language and the ML library, so my pace should be blisteringly fast.

I'll have a bit extra hassle working on my resume and applying at these companies, but I won't allow this to take up too much of my time.

I've been doing programming for a while now, so if it fine if I take some time to get other things in order. I'll have to make time to go to the bank as well.

6:45pm. Agh, what a hassle. Now that I decided what I want to do, all I want to do is program, but things are getting in my way.

I want the day to continue, and yet it must end here. I'll get that resume out of the way tomorrow, I swear."

---
## [aridoitsu/ashesoftheoldorder@cfbdf56861...](https://github.com/aridoitsu/ashesoftheoldorder/commit/cfbdf5686164ba6d2d68db636fc7a4aebe5072a3)
##### 2021-01-30 18:48:45 by Greenbueller

Supply Areas

The map is finally fucking almost ready damn I really wasted like two weeks of my life on this or something

---
## [Penn-Electric-Racing/m.css@915ffcbed5...](https://github.com/Penn-Electric-Racing/m.css/commit/915ffcbed545b9c38f55fac07f33ef04433863a8)
##### 2021-01-30 20:56:32 by VladimÃ­r VondruÅ¡

package/ci: go back to Pelican 4.2 until I find a fix.

OH GOD, one can't just leave a project alone for 6 months because every
damn thing just breaks, changes or gets removed. Kids these days, FFS.

Imagine if the standard of electrical outlets changed rapidly every two
weeks, you'd just have to constantly buy new fucking adapters and you
would HATE it. So why is it COMPLETELY FINE with software?!

---
## [mama805/.github@89962958dc...](https://github.com/mama805/.github/commit/89962958dc4581b6851cd5ebbab477af7d67bdfe)
##### 2021-01-30 21:31:34 by Jada Hernandez

Contributor Covenant Code of Conduct

Contributor Covenant Code of Conduct

Our Pledge

In the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, religion, or sexual identity and orientation.

Our Standards

Examples of behavior that contributes to creating a positive environment include:

Using welcoming and inclusive language
Being respectful of differing viewpoints and experiences
Gracefully accepting constructive criticism
Focusing on what is best for the community
Showing empathy towards other community members
Examples of unacceptable behavior by participants include:

The use of sexualized language or imagery and unwelcome sexual attention or advances
Trolling, insulting/derogatory comments, and personal or political attacks
Public or private harassment
Publishing others' private information, such as a physical or electronic address, without explicit permission
Other conduct which could reasonably be considered inappropriate in a professional setting
Our Responsibilities

Project maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior.

Project maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.

Scope

This Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.

Enforcement

Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at support@github.com. All complaints will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately.

Project maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.

Attribution

This Code of Conduct is adapted from the Contributor Covenant, version 1.4, available at https://www.contributor-covenant.org/version/1/4/code-of-conduct.html

For answers to common questions about this code of conduct, see https://www.contributor-covenant.org/faq

---

# [<](2021-01-29.md) 2021-01-30 [>](2021-01-31.md)

