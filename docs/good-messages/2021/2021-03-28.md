# [<](2021-03-27.md) 2021-03-28 [>](2021-03-29.md)

2,106,158 events, 1,219,930 push events, 1,682,586 commit messages, 97,163,794 characters


## [OdSazib/halcyon_kernel_sdm660@6f8acf4e6c...](https://github.com/OdSazib/halcyon_kernel_sdm660/commit/6f8acf4e6c9ef359fc0564463a8e2ca30e488045)
##### 2021-03-28 00:11:47 by Michal Hocko

proc: oom: drop bogus task_lock and mm check

Series "Handle oom bypass more gracefully", V5

The following 10 patches should put some order to very rare cases of mm
shared between processes and make the paths which bypass the oom killer
oom reapable and therefore much more reliable finally.  Even though mm
shared outside of thread group is rare (either vforked tasks for a short
period, use_mm by kernel threads or exotic thread model of
clone(CLONE_VM) without CLONE_SIGHAND) it is better to cover them.  Not
only it makes the current oom killer logic quite hard to follow and
reason about it can lead to weird corner cases.  E.g.  it is possible to
select an oom victim which shares the mm with unkillable process or
bypass the oom killer even when other processes sharing the mm are still
alive and other weird cases.

Patch 1 drops bogus task_lock and mm check from oom_{score_}adj_write.
This can be considered a bug fix with a low impact as nobody has noticed
for years.

Patch 2 drops sighand lock because it is not needed anymore as pointed
by Oleg.

Patch 3 is a clean up of oom_score_adj handling and a preparatory work
for later patches.

Patch 4 enforces oom_adj_score to be consistent between processes
sharing the mm to behave consistently with the regular thread groups.
This can be considered a user visible behavior change because one thread
group updating oom_score_adj will affect others which share the same mm
via clone(CLONE_VM).  I argue that this should be acceptable because we
already have the same behavior for threads in the same thread group and
sharing the mm without signal struct is just a different model of
threading.  This is probably the most controversial part of the series,
I would like to find some consensus here.  There were some suggestions
to hook some counter/oom_score_adj into the mm_struct but I feel that
this is not necessary right now and we can rely on proc handler +
oom_kill_process to DTRT.  I can be convinced otherwise but I strongly
think that whatever we do the userspace has to have a way to see the
current oom priority as consistently as possible.

Patch 5 makes sure that no vforked task is selected if it is sharing the
mm with oom unkillable task.

Patch 6 ensures that all user tasks sharing the mm are killed which in
turn makes sure that all oom victims are oom reapable.

Patch 7 guarantees that task_will_free_mem will always imply reapable
bypass of the oom killer.

Patch 8 is new in this version and it addresses an issue pointed out by
0-day OOM report where an oom victim was reaped several times.

Patch 9 puts an upper bound on how many times oom_reaper tries to reap a
task and hides it from the oom killer to move on when no progress can be
made.  This will give an upper bound to how long an oom_reapable task
can block the oom killer from selecting another victim if the oom_reaper
is not able to reap the victim.

Patch 10 tries to plug the (hopefully) last hole when we can still lock
up when the oom victim is shared with oom unkillable tasks (kthreads and
global init).  We just try to be best effort in that case and rather
fallback to kill something else than risk a lockup.

This patch (of 10):

Both oom_adj_write and oom_score_adj_write are using task_lock, check for
task->mm and fail if it is NULL.  This is not needed because the
oom_score_adj is per signal struct so we do not need mm at all.  The code
has been introduced by 3d5992d2ac7d ("oom: add per-mm oom disable count")
but we do not do per-mm oom disable since c9f01245b6a7 ("oom: remove
oom_disable_count").

The task->mm check is even not correct because the current thread might
have exited but the thread group might be still alive - e.g.  thread group
leader would lead that echo $VAL > /proc/pid/oom_score_adj would always
fail with EINVAL while /proc/pid/task/$other_tid/oom_score_adj would
succeed.  This is unexpected at best.

Remove the lock along with the check to fix the unexpected behavior and
also because there is not real need for the lock in the first place.

Link: http://lkml.kernel.org/r/1466426628-15074-2-git-send-email-mhocko@kernel.org
Signed-off-by: Michal Hocko <mhocko@suse.com>
Reviewed-by: Vladimir Davydov <vdavydov@virtuozzo.com>
Acked-by: Oleg Nesterov <oleg@redhat.com>
Cc: David Rientjes <rientjes@google.com>
Cc: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
Change-Id: Id5b29755e8dbc70fc104263e207bb54de5eeb6ee

---
## [0neGal/0neGal@40d71b3c97...](https://github.com/0neGal/0neGal/commit/40d71b3c975b7a351d32e76299d58acf6dd5c620)
##### 2021-03-28 00:15:00 by 0neGal

fuck it i hate using labels

it's annoying as fuck to remember and shit...

---
## [GreenBlitz/Infinite-Reee-2020@b21f042c30...](https://github.com/GreenBlitz/Infinite-Reee-2020/commit/b21f042c30543f0ca1a9371e7490597e6e9eeae1)
##### 2021-03-28 12:41:59 by GBSoftwareLaptop

Itgil (Azbel and Roy helped)- changed stuff to make things work + pid shooting. 1. Added numbers to flyWheelVel graphs to have a fucking clue what's going on in FullyAutoThreeStage, StageThreePID, ThreeStageShoot, ShootBySimplePid and ShootByConstant. 2. Changed TestButtons in OI to work. 3. Made Robot TeleopInit to reset dome and turret so robot does not break (very bad if do). 4. Changed Turret reset function ResetEncoderWhenInSide to work so it resets the turret when microSwitch is true. 5. Changed Shooter PID values again, works kinda good now. 6. Changed secondStick in OI to secondJoystick because for god sake I hate stupid people.

---
## [sevakmaheshr/pacman@a05f03eb33...](https://github.com/sevakmaheshr/pacman/commit/a05f03eb33380f380351c6838510c815b15703ee)
##### 2021-03-28 16:31:09 by Sevak Mahesh R S

a few changes to start with

here are some of my changes to @daleharvey's original pacman code.

the changes can be broadly classified as:
* make the first few levels very easy
* be generous in handing out lives to the user
* let the ghosts suffer
* let the score increase like crazy - everyone loves a high score
* later levels become super tough (very quickly ... so enjoy while the going is easy in the earlier levels). note that the tougher levels may cause frustration leading to the player breaking his/her computer - NOTE: this author is NOT responsible for such behavior on part of the user

all my changes are marked with "Mahesh" as far as I can remember. all changes have associated notes on why those changes were done.
NOTE: i am NOT a js developer, so if you find my code is NOT upto your standards ... well ... deal with it! :)

---
## [prompt10/Third-Practical-Midterm-Test@1c313c87b1...](https://github.com/prompt10/Third-Practical-Midterm-Test/commit/1c313c87b1e07931a0fe5f95439aa5f54d896eb8)
##### 2021-03-28 16:49:49 by LAPTOP-5K218H50\Supercom - 1

++I can't remember anything
++Can't tell if this is while(true) or (false)
++Deep down inside I feel the scream
++This terrible semicolon stops in me
++Now that the code is through with me
++I'm waking up, I cannot see
++That there is not much left of me
++Nothing is real but glitch now
++Hold my breath as I wish for ref
++Oh please, God, wake me
++Back to the room that's much too real
++In code' life that I must feel
++But can't look forward to reveal
++Look to the time when I'll code
++Fed through the grab' that comes to me
++Just like lead software engineer novelty
++Tied to machines that make me be
++Cut this **** off from me
++Hold my breath as I wish for ref
++Oh please, God, wake me
++Now the idea is gone, I'm just one
++Oh God, help me
++Hold my breath as I wish for ref
++Oh please, God, help me
++Statement, imprisoning me
++All that I see
++Absolute horror
++I cannot think
++I cannot type
++Trapped in myself
++Body my holding cell
++VStudio has taken my sight
++Taken my speech
++Taken my hearing
++Taken my arms
++Taken my legs
++Taken my soul
++Left me with life codin' hell

---
## [Oasis-SS13/Oasis-SS13@8205b15f51...](https://github.com/Oasis-SS13/Oasis-SS13/commit/8205b15f51ffdf73ba227214f9ca23d6b71239c1)
##### 2021-03-28 17:22:48 by Acensti

More Blackmarket TGUI updates. (#1072)

* More fucking Blackmarket TGUI fixes god i hate myself

title

* fix

morefix

---
## [MariaMod/Young-Maria@b5ece2db56...](https://github.com/MariaMod/Young-Maria/commit/b5ece2db5655a1acef533a303e32c34061c426d0)
##### 2021-03-28 19:44:10 by MilkyNail (MariaMod)

Add files via upload

- (by Middlewared) Now you will see a display of the comfort level of the main character in the wardrobe. It depends on the current underwear and your Corruption
- (by Middlewared, Rachael) Added reactions of relatives on your nudity
- (by Middlewared, Rachael) Added reactions (of relatives, other people) on your current clothes and erotic accessories
- (by Middlewared, me) Added new items: lacy bra, lacy panties, thong, crotchless panties. Already added, but not implemented yet (you won't see these items): handcuffs and yoke, chastity bra, chastity belt, nipple chain, corset
- Fixed pics in the scene where you are mating with Ralf in the room
- Fixed the detention gifs (female version)
- (by Rachael, me) Added a Cleaning sister's room scene. To see it, you must have 15 points of Corruption and your sister more than 30. There are vaginal and oral endings
- Changed colors for the main character's dialogue box. I hope it's more comfortable for the eyes now
- Improved the Cleaning brother's room and Brother is training scenes a bit
- Fixed style of sister's dialogue boxes here and there
- Put brother\sister paragraphs in a new order. Now brother scenes are on top of sister ones. Players won't notice any changes
- (by Rachael, me) Added three small scenes with sister: Sister exercising, Sister playing PS4, Sister reading a magazine
- (by Rachael, me) Added the ability to chat with sister (when she is exercising). All topics are similar to brother's chat paragraph
- A cosmetic change in the sibling schedule
- Fixed one huge bug. Now sister character displays correctly

---
## [NuttyTrains/NuttyTrains.github.io@df11632ec8...](https://github.com/NuttyTrains/NuttyTrains.github.io/commit/df11632ec89c289732d9bc3be87fa5618fe4d8d1)
##### 2021-03-28 20:41:15 by Matthew Lawrence

This is going to backfire horribly and make my life hell

---
## [geocrex/geocrex.github.io@bbfa7ff9af...](https://github.com/geocrex/geocrex.github.io/commit/bbfa7ff9afda771ad53123052ce8178bf901bf2c)
##### 2021-03-28 23:01:13 by geocrex

FUCKING FINALLY (TEXT ALIGN LEFT FINALLY WORKS UPDATE)

THIS HAS BEEN SUCH A BURDEN AND I'VE JUST FIGURED OUT THAT FOR WHATEVER REASON I NEED TWO SEPERATE DIVS JUST TO TEXT ALIGN LEFT AND NOT BREAK EVERYTHING ELSE I THOUGHT MY CODE FOR THIS PAGE WAS GENUINELY CURSED OR SOMETHING HTML IS DUMB

also i added six <br> at the bottom of the page too lol

also i added a newgrounds link in too at the same time in the same update too why not lol

also social media links moved to the top instead

also "---" replaced with just simply <br> now too

also nvm, removed the "<p>date format: day/month/year</p>" i think it's pretty obvious and easy to figure out actually.

this is genuinely a whole changelog woah

---

# [<](2021-03-27.md) 2021-03-28 [>](2021-03-29.md)

