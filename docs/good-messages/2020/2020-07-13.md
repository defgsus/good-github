# [<](2020-07-12.md) 2020-07-13 [>](2020-07-14.md)

2,331,783 events, 1,132,796 push events, 1,815,640 commit messages, 136,089,955 characters


## [apollographql/apollo-client](https://github.com/apollographql/apollo-client)@[eb252b2480...](https://github.com/apollographql/apollo-client/commit/eb252b248041736d93f4f057c80a751b392ec5fd)
#### Monday 2020-07-13 01:19:03 by Ben Newman

Simulate loading result for original query before fetchMore.

Should fix #6354, #6542, #6534, and #6459.

Reliable delivery of loading results is one of the core benefits that
Apollo Client strives to provide, especially since handling loading states
tends to be such an annoying, error-prone task in hand-written state
management code, and Apollo Client is all about keeping hand-written state
management code to a minimum.

Ever since I refactored the FetchPolicy system in #6221, the fetchMore
method of ObservableQuery has not been delivering a loading state before
sending its request. Instead, the observed query was updated only once,
after the completion of the fetchMore network request. I've been aware of
this problem for a while now, but I procrastinated solving it because I
knew it would be, well, annoying. With the final release of AC3 right
around the corner (Tuesday!), the time has come to get this right.

This loading result doesn't fit neatly into the fetchQueryObservable
system introduced by #6221, since the consumer of the loading result is
the original ObservableQuery, but the network request gets made with a
fresh query ID, using different variables (and possibly even a different
query) passed to fetchMore. This separation is important so that we don't
have to change the query/variables/options of the original ObservableQuery
for the duration of the fetchMore request. Instead, the fetchMore request
is a one-off, independent request that effectively bypasses the usual
FetchPolicy system (technically, it always uses the no-cache FetchPolicy).

In Apollo Client 2.x (and before #6221 was released in beta.46), this
logic was guided by an extra fetchMoreForQueryId parameter passed to
QueryManager#fetchQuery, which ended up appearing in a number (16) of
different places, across three different methods of the QueryManager. I
think it's an improvement that the logic is now confined to one block of
code in ObservableQuery#fetchMore, which seems naturally responsible for
any fetchMore-related logic.

Still, I don't love the precedent that this simulated loading state sets,
so I hope we can avoid similar hacks in the future.

---
## [DataBiosphere/azul](https://github.com/DataBiosphere/azul)@[31845d6a9d...](https://github.com/DataBiosphere/azul/commit/31845d6a9d5ef9b1b36041b938820fcf15cb6d76)
#### Monday 2020-07-13 01:55:38 by Hannes Schmidt

Fix: `unqualified_resource_name` hard-codes resource prefix (#1936, PR #1999)

I was dreamin' when I wrote this
Forgive me if it goes astray
But when I woke up this mornin'
Could've sworn it was judgment day
The sky was all purple
There were people runnin' everywhere
Tryin' to run from the destruction
You know I didn't even care
Say say
Two-thousand-zero-zero party over
Oops out of time
So tonight I'm gonna party like it's 1999
War is all around us, my mind says prepare to fight
So if I gotta die I'm gonna listen to my body tonight
Yeah
They say two-thousand-zero-zero party over
Oops out of time
So tonight I'm gonna party like it's 1999
Yeah, Yeah
Lemme tell ya something
If you didn't come to party
Don't bother knockin' on my door
I got a lion in my pocket
And baby he's ready to roar
Yeah, yeah
Everybody's got a bomb
We could all die any day…

---
## [tjf801/math-tools](https://github.com/tjf801/math-tools)@[8e4c89eb5d...](https://github.com/tjf801/math-tools/commit/8e4c89eb5dac9809628437ba1d6eee8309e7a876)
#### Monday 2020-07-13 02:26:53 by tjf801

typing hell + eigenvectors

oh my god i will need to completely refactor all of this typing shit or jusst do it in c++ goddamnit

oh well seems like a future me problem

---
## [MicroSource/uSource](https://github.com/MicroSource/uSource)@[acb5f81044...](https://github.com/MicroSource/uSource/commit/acb5f81044fbc6bf0ea0c7b8bdca3bfe60112b48)
#### Monday 2020-07-13 04:37:08 by Jeremy Lorelli

Revert "Update vector types"
Fuck you asshole
This reverts commit b1f457a75401301df5eb88a67dc60f3ebdcbe2b5.

---
## [TuckTuckFloof/qmk_firmware](https://github.com/TuckTuckFloof/qmk_firmware)@[fafa50da3e...](https://github.com/TuckTuckFloof/qmk_firmware/commit/fafa50da3ec4a1bebe65f152306b673da90a8e22)
#### Monday 2020-07-13 06:35:58 by floof

Jesus christ, how many files did I forget about in this shit? Holy fuck

---
## [wincent/liferay-portal](https://github.com/wincent/liferay-portal)@[cafcce9f5f...](https://github.com/wincent/liferay-portal/commit/cafcce9f5f75ffaa247d04a06efc833080db7c4a)
#### Monday 2020-07-13 13:40:58 by Greg Hurrell

LPS-116988 Update react-dnd to v11.1.1

Matches the upgrade that we prepared for the Commerce folks on 7.1.x:

- https://github.com/wincent/liferay-portal-ee/pull/9
- https://github.com/wincent/liferay-portal-ee/pull/10

What's going on here:

-  Bump version numbers from 10.0.1 to 11.1.1; there are later versions
   out now, but they bring nothing of value and given that we've seen
   11.1.1 working on 7.1.x, I want to stay in line with that.

-  Adjust `HTML5Backend` imports; this is the breaking change in the v10
   to v11 update: previously it was a default export but now it is a
   named export.

-  Configure `frontend-js-react-web` to get `domain` from
   `frontend-js-node-shims`; this is because `domain` is `require()`-ed
   here, which would cause the loader to throw an error:

   https://github.com/react-dnd/asap/blob/b6bebeb7342/src/node/raw.ts#L87

-  Configure `frontend-js-react-web` to get `process` from
   `frontend-js-node-shims`; this is because — the horror —
   `@react-dnd/asap` expects it to be a global:

   https://github.com/react-dnd/asap/blob/b6bebeb7342/src/node/asap.ts#L24

   We set up this global in the index of `frontend-js-react-web`, to be
   sure that it is set by any client that may conceivably need it.

   If we don't do this, drag-and-drop works fine, but when you try to
   navigate away from a page, we hit the above line and an error is
   thrown, breaking the transition and spewing out a bunch of red crap
   into the console.

-  Note that only `frontend-js-react-web` needs these imports
   configured. Other modules that use `react-dnd` get it from
   `frontend-js-react-web` and don't need to meddle with the transitive
   dependencies themselves; at least, in my testing of a couple of
   places (`segments-web` and `layout-content-page-editor-web`) I didn't
   see any loader errors.

-  Drop forced resolution of `dnd-core`. Previously, we were doing that
   in order to avoid running into all the above problems with `domain`
   and friends. By using an older version of `dnd-core`, we avoided the
   problematic `@react-dnd/asap` fork of the `asap` package, which came
   into react-dnd in v10.0.2:

   https://github.com/react-dnd/react-dnd/commit/ada65550b75

   We can no longer use this resolution because resolutions are a very
   limited tool: they allow us to control what gets installed at build
   time but they do not influence what happens at runtime. In other
   words, if a package like `dnd-core` has a dependency with a range
   like "^3.0.0", and we want to pin to version "3.0.1" or something
   else compatible, then resolutions work well. But as soon as the range
   changes to "^4.0.0" we can no longer useful pin to "3.0.1", even if
   we know it to be compatible: Yarn will install the version we
   require, but at runtime the loader will blow up because the
   dependency graph says that `dnd-core` wants "^4.0.0" and we won't
   have it due to the resolution.

One thought: it would be nice if we could force the various pieces of
our module loading system (bundler, loader, registry) to work with
react-dnd without these hacks, but that is probably beyond the scope of
this task. If you look at their package.json, you can see how they've
tried to make it work via `"main"` and `"browser"` fields, but I'm not
even sure they're doing it right...

https://github.com/react-dnd/asap/blob/b6bebeb7342/package.json#L15-L26

Test plan: Test drag and drop in two apps (`segments-web` and
`layout-content-page-editor-web`); see it working with no errors in
console. Run all JS unit tests in repo.

---
## [clawgrip/mame](https://github.com/clawgrip/mame)@[72130640be...](https://github.com/clawgrip/mame/commit/72130640be484376f779b0012ea056307c8485d6)
#### Monday 2020-07-13 14:11:08 by ClawGrip

Software list items promoted to working (vsmilem_cart.xml)

---------------------------------------
Action Mania (USA, Rev. 4?), Action Mania (USA, Rev. 6?), Action Mania (USA), Sport Games (Netherlands), Sportskanone (Germany), Sporti'Folies (France), Action Mania (Spain), Disney/Pixar Cars - Vollgas in Radiator Springs (Germany), Disney/Pixar Cars - Quatre Roues (France), Disney/Pixar Cars - Acelera el Motor en Radiador Springs (Spain), Disney/Pixar Cars 2 (Germany), Disney/Pixar Cars 2 (France), Disneys Princess Cinderella - Lernen im Marchenland (Germany, Rev. 2?), Disneys Princess Cinderella - Lernen im Marchenland (Germany), Walt Disney Cendrillon - Le reve enchante de Cendrillon (France), Nickelodeon Dora the Explorer - Dora's Fix It Adventure (USA, Rev. 3?), Nick Jr Dora - Dora's Reparatie Avontuur (Netherlands), Nick Dora - Doras Reparatur-Abenteuer (Germany), Nick Dora - Doras Reparatur-Abenteuer (Germany, Rev. 2), Nickelodeon Dora L'Exploratrice - Les adventures de Dora Apprentie Mecano (France), Le Monde de Nemo - Nemo a la decourverte de l'ocean (France), Disney Handy Manny (USA, Rev. 2?), Disney Meister Manny's Werkzeugkiste (Germany), Disney Manny et ses outils (France), DreamWorks Kung Fu Panda - Der Weg des Panda (Germany), DreamWorks Kung Fu Panda - La mission de Po (France), Disney's Little Einsteins (USA, Rev. 5?), Disney's Little Einsteins (USA, Rev. 2?), Disney's Kleine Einsteins (Germany, Rev. 2?), Disney's Kleine Einsteins (Germany), Disney Mickey Mouse Clubhouse (USA), Disney Micky Maus Wunderhaus (Germany), Disney La Maison de Mickey (France, Rev. 005), Disney La Casa de Mickey Mouse (Spain), DreamWorks Monsters vs. Aliens (USA, Rev. 3?), DreamWorks Monsters vs. Aliens (Germany), DreamWorks Monstres contre Aliens (France), DreamWorks Monstruos contra Alienigenas (Spain), Mijn Puppy! (Netherlands), Mein erster Hund (Germany), Mon Youtou tout fou! (France), NASCAR Academy - Race Car Superstar (USA), Nickelodeon Ni Hao Kai Lan - Happy Chinese New Year! (USA), Nickelodeon Ni Hao Kai Lan - Joyeux Nouvel an chinois! (France), Oui-Oui - Detective d'un Jour (France), Disney Winnie L'ourson - La Chasse au miel de Winnie (France), Disney Winnie the Pooh - En busca de la miel (Spain), Disney Princess - The Princess and the Frog - Tiana's Big Dream (UK), Disney Princess - Disney Kuss den Frosch - Tianas grosser Traum (Germany), Disney Princess - Disney La Princesse Et La Grenouille - Le grand reve de Tiana (France), Scooby-Doo! - Panique a Funland (France), Scooby-Doo!! - Misterio en el parque (Spain), Soccer Challenge (USA), Fussball Meisterschaft (Germany), Football Challenge (France), Marvel Spider-Man & Friends - Secret Missions (USA), Marvel Spider-Man & Freunde - Geheime Missionen (Germany), Marvel Spider-Man & ses amis - Missions Secretes (France), Nickelodeon Spongebob Schwammkopf - Der Tag des Schwamms (Germany), Thomas - Freunde halten zusammen (Germany), TinkerBell (USA, Rev. 2?), TinkerBell (Germany), La fee Clochette (France), Disney/Pixar Toy Story 3 (USA), Disney/Pixar Toy Story 3 (Germany), Disney/Pixar Toy Story 3 (France), Disney/Pixar Toy Story 3 (Spain), Disney/Pixar La-Haut (France), Disney/Pixar UP (Spain), Disney/Pixar Wall-E (USA, Rev. 2?), Disney/Pixar Wall-E (Germany), Disney/Pixar Wall-E (France), Disney/Pixar Wall-E (Spain), Martin Le Dauphin (France), Wintersport (Germany), Nickelodeon Wonder Pets! - Save the Animals! (UK) [Ryan Holtz]

* Fixed some game names / years / parent-clone relationships (nw)

---
## [SeaPeaMe/Rander](https://github.com/SeaPeaMe/Rander)@[471a59a7ab...](https://github.com/SeaPeaMe/Rander/commit/471a59a7ab8c02b8b3c443bf5fa774557726eb5b)
#### Monday 2020-07-13 14:40:02 by SeaPeaMe

Pivots and Buttons!

I FINALLY managed to get some trig work done, and so here's what I did since the last commit (I think)

- Functioning button system (Now works with rotated buttons)
- Text components now align correctly
     - I still have to make the auto-size functionality

Honestly, I think that's all I've done, but holy shit the trigonometry I had to do for those GODDAMN BUTTONS. Just have a look for yourself in "Rander/2D/2DComponents/Button2DComponent.cs" under Update, I had to make all those equations and my god did it take long!

---
## [Huawei-Dev/android_kernel_huawei_btv](https://github.com/Huawei-Dev/android_kernel_huawei_btv)@[2b2d6e92ef...](https://github.com/Huawei-Dev/android_kernel_huawei_btv/commit/2b2d6e92effa0d50aed6493b29f1719e4c3bcb6b)
#### Monday 2020-07-13 16:53:54 by Marc Zyngier

arm64: KVM: Fix host crash when injecting a fault into a 32bit guest

When injecting a fault into a misbehaving 32bit guest, it seems
rather idiotic to also inject a 64bit fault that is only going
to corrupt the guest state. This leads to a situation where we
perform an illegal exception return at EL2 causing the host
to crash instead of killing the guest.

Just fix the stupid bug that has been there from day 1.

Cc: <stable@vger.kernel.org>
Reported-by: Russell King <rmk+kernel@arm.linux.org.uk>
Tested-by: Russell King <rmk+kernel@arm.linux.org.uk>
Signed-off-by: Marc Zyngier <marc.zyngier@arm.com>
Signed-off-by: Will Deacon <will.deacon@arm.com>

---
## [judgex/desertrose](https://github.com/judgex/desertrose)@[ce307a2ab6...](https://github.com/judgex/desertrose/commit/ce307a2ab65173436d4c3eff9147c92cd0c1db02)
#### Monday 2020-07-13 17:27:10 by goodolrusty

The "I will not touch things I'm not supposed to" hotfix (#500)

* NCR Sprite Bugfix

Fixes the issue with the NCR exile armor not having the correct sprite. Change Log: Corrects the file path to the right one for NCR exile armor (hotfix)

* Bin reduction update

First update to reduce bins from 30 to 6 held items.  This is the first pass-through.

* Baseball bat recipe readded

Not sure why this got deleted, readded

* Storage containers tweak v1

Adds additional logic to restore them to larger sizes.

* St Jeromes Update

Update

* The unfuck yourself commit

Fixes all the broken recipes where it was required to have a forge.

Adds in crafting for sledgehammers, and throwing knives

Add a forge to the legion camp.

* I will not touch things hotfix

Minor hotfix.

---
## [petre-symfony/modern-react-continuation-udemy](https://github.com/petre-symfony/modern-react-continuation-udemy)@[6df11115a6...](https://github.com/petre-symfony/modern-react-continuation-udemy/commit/6df11115a6d023290cb76d07814d35ea41872b45)
#### Monday 2020-07-13 17:45:31 by petrero

381. The Context Provider(Section 27: The Context System with React)

In the last couple of videos we got some information out of our context object and into our button and

field components.

The only problem right now is that the value inside of our context object is fixed and unchanging.

We can't change that context object value because we initialized it by using a default value the default

value is as you would guess the default value if we want to change the value inside of our Context object.

We have to create a component that is going to act as a source of information for us.

That is the app component.

Our app component knows what the currently selected language is because remember we set up all that

state stuff inside of the app component.

So we now want to communicate some information from the app component into the Context object to do

so.

We're going to create something called the provider component.

This provider thing is not the same provider that we made use of.

Back with back with the re-act redux library remember with reaction redux we had that provider component.

This is a totally different provider.

They just happen to share the same name.

So we're going to use this provider component to update the value inside of our Context object.

I would love to show you a bunch of diagrams to tell you how that is done.

But honestly it's going to be easiest to just write out some code first and then take a look at a couple

of diagrams.

So I'm going to flip on over to my code editor and we're going to write out some code inside of our

app component to take the currently selected language and communicate it down to our context object.

So to do so at the top of this file I'm going to import our language context object from up one directory

contex language context like so then I'm going to find the components or the set of GSX inside of my

render method that need to get some information out of my context object.

In our case the render method has user creates remember user create inside of it shows the button and

the field.

So it's really user create that needs to know some information out of that context object.

So I'm going to wrap user create right here with language context dot provider like so.

All right now I know that looks a little bit weird.

Let's just write out a little bit more code here.

When we render language context not provider we're going to assign a value prop.

Now this is a very special property name.

I did not just make this up off the top of my head as we do with many proper names the proper name of

value is very special to a provider.

So to the value language to pass the value that I want to put inside of my context object.

So this is where I want to communicate some information from my app component and get that value into

the Context object.

In our case the information that we want to communicate from app to the Context object is our state

language property.

This right here.

That is the information that I want to get into my Context object.

So anytime that I change that state language property I want to take that new value and push it into

the provider.

So to do so I'm going to find value right there and then I will assign it this dot state DOT language.

Like so

OK.

So we're going to look at some diagrams to explain exactly what's going on right here.

But first let's flip over to our browser and test this out very quickly.

So back inside my browser I'll do a hard refresh and then I'm going to find the language selector up

at the top and I'll click on the other flag.

And when I do so I should see that new text appear.

And then I built to click on the English flag again or the American flag again and see the English text

appear.

And so now I can freely toggle between the two translations for my form.

So clearly making use of this provider thing got some information or new information into our component.

But of course now let's take a look at a couple of diagrams and figure out what's really going on here.

Actually you know I'll tell you what.

First let's take a quick break and then we'll take a look at a couple diagrams to figure out what exactly

the provider is doing.

---
## [petre-symfony/modern-react-continuation-udemy](https://github.com/petre-symfony/modern-react-continuation-udemy)@[0d42408fd4...](https://github.com/petre-symfony/modern-react-continuation-udemy/commit/0d42408fd42443186db2ef4844c76cd535eaffe1)
#### Monday 2020-07-13 17:45:31 by petrero

377. A Touch More Setup(Section 27: The Context System with React)

In this video we're going to put together our user create component the field component and the button

component as well.

So three components in total this should be pretty quick to put together.

Let's get to it.

I'm going to flip back over to my code editor and inside my company's directory I'm going to make a

new file inside the component folder of user create Duchess.

I will make a new file of field dot us and finally button dot J.S. as well.

So three files in total and then going to make sure I have user create open and inside the thing we'll

put together some quick Riak component.

We're going to make this a functional component so I will import re-act from react at the top I will

import field from the field file and I will import button from the button file.

I'll then make a functional component called user create an inside of this thing.

I'm going to return a div that shows field and button like zone and then finally at the bottom of the

file I will export default user creates OK.

That's file number one.

So I'm going to save this and close it out and then I'll open up my field component next.

So the field component is going to be pretty straightforward but it's going to be a class based component

at the top I will import re-act from react.

I will then make my class field that's going to extend re-act component well-defined my render method.

And right now I'm going to have it return a div with the class name of UI field inside there I'll have

a label and for it now will give it the text.

How about name will just hard code that in right now and then I'll have a text input.

And then finally at the bottom I will export default fields OK.

That's it for the field component.

And now onto the last one are button component.

So here's the button dodgiest file at the top I will import re-act from react.

I will define class Button that extends re-act component.

Here's my render method and I'll have it return a div

excuse me not not a div in this case you want a simple button here with the class name of UI primary

and I go into hard code in Samit right now as well.

Then finally at the bottom we will do our export default button.

All right.

I think the last thing to do is make sure that we import our user create component into our app and

show it on the screen.

So inside of outtalk Yes I'm going to import user create from user create and then I will show that

inside my render method in place of the state language print out at the bottom.

So there's my user create the.

All right.

Let's save all these different files.

We've now created and changed all flip back over to my application and I should see my form appear like

so now the styling doesn't look too great here.

I think that we probably missed one little class name inside of user creates genius.

I have a div right here on that div I'm going to add on a class name of your life form like so.

And now if I flip back over Yeah that looks a little bit better.

Last thing is the button itself.

Let's make sure we open up the button.

JSM file.

We got a class name of primary on there.

My apologies for that I was going by memory.

It should be a UI button primary inside of the button component.

Now if I saved that as well.

We got much better.

OK.

So we've now got our entire kind of markup side of the application put together.

But of course we don't have any actual functionality around the language selector at the top.

So let's take a quick pause right here.

When we come back in the next section we'll talk about how we're going to wire up all this context stuff.

---
## [petre-symfony/modern-react-continuation-udemy](https://github.com/petre-symfony/modern-react-continuation-udemy)@[ac48e8eaba...](https://github.com/petre-symfony/modern-react-continuation-udemy/commit/ac48e8eaba6615c397381c49abec67905102e0ba)
#### Monday 2020-07-13 17:45:31 by petrero

380. Consuming the Context Value(Section 27: The Context System with React)

In the last video we made use of a context object to set up a default value and get that into some nested

child component.

At present we are just console logging out the context value.

Now one thing I want to mention right now is that if you click on these different flag icons up here

you're not going to see the language change however you will see a console log out over here always

of English which is kind of interesting.

So why is that.

Well the answer right now is pretty simple.

If we open up our app component remember that any time that we click on a flag we call on language change

which in turn is going to invoke this dot set state.

Remember that any time that we change the state of a component that component is going to re render

along with all of the components that are shown underneath it.

So at present any time we click on a flag we call set States Asprey renderers.

That is going to cause user create to re render and in turn the user create component is going to cause

our button component to re render as well which results in a console lock.

However the console log is always referencing the this stock contex property.

And at present we do not have any way to change that context value inside the context object because

we wired up a default value when we created the context object.

So at present the value inside the context object is always going to be the string English.

And we do not currently have a way to fix it.

OK so now that brings us up to speed.

So now I want to do a little bit more work on our button dodgiest file.

I'm going to remove the console log right here and then we're going to add in just a little bit of logic

to this thing to change out the value inside of the text or the button itself based upon the current

context value.

So you're going to say Konst checks is going to be this context equals equals equals English.

So if this context is equal to the string English then I want to assign to the value or kimmey to the

variable text the word submit.

Otherwise I want to assign the Dutch word for submit which is I do not remember it off the top of my

head.

Vore leggin

OK so that right there is a Turnier expression which we've used several times throughout this course.

So if the context value holds a string English we're going to say that Textus submit otherwise it will

be for leggin.

So now inside my button tag I'm going to remove that I'll put down some curly braces and I'll reference

text like so OK.

So now our button component should update itself appropriately when ever the value inside the context

object changes.

Let's now open up our field component and do the same thing once we have both the button and the field

wired up appropriately.

We will then figure out how to change the value inside that context object.

So inside my components directory I will open up the fields file and inside of here we're going to go

through the same process that we just went through inside of button at the top.

I will import my language context from dot dot slash contex language context.

Then inside of my class I'll say static context type is language context like so.

So remember this step right here is what forms a link between our class

and the context object.

So now we can reference the value inside the context object with this context from inside of our component.

So we'll now do the same thing that we did just a moment ago inside of button inside the render method.

I will say Konst text equals this context equals equals equals English.

So if context is equal to the string English then I want to have a string name.

Otherwise I want the Dutch word for name which I need to look up again.

It is numb or however it is you pronounce that.

I apologize again Dutch speakers for butchering that word.

All right so now inside of our label rather than always printing out name I will instead printout text

inside of curly braces like so.

All right.

So let's now do a quick test.

I'm going to open up the language context.

Yes file.

And I went to change the default value inside of our context object.

So instead of English I'll say Dutch like so.

Now if I flip back over to my browser I should see Nahm for the label and for leggin for the button.

Cool.

Right now I'm going to change it back to a default of English save it and then I should go back to seeing

name and submit like so.

OK.

So this looks pretty good.

It's now the last thing we have to do is figure out how to change the value inside the context object.

At present we've only learned about using a default value which is only going to set the value inside

of context one time when the context object is first created.

So let's take a quick pause right here and we'll figure out how we can change the value inside that

context object inside the next video.

---
## [petre-symfony/modern-react-continuation-udemy](https://github.com/petre-symfony/modern-react-continuation-udemy)@[3c41b7a80d...](https://github.com/petre-symfony/modern-react-continuation-udemy/commit/3c41b7a80dbde0b063616aa6c2d50a1a7c6e12e4)
#### Monday 2020-07-13 17:45:31 by petrero

384.1. Pulling From Multiple Contexts(Section 27: The Context System with React)

In the last video we saw the usage of the consumer component to get information out of a Context object.

So remember that is the second way that we can use to get information out of context.

Now the most obvious question about the consumer is why would we use this as opposed to just using this

context which looked a little bit more straightforward.

Well the answer is that we will make use of consumer any time that we want to get information out of

multiple different context objects inside of a single component using this context in conjunction with

that context type property is only used any time we are accessing a single context object inside a component.

So let's think up an example where we might have multiple different contexts objects so we want to get

information from inside of our buttons.

JS file here's my idea.

I think that we should create a second context object called Color context and this will have a value

of a string read if the value is read.

Then we're going to want to have our button style itself as a red button as opposed to the default blue

that it is right now.

So that means that we're going to need to set up a second Context object.

We will set up a second provider and then we'll try to access the second context object inside of the

bun.

And that's going to be in addition to the current language context that we are already accessing inside

there.

So this will be an example where we are trying to access multiple different contexts objects because

we are accessing multiple different contexts objects.

We will have to use the consumer for both of them.

We cannot use this context in this case so let's try this out.

I'm going to flip back over to my code editor and inside my contex directory.

I will make a new file a file called Color context.

Yes.

So inside of year we are going to create a new context object and export it.

So I will import re-act from react and then I will export default re-act not create context like so

now you do not always have to assign a default value if you want to.

You can here by passing it as an argument to create context.

So in this case we might want a default value of like red or something like that.

But just to be clear we are going to set up that provider that's going to stuff a value into the Context

object anyways.

So we don't have to really provide a default value here because we're going to get a value into it by

using that provider.

OK.

So there's our color context.

---
## [petre-symfony/modern-react-continuation-udemy](https://github.com/petre-symfony/modern-react-continuation-udemy)@[20ef4e2fbe...](https://github.com/petre-symfony/modern-react-continuation-udemy/commit/20ef4e2fbeb75b400326c238c1d751df36d646a2)
#### Monday 2020-07-13 17:45:31 by petrero

384.3. Pulling From Multiple Contexts(Section 27: The Context System with React)

Now here's the part that gets a little bit nasty.

Remember the only child that we passed to a consumer component is going to be a function.

So we now need to pass a function as the only child to this consumer and that function is going to receive

the current value inside of it.

In this case read and then from that function we're going to have to return this entire block of GSX

right here.

So it's going to be a little bit nasty syntax but we can figure it out.

So I'm going to add in a child here that the set of curly braces.

This is going to be a function I'm going to give myself a little bit of space.

And I'm going to cut and paste the button and everything inside of it into that function like so.

So now this function will be called with whatever value is inside of our color context object I could

refer to that argument as value.

But you'll notice we already have a variable inside if you're of value as well.

So just to be a little bit more clear I would probably call this something like color because that's

what we are really receiving here receiving the color that we're supposed to use for our button.

So now I'm going to use a little bit of yes 20:15 syntax to get that color into the class name string

right there.

So I'm going to wrap the thing with curly braces.

I'll then put in a set of tactics around the string and then I will replace primary with Dollar Sign

curly braces color like so.

So we're now taking whatever string is inside of our color context and using it as a class name for

our button.

Let's now save this and see what happens.

So I can refresh the application and I see that I get a button of Samit or a red button right there

and I can still click on the different flags and see the translation as well.

If I go back over to the outtalk J.S. file I can change the value of red right there over to primary

and I will see the button go back over to being blue like it was before.

So you can imagine that if we had like some type of color selector here in addition to the language

selector we could very easily hook up that color selector to our component state and of the Epcot J

s component and have that state property decide either to show the text primary or red or whatever we

need to show.

OK.

So that's pretty much it.

That is how we consume multiple different contexts inside of a single component.

Now as you can see the syntax here is a little bit nasty because we are essentially stacking up these

different consumers and each one needs to have as the only argument a function.

And so like I said yeah gets kind of nasty.

---
## [petre-symfony/modern-react-continuation-udemy](https://github.com/petre-symfony/modern-react-continuation-udemy)@[1573ce6a0d...](https://github.com/petre-symfony/modern-react-continuation-udemy/commit/1573ce6a0d7f6680c461b20ba5c1556077d5248a)
#### Monday 2020-07-13 17:45:31 by petrero

386. Creating a Store Component 387. Implementing a Language Store(Section 28: Replacing Redux with Context)

In the last video we started talking about how we could replace redux with the contact system.

Now in general I do not recommend you always try to replace redux with context.

There are still tremendously good reasons to use redux inside of any non-trivial application.

And I will lay out some of those reasons later on inside the series of videos.

I'm only showing you how to make use of context in place of redux because this is kind of a really popular

topic in the community right now.

But again I do not personally recommend you do this.

All right.

So if you want to replace redux with the context system here are some of the big ticket items that we

will need to think about.

First off if we want to use context we'll need to have some way to deliver information to any arbitrary

component inside of our component hierarchy.

Now this box is in green right here because that is pretty much a solved problem.

This is what the context system is all about the context system is about sharing information with any

arbitrary component.

So this is not an issue when using contex.

One of the bigger issues is how we're going to be able to separate our view logic from business logic

when using context.

If you take a look at the AT-AT J.S. file right now this is a component that is very much Mitt Mixing

business logic with the logic.

We've got a single component that maintains the currently selected language.

And I would kind of argue this is somewhat like business logic inside the context of our application.

That component also has some display logic or logic in here as well it renders out a div at some given

class name and it renders out some child components as well.

So at present the outtalk G-S file is mixing view logic with business logic and ideally we would separate

those two types of code into different files.

Ideally In addition once we split out that business logic to some different file we need some way to

break that down into separate individual files.

This is really easy to do with redux remember with redox we create a separate file for each reducer

and we could easily do the same thing for our action creators as well.

So it's redux.

Both these problems are right here not an issue whatsoever.

So we need to think of some way to solve these issues using the context system.

All right so in the next diagram I'm going to show you one way of solving both these problems right

here.

This is not necessarily the best way of doing this or even the only way of doing it.

This is just one possible approach in which we might use the context system in place of redux.

All right so here's one way of doing this.

So my idea would be to extract all the business logic from the component and place it inside of a new

component called the language store the language store would essentially contain all of our business

logic related to the currently selected language.

It would also implement a provider so that it can share that information with different child components.

We would only create one language store component for our entire application so there would be essentially

a single source of truth about what the currently selected language is.

The language store would not only contain the currently selected language.

It would also implement a callback and make that callback available to any of our given components so

that any given opponent can change the currently selected language.

Zele see in this case we've got maybe a callback called like on language change so we would put that

function inside of our context object as well so that the language selector could access that callback

function and change the currently selected language non-language store itself will be a component it's

going to have a render method.

So you could say hey wait this thing is still dealing with some view logic but the render method inside

of here is going to be essentially just the provider by itself and no other elements are going to be

displayed inside of it.

If the language store is just about recording what the currently selected language is not giving us

the ability to change it.

All right.

So let's take a pause right here.

When we come back the next video will start implementing this language store component and we'll see

how this is going to isolate and remove our business logic from the app.

J.S. component so quick pause and I'll see you in just a moment.

387. Implementing a Language Store

In the last video we started talking about how we were going to create a language store component the

language store is going to contain all of our business logic and our data and make it available to other

components inside of our component hierarchy over the context system.

So in this video we're going to start to create this language store component.

We're going to go a little bit light on the description of exactly what's happening because I think

everything's going to be a lot more clear once you see the completed example.

So let's get to it.

I'm going to open up my code editor and I'll find the language context.

Yes file.

So inside of here we're going to continue to create this context object and export it.

But in addition we are also going to create this language store component.

So inside of language context.

I'm going to first remove the export default statement right there and I'm going to instead assign it

to a variable called context like so.

Now notice that this is defined with a capital C that is very important.

Please make sure that you use a capital C as well.

And then after that I'm going to declare a new class based component called language store and that's

going to extend re-act component so inside of this class right here we're going to set up some state

property that's going to maintain the currently selected language.

We're also going to implement a callback function inside there that gives other components the ability

to change that currently selected language so inside of language store I'm going to set up my state

object and I'm going to say language is by default English.

And then after that I'm going to implement a callback function that we can pass off to other components

so they can change the state property.

So I'll say on language change this is going to be a callback function.

So I'm not going to define it as an arrow function will say that this is going to get defined.

Or c me cold with the new language as an argument.

And so we will call inside of a distraught set state language like so.

OK so this right here is all of our business logic.

It's our current set of data.

The current selected language.

And we also have the ability to change the currently selected language as well.

So now the next thing we're going to do is define our render method inside the render method.

We're going to set up a language context provider.

And as the Value property we're going to pass off the currently selected language and that callback

we just created as well.

So this render method with the provider is how we're going to share their current data and with the

ability to change it with other components inside of our application.

So in my render method I'm going to return context with a capital C right here.

MEMBER We assign that context we created to capital C context dot provider.

The value is going to be the combination of everything out of our state object.

And this callback function as well.

So the value is our all of our data and the ability to change that data as well.

So as my value I'm going to put in a empty object inside of here and I'm going to add in all the different

values from my state object.

So say dot dot dot dot dot state.

Remember the syntax right here very similar to what we did with redux earlier.

We are creating a new object.

We're taking all the values out of our current state object and adding them into that object.

And then in addition we're also going to take this callback function and add it in there as well.

So on language change

then going to close off that provider tag like so now the language store is going to be used or rendered

at some location inside of application.

Remember any time that we place a provider only the components underneath it or only the components

that get wrapped by this provider will have access to the context that is implemented by this provider.

So essentially we need to make sure that this language store component is going to wrap all of these

different components when it finally gets rendered to do so inside of the provider tag.

We're going to place a set of curly braces and reference this prop's dots children.

So what's going on here.

Well a quick reminder back to like the first section of this course one of the things that we learned

very early on was that we could create our own components are going to show you down here is a quick

example I'm going to delete this really quickly so you don't have to write this out if you don't want

to.

We saw that we could create our own components like say language store

and we could pass our own component some amount of GSX like say a div or a form or even another component

that we create like say language selector or whatever it might be whenever we passed some GSX to a component

we creates these components right here show up inside of that parent component on Propp start children.

So this right here is what's going to make sure that we can render some components inside of our language

store.

And so all the components are rendered inside of it are going to have access to this context object

that we just implemented.

All right.

Now one other quick thing I want to mention here.

Why did we use a capital C on the variable context.

Well anytime that we create a component ourselves and tried to render it out using GSX we have to use

a capital C for that variable.

If you use a lowercase like so like a lowercase context re-act is going to think that this is a normal

vanilla HDL element that you're trying to render out like say a div or a form or a span or whatever.

So any component we create has to have a capital letter.

That's why we used capital C context OK.

So that's all we have to do for the language store class.

It's not the last we do inside this file is make sure that we export the language store and make it

available to other files inside of our application.

We also have to continue to export this context object as well.

And I'll tell you why that is in just a moment.

So first I'm going to export our class language store.

Notice how I only use the word export here.

So we've set up language store as a named export.

That means that anytime that we try to import it we're going to have to use the curly braces and say

like language store like so.

In addition at the bottom of the file I'm also going to export default context as well.

Just as we did previously.

So now any time we import the language context file we will either write out import contexts or really

language context because for a different export we can rename it when we import it or we will write

out import language store if we want the component itself.

So those are the two things that we can now import from this file.

All right so that is our language store component.

It encapsulates all the data of around the currently selected language and it also implements the ability

to change that data as well.

So now that we've put this component together we'll take a quick pause right here and when we come back

the next section will figure out how to make use of it.

So quick break and I'll see you in just a moment.

---
## [cozy-labs/cozy-desktop](https://github.com/cozy-labs/cozy-desktop)@[c65eaa8ca8...](https://github.com/cozy-labs/cozy-desktop/commit/c65eaa8ca8230555f0f7f25c3b156d130ddd8e4b)
#### Monday 2020-07-13 18:36:54 by Erwan Guyader

core/metadata: Use full mtime as updated_at

  We'll now use the local content modification date (i.e. `mtime` field
  of `Stats` objects) with its full precision as the new `updated_at`
  value when propagating local changes to the remote Cozy instead of
  using the max value between the content modification date and the
  metadata modification date (i.e. `ctime` field), truncated to the
  second.

  We've decided to use the full `mtime` precision for the local state
  `updated_at` attribute to be sure not to miss any file updates.
  However, this presented us with a challenge in the test examples.
  Indeed, we would sometimes have to compute this value from the main
  `updated_at` attribute which could be equal to the local `ctime` value
  and did not carry the milliseconds. We would thus have time differences
  in our expectations and the examples would fail.

  To avoid introducing hacks in the test files, we changed the way we
  compute the main `updated_at`. We're now using the `mtime` value with
  its full precision.
  This change is in line with the experience we want to offer our users.
  We believe the content modification time is the best time to use as
  the "last modified" time which, in our opinion, should not be affected
  by permission changes, movements, etc.

---
## [lVLADl/mvc-simple](https://github.com/lVLADl/mvc-simple)@[ef453a4d5c...](https://github.com/lVLADl/mvc-simple/commit/ef453a4d5ce99c21962a02dea3f0d6a28a770248)
#### Monday 2020-07-13 20:02:38 by horenko_vp

add a big part of basics: admin-dashboard
   index, controller, url
improve url-builder- function: add arguments-support
fix base template

--- About foreign keys: i freezed this necessary and important part of my project due to some architectual problems, the temporary lack of time and inspiration - this will cause some problems in building
authentication system for admin-dashboard, but soon, ill finish it with one-to-one(many-to-many can be and actually is getting build by the programmer, so i don't see any need to develop it at this stage of the project)
Right now, I am focused on admin-dashboard, fixing existing problems and developing middleware-system because it's importance is uncountble)
-- This messages, as the entire project I am building for: extending my github for interviews, for deeper understanding how do the frameworks work and for myself because it's funny, so this kind of messages i am writing to myself to remind me what I am doing. It would be a bit strange if someone would have read my commits, so I am sorry if it has happened.

---
## [stas-prze/nanohard-baicic](https://github.com/stas-prze/nanohard-baicic)@[4047a5378d...](https://github.com/stas-prze/nanohard-baicic/commit/4047a5378d02de8de5e2ad85e8883447637293c7)
#### Monday 2020-07-13 22:38:21 by stas-prze

roflrofl i'm sorry roflrofl i just had to roflrofl its my roflrofly humorous humor i'm sorry who anyone who's suffering but i just had to and i'm making this commit lenghty without any reason but i just had to and #fucking-shit-damn

---

# [<](2020-07-12.md) 2020-07-13 [>](2020-07-14.md)

