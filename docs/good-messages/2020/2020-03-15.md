# [<](2020-03-14.md) 2020-03-15 [>](2020-03-16.md)

2,134,623 events, 909,405 push events, 1,314,432 commit messages, 76,120,229 characters


## [kmorrell27/UpperCrustCatering](https://github.com/kmorrell27/UpperCrustCatering)@[f5f44acd92...](https://github.com/kmorrell27/UpperCrustCatering/commit/f5f44acd92f221aa5012093a0fa3185dd568a283)
#### Sunday 2020-03-15 00:32:23 by Kevin Morrell

Oh boy we've got two bigs set of changes here!

First: Prices rose! I probably would have said something funny here
except for the second, which

Second: Society collapsed! But what good is my decade of experience
in Silicon Valley if I don't know how to pivot a brand into a
questionably profitable venture.

---
## [ozyx/beerbot](https://github.com/ozyx/beerbot)@[5499c1b547...](https://github.com/ozyx/beerbot/commit/5499c1b5478551403bdc4ae57a764fa2d7bff571)
#### Sunday 2020-03-15 06:23:24 by Jesse Mazzella

Merge pull request #3 from dragon0/master

Hark Triton, hark! Bellow, bid our father the Sea King rise from the depths full foul in his fury! Black waves teeming with salt foam to smother this young mouth with pungent slime, to choke ye, engorging your organs til’ ye turn blue and bloated with bilge and brine and can scream no more -- only when he, crowned in cockle shells with slitherin’ tentacle tail and steaming beard take up his fell be-finned arm, his coral-tine trident screeches banshee-like in the tempest and plunges right through yer gullet, bursting ye -- a bulging bladder no more, but a blasted bloody film now and nothing for the harpies and the souls of dead sailors to peck and claw and feed upon only to be lapped up and swallowed by the infinite waters of the Dread Emperor himself -- forgotten to any man, to any time, forgotten to any god or devil, forgotten even to the sea, for any stuff for part of Winslow, even any scantling of your soul is Winslow no more, but is now itself the sea!

---
## [PainKiller3/kernel_xiaomi_sdm845](https://github.com/PainKiller3/kernel_xiaomi_sdm845)@[72d0b0f277...](https://github.com/PainKiller3/kernel_xiaomi_sdm845/commit/72d0b0f277714626e6a69a24a49d27a463ad35e6)
#### Sunday 2020-03-15 08:29:13 by Dave Chiluk

[BACKPORT] sched/fair: Fix low cpu usage with high throttling by removing expiration of cpu-local slices

It has been observed, that highly-threaded, non-cpu-bound applications
running under cpu.cfs_quota_us constraints can hit a high percentage of
periods throttled while simultaneously not consuming the allocated
amount of quota. This use case is typical of user-interactive non-cpu
bound applications, such as those running in kubernetes or mesos when
run on multiple cpu cores.

This has been root caused to cpu-local run queue being allocated per cpu
bandwidth slices, and then not fully using that slice within the period.
At which point the slice and quota expires. This expiration of unused
slice results in applications not being able to utilize the quota for
which they are allocated.

The non-expiration of per-cpu slices was recently fixed by
'commit 512ac999d275 ("sched/fair: Fix bandwidth timer clock drift
condition")'. Prior to that it appears that this had been broken since
at least 'commit 51f2176d74ac ("sched/fair: Fix unlocked reads of some
cfs_b->quota/period")' which was introduced in v3.16-rc1 in 2014. That
added the following conditional which resulted in slices never being
expired.

if (cfs_rq->runtime_expires != cfs_b->runtime_expires) {
	/* extend local deadline, drift is bounded above by 2 ticks */
	cfs_rq->runtime_expires += TICK_NSEC;

Because this was broken for nearly 5 years, and has recently been fixed
and is now being noticed by many users running kubernetes
(https://github.com/kubernetes/kubernetes/issues/67577) it is my opinion
that the mechanisms around expiring runtime should be removed
altogether.

This allows quota already allocated to per-cpu run-queues to live longer
than the period boundary. This allows threads on runqueues that do not
use much CPU to continue to use their remaining slice over a longer
period of time than cpu.cfs_period_us. However, this helps prevent the
above condition of hitting throttling while also not fully utilizing
your cpu quota.

This theoretically allows a machine to use slightly more than its
allotted quota in some periods. This overflow would be bounded by the
remaining quota left on each per-cpu runqueueu. This is typically no
more than min_cfs_rq_runtime=1ms per cpu. For CPU bound tasks this will
change nothing, as they should theoretically fully utilize all of their
quota in each period. For user-interactive tasks as described above this
provides a much better user/application experience as their cpu
utilization will more closely match the amount they requested when they
hit throttling. This means that cpu limits no longer strictly apply per
period for non-cpu bound applications, but that they are still accurate
over longer timeframes.

This greatly improves performance of high-thread-count, non-cpu bound
applications with low cfs_quota_us allocation on high-core-count
machines. In the case of an artificial testcase (10ms/100ms of quota on
80 CPU machine), this commit resulted in almost 30x performance
improvement, while still maintaining correct cpu quota restrictions.
That testcase is available at https://github.com/indeedeng/fibtest.

Fixes: 512ac999d275 ("sched/fair: Fix bandwidth timer clock drift condition")
Change-Id: I45d622cafb248a10ac011cf2578f0bd93faf5b2d
Signed-off-by: Dave Chiluk <chiluk+linux@indeed.com>
Signed-off-by: Peter Zijlstra (Intel) <peterz@infradead.org>
Reviewed-by: Phil Auld <pauld@redhat.com>
Reviewed-by: Ben Segall <bsegall@google.com>
Cc: Ingo Molnar <mingo@redhat.com>
Cc: John Hammond <jhammond@indeed.com>
Cc: Jonathan Corbet <corbet@lwn.net>
Cc: Kyle Anderson <kwa@yelp.com>
Cc: Gabriel Munos <gmunoz@netflix.com>
Cc: Peter Oskolkov <posk@posk.io>
Cc: Cong Wang <xiyou.wangcong@gmail.com>
Cc: Brendan Gregg <bgregg@netflix.com>
Link: https://lkml.kernel.org/r/1563900266-19734-2-git-send-email-chiluk+linux@indeed.com
Signed-off-by: Henrique Pereira <hlcpereira@pixelexperience.org>
Signed-off-by: PainKiller3 <ninadpatil100@gmail.com>

---
## [mrakgr/The-Spiral-Language](https://github.com/mrakgr/The-Spiral-Language)@[321a3cb652...](https://github.com/mrakgr/The-Spiral-Language/commit/321a3cb6529bafe92023dc2e102ed8a8ea7836b7)
#### Sunday 2020-03-15 10:58:09 by Marko Grdinić

"8:55am. I am up.

9:05am. Let me chill for a bit and then I will start.

9:10am. Ok, focus me.

Today my goal will be to finish the book. By the looks of things, it seems it will take me a total of two days before I dive into the language source. That is some kind of record being set.

It feels too fast, but it makes reasonable sense that I take this course so I'll follow along.

9:55am.

```
unsafePartial :: forall a. (Partial => a) -> a
```

I admit, I never ever imagined a type like this. No doubt, PS will push me more towards the pure side of FP language design, but that is fine.

10am.

---

```
showPoint :: Point -> String
showPoint (Point { x, y }) = ...
```

Here, we only specify the names of the properties, and we do not need to specify the names of the values we want to introduce. This is called a record pun.

---

So that is what they call it. It is a good name.

10:10am. Done with chapter 5. I am third of the way into the book. Actually, at this rate I am not sure if I will manage to deal with it all today, but I should be able to do most of it, leaving the rest for tomorrow if needed.

Let me just get on with it.

10:20am. Focus me. Do 3 more chapters of the book and then comes the break.

```
q :: String
q = show $ \n -> n + n // error due to the type var being ambiguous
```

I find it really interesting the way this deals with leftover type variables. This will have a strong benefit when I do this. I admit it can be difficult to think these things through until one just sits and looks at concrete examples - I thought I would have to drag type variables around in constraints, but now I see that it can be done like this.

10:40am. Had to take a break. Let me resume.

11:05am.

```
The inferred type

  forall stream a. Stream stream a => stream -> Maybe stream

has type variables which are not mentioned in the body of the type. Consider adding a type\
 annotation.
```

Here the book talks about multi parameter type classes and the issues with them. Yeah, the above is exactly the problem I ran into while thinking about them myself.

11:20am. Done with chapter 6. Let me do 7 in the next half hour (if possible) and then I will take a break.

11:45am. https://leanpub.com/purescript/read#leanpub-auto-the-eff-monad

I am going through this quickly, but even though I am not familiar with this, given all the experience in Spiral and then Coq/Agda/Lean, this is easy enough for me now. This type level stuff is certainly a piece of cake compared to the Software Foundations proofs.

11:50am. Though I am aiming for a lower level language with Spiral, I really should consider importing as much of Purescript as possible even if it means raising the abstraction bar and having to take extra time implementing things.

11:55am. Ah, I thought that the book had 18 chapters, but it turns out that the total number is 14. I am more further in that I thought.

Let me stop here so I can have breakfast. Things are going well enough."

---
## [newdigate/kicad_picknplace_assistant](https://github.com/newdigate/kicad_picknplace_assistant)@[6cfce8edc8...](https://github.com/newdigate/kicad_picknplace_assistant/commit/6cfce8edc8074441e0a2df40462f95b9943ca0c6)
#### Sunday 2020-03-15 11:49:13 by Nic Newdigate

Invert bottom layer B_Cu

It was annoying me that this awesome script was producing such an amazing result, but unfortunately I need to see the bottom layer up, makes it slightly easier if you don't need to worry about the fact that the bottom side is inverted.

Thanks for this awesome script, it has saved me hours of work

---
## [YanaSmelik/OOP-with-Java.-Exercises](https://github.com/YanaSmelik/OOP-with-Java.-Exercises)@[da373e8842...](https://github.com/YanaSmelik/OOP-with-Java.-Exercises/commit/da373e884251e89574098222a3f72e82774aab0a)
#### Sunday 2020-03-15 13:03:24 by YanaSmelik

Exercise 33: Dungeon

Game description: 
In the game, the player is in a dungeon full of vampires. 
The player has to destroy the vampires before his lamp runs out of battery and the vampires can suck his blood in the darkness. 
The player can see the vampires with a blinking of their lamp, after which they have to move blind before the following blinking. 
With one move, the player can walk as many steps as they want.

The game situation, i.e. the dungeon, the player and the vampires are shown in text form. 
Program print output tells how many moves the player has left (that is to say, how much battery the lamp has). 
Also, it shows player and vampire positions on a game map. As on the example below: 

P: 0, 0
V: 7, 0
V: 3, 0
V: 5, 4
V: 2, 4
P--V---V---
-----------
-----------
-----------
--V--V-----
Moves left: 20
Your step(s): dd


The example above shows the lamp has enough battery for 20 blinkings. 
The player P is located at 0,0. Note that the coordinates are calculated starting from the high left corner of the game board. I
The user can move by giving a sequence of commands and pressing Enter. The commands are:
w   - go up
s    - go down
a    - go left
d    -  go right
When the user commands are executed (the user can give many commands at once), a new game situation is drawn. 
If the lamp charge reaches 0, the game ends and the text YOU LOST! GAME OVER is printed on the board.

The vampires move randomly in the game, and they take one step for each step the player takes. 
If the player and a vampire run into each other (even momentarily) the vampire is destroyed. 
If a vampire tries to step outside the board, or into a place already occupied by another vampire, the move is not executed. 
When all the vampires are destroyed, the game ends and it prints YOU WON.

The player always starts the game in the position 0,0.
Player and vampires can not move out of the dungeon and two vampires cannot step into the same place.

---
## [ec1oud/nettebook](https://github.com/ec1oud/nettebook)@[5afb609528...](https://github.com/ec1oud/nettebook/commit/5afb6095282c8787c712194d00792bfeaa9fad97)
#### Sunday 2020-03-15 14:01:14 by Shawn Rutledge

Journal filenames can include topics

e.g. nb -j today dream correct horse battery staple
would create a file ~/journal/20200315-dream-correct-horse-battery-staple.md
in which I might write about my dream about a horse playing Jeopardy,
and that would be easier to find later.  Topics come after dates so that
the `ls` sort order is still correct.  But when using this feature, some
form of the date must always be given (e.g. "today").

I like hyphenated filenames (because spaces are more trouble on Linux)
but if you change the journal filename format to "$date $topics" instead
of "$date-$topics", that will be construed to mean that you like spaces
instead of hyphens, and then the filename would be
~/journal/20200315 dream correct horse battery staple.md
(I might change my mind myself about which way I like better, so it's
good to support both)

---
## [Warcraft-GoA-Development-Team/Warcraft-Guardians-of-Azeroth](https://github.com/Warcraft-GoA-Development-Team/Warcraft-Guardians-of-Azeroth)@[29b68e9b31...](https://github.com/Warcraft-GoA-Development-Team/Warcraft-Guardians-of-Azeroth/commit/29b68e9b315f68945c942af3f6798f8378d17021)
#### Sunday 2020-03-15 15:30:51 by zumbak04

Lich King Vision
Public changelog:
- Added an event chain (no localization yet) where you travel to the heart of Northrend at the call of the mystical Lich King, embracing **Death God** as your religion.
- Non-evil stubborn people are likely not to do evil doubtful actions like drinking demon blood, summoning demons etc.

Developer changelog:
- Purged unused `fel_presence` in `WCFEL.9900`.

---
## [kittenchilly/MasomodeDLC](https://github.com/kittenchilly/MasomodeDLC)@[086a9a726c...](https://github.com/kittenchilly/MasomodeDLC/commit/086a9a726c02924c2a16104fbbd6f95243b091d8)
#### Sunday 2020-03-15 17:06:53 by Planterror

I've come to make an announcement

Thomas the Pencil's a bitch-ass motherfucker, who pissed on my fucking code. That's right, he took his pencil fuckin' quilly fingers out and he pissed on my fucking code, and he said his finger was "THIS BIG", and I said that's disgusting, so I'm making a callout post on my Twitter-dot-com, Thomas the Pencil, you got a small finger, it's the size of this null string except WAY smaller. And guess what? Here's what my code looks like! THAT'S RIGHT, BABY. TALL SWITCHES, NO NULLS, NO IFS, LOOK AT THAT, IT LOOKS LIKE TWO BALLS AND A BONG. He fucked my code, so guess what? I'M GONNA FUCK THE GITHUB! That's right, this is what you get! MY SUPER LASER INT! Except I'm not gonna string on the earth. I'm gonna go higher. I'M STRINGING ON THE MOON! How do you like that, KITTENCHILLY? I STRINGED ON THE MOON, YOU IDIOT! You have TWENTY THREE HOURS before the int DRRRRRROPLETS hit the fucking github, now get out of my fucking sight before I string on you too

---
## [mrakgr/The-Spiral-Language](https://github.com/mrakgr/The-Spiral-Language)@[fb22558101...](https://github.com/mrakgr/The-Spiral-Language/commit/fb22558101d09a05a1171400f2e3d4084f5dee7d)
#### Sunday 2020-03-15 18:04:02 by Marko Grdinić

"1:10pm. Done with breakfast. Let me see if Hellrage is any good and then I'll do the chores.

2:20pm. Hellrage seems promising, I'll add it to my follow list. At any rate, I am done with chores. It is time to resume the Purescript book.

2:25pm. Oh this chapter will use React. Ok, that should be interesting.

2:40pm.

```
countThrows :: Int -> Array (Array Int)
countThrows n = do
  x <- 1 .. 6
  y <- 1 .. 6
  if x + y == n
    then pure [x, y]
    else empty

main :: Effect Unit
main = do
  log (show (map countThrows (1 .. 10)))
```

Hmmm...the way PS handles operators is new to me. Having them be rebound to some function is not necessarily a bad way to go about it.

3pm.

---

(Medium) Write a function sums which uses foldM to determine all possible totals that could be made using a set of coins. The coins will be specified as an array which contains the value of each coin. Your function should have the following result:

```
 > sums []
 [0]

 > sums [1, 2, 10]
 [0,1,2,3,10,11,12,13]
```

---

Let me do this exercise.

3:10pm.

```
sums :: Array Int -> Array Int
sums = foldM (\a b -> [a + b]) 0
```

No this is not it.

Hmmm...

I have no idea. I just do not have the reasoning machinery to deal with this.

3:15pm.

```
foldM f a (b : bs) = do
  a' <- f a b
  foldM f a' bs
```

Ok, so here is how it is implemented.

...So maybe...

```
sums :: Array Int -> Array Int
sums = foldM (\a b -> [a, a + b]) 0

main :: Effect Unit
main = do
  log (show (sums [1, 2, 10]))
```

```
[0,10,2,12,1,11,3,13]
```

Yeah, this is it almost. The elements are all there, but not quite in the right order.

```
sums = foldM (\a b -> [a + b, a]) 0
```

```
[13,3,11,1,12,2,10,0]
```

No, actually I think that to get the thing the exercise wants me to, I need to sort this thing.

```
module Main where

import Prelude
import Effect (Effect)
import Effect.Console (log)

import Control.Plus (empty)
import Control.Monad
import Data.Array

sums :: Array Int -> Array Int
sums = foldM (\a b -> [a + b, a]) 0 >>> sort

main :: Effect Unit
main = do
  log (show (sums [1, 2, 10]))
```

Yes, this is the way to do this.

3:30pm. It is really too bad the IDE does not have inline documentation for the types.

3:35pm. https://leanpub.com/purescript/read#leanpub-auto-interleaving-effects

I can't see these more elaborate Effect types in either the IDE or the REPL.

https://purescript-resources.readthedocs.io/en/latest/eff-to-effect.html
"Eff rows were not sufficiently useful in terms of actually guaranteeing what effects were run in a given Eff row, and the attempts to track possible exceptions were poor. In addition, these led to many problems with users not knowing how to solve type errors with unification of effect rows."

Ah, so it was removed.

Let me take a look at the links to see what the deal was.

3:55pm. https://leanpub.com/purescript/read#leanpub-auto-fine-grained-effects

This stuff is all out.

A fully fledged algebraic effect system would be interesting, but I am not interested in having IO in my language. I'll remove this in Spiral.

4pm.

```
import Prelude

import Control.Monad.Eff (Eff, forE)
import Control.Monad.ST (ST, newSTRef, readSTRef, modifySTRef)

simulate :: forall eff h. Number -> Number -> Int -> Eff (st :: ST h | eff) Number
simulate x0 v0 time = do
  ref <- newSTRef { x: x0, v: v0 }
  forE 0 (time * 1000) \_ -> do
    modifySTRef ref \o ->
      { v: o.v - 9.81 * 0.001
      , x: o.x + o.v * 0.001
      }
    pure unit
  final <- readSTRef ref
  pure final.x
```

It does not seem like I am going to finish the book today. Only 2h left, I and I am just close to 2/3rds in. And past here things will get harder.

4:05pm. I won't push myself. I'll do it at my own pace. If I can't do it today, I should definitely be able to do this tomorrow.

Let me give the above example a try.

4:30pm.

```
simulate :: forall t. Number -> Number -> Int -> ST t Number
simulate x0 v0 time = do
  ref <- new {x: x0, v: v0}
  _ <- modify (\x -> x) ref
  -- forE 0 (time * 1000) \_ -> do
    -- modify (\o ->
    --   { v: o.v - 9.81 * 0.001
    --   , x: o.x + o.v * 0.001
    --   }) ref
    -- pure unit
  final <- read ref
  pure final.x
```

Getting loops to work with mutable references was a pain in the ass in Haskell as well.

4:35pm. Now I can't use `forE` here. What I am thinking of doing is a loop on my own. Remember years ago how Athas showed it to me during my Haskell adventure?

Let me put that experience to use here.

```
simulate :: forall t. Number -> Number -> Int -> ST t Number
simulate x0 v0 time = do
  ref <- new {x: x0, v: v0}
  let loop i =
        if i < time * 1000 then do
          _ <-
            modify (\o ->
              { v: o.v - 9.81 * 0.001
              , x: o.x + o.v * 0.001
              }) ref
          pure unit
        else
          pure unit
  unit <- loop 0
  final <- read ref
  pure final.x
```

Finally did it. Let me make it a bit less messy...

...Damn, the type inference is nowhere as good as advertized. For some reason it flunks on local bindings.

```
  let loop i ref =
        if i < time * 1000 then
          modify (\o ->
            { v: o.v - 9.81 * 0.001
            , x: o.x + o.v * 0.001
            }) ref
        else
          pure ref
```

Why is this wrong?

4:50pm. Ah, I get it, shit. It is not returning the reference, but the read value.

```
type V = { v :: Number, x :: Number }
loop :: forall r. Int -> Int -> STRef r V -> ST r V
loop from near_to ref =
  if from < near_to then
    modify (\o ->
      { v: o.v - 9.81 * 0.001
      , x: o.x + o.v * 0.001
      }) ref
  else
    read ref
```

The issue with this is that it is not looping though.

```
type V = { v :: Number, x :: Number }
loop :: forall r. Int -> Int -> STRef r V -> ST r V
loop from near_to ref =
  if from < near_to then do
    _ <- modify (\o ->
      { v: o.v - 9.81 * 0.001
      , x: o.x + o.v * 0.001
      }) ref
    loop (from+1) near_to ref
  else
    read ref
```

This loops.

Ok, I have it.

5pm.

```
E:\Webdev\Purescript\hello>spago repl
purs.bin: getMBlocks: VirtualAlloc MEM_COMMIT failed: The paging file is too small for this operation to complete.
spago.exe: callCommand: purs repl ".spago/arrays/v5.3.1/src/**/*.purs" ".spago/bifunctors/v4.0.0/src/**/*.purs" ".spago/console/v4.4.0/src/**/*.purs" ".spago/control/v4.2.0/src/**/*.purs"
".spago/distributive/v4.0.0/src/**/*.purs" ".spago/effect/v2.0.1/src/**/*.purs" ".spago/either/v4.1.1/src/**/*.purs" ".spago/enums/v4.0.1/src/**/*.purs" ".spago/exceptions/v4.0.0/src/**/*.purs" ".spago/foldable-traversable/v4.1.1/src/**/*.purs" ".spago/functions/v4.0.0/src/**/*.purs" ".spago/gen/v2.1.1/src/**/*.purs" ".spago/globals/v4.1.0/src/**/*.purs" ".spago/identity/v4.1.0/src/**/*.purs" ".spago/integers/v4.0.0/src/**/*.purs" ".spago/invariant/v4.1.0/src/**/*.purs" ".spago/lazy/v4.0.0/src/**/*.purs" ".spago/lists/v5.4.1/src/**/*.purs" ".spago/math/v2.1.1/src/**/*.purs" ".spago/maybe/v4.0.1/src/**/*.purs" ".spago/newtype/v3.0.0/src/**/*.purs" ".spago/nonempty/v5.0.0/src/**/*.purs" ".spago/nullable/v4.1.1/src/**/*.purs" ".spago/orders/v4.0.0/src/**/*.purs" ".spago/partial/v2.0.1/src/**/*.purs" ".spago/prelude/v4.1.1/src/**/*.purs"
".spago/proxy/v3.0.0/src/**/*.purs" ".spago/psci-support/v4.0.0/src/**/*.purs" ".spago/random/v4.0.0/src/**/*.purs" ".spago/react/v8.0.0/src/**/*.purs" ".spago/refs/v4.1.0/src/**/*.purs" ".spago/st/v4.1.1/src/**/*.purs" ".spago/strings/v4.0.1/src/**/*.purs" ".spago/tailrec/v4.1.0/src/**/*.purs" ".spago/tuples/v5.1.0/src/**/*.purs" ".spago/type-equality/v3.0.0/src/**/*.purs" ".spago/typelevel-prelude/v5.0.2/src/**/*.purs" ".spago/unfoldable/v4.1.0/src/**/*.purs" ".spago/unsafe-coerce/v4.0.0/src/**/*.purs" "src/**/*.purs" "test/**/*.purs"  (exit 251): failed
```

I am running into memory issues with the IDE. Yeah, never trust Haskell when it comes to allocating space efficiently.

What do I do? I want to paste the type of run here, but it is not going. Basically...

```
loop :: forall r. Int -> Int -> STRef r V -> ST r V
```

This is the type of the `loop` that I made.

5:05pm. Oh spare me. Previously the spellchecker crashed for this journal file that I am writing my entries and the screen started blinking as soon as I tried printing the type.

```
simulate :: forall t. Number -> Number -> Int -> ST t Number
forall a. (forall r. ST r a) -> a
```

Here is the type of run.

Basically, Purescript accepts...`logShow (run (simulate 1.0 1.0 1))` without issue, but I am not sure how I can make this work in Spiral without specifying the type to be...

```
simulate :: Number -> Number -> Int -> forall t. ST t Number
```

5:10pm. What a waste of time this is, much like last time.

5:15pm. I am going to skip the React stuff as I do not want to deal with the issues that will no doubt crop up with using such a complex framework with Purescript.

Actually, the examples here are quite legible.

```
addressBook = createClass $ spec initialState \ctx -> do
  AppState { person: Person person@{ homeAddress: Address address }
           , errors
           } <- readState ctx
```

What is this `person@` syntax?

5:20pm. Well, nevermind.

Let me just say - the kind of programming style Haskell promotes will not pass the test of time. All the monadic/CPS tecnhiques it developed are powerful and valuable, but as a method of pure functional programming they are too much of a mess. They couple code too tightly.

Eventually they will be eclipsed by proper algebraic effect systems in high level languages.

Haskell and Purescript seem to think that effects can be modeled using monads, but they can't.

5:30pm. Monads should really be used for metaprogramming purposes.

https://leanpub.com/purescript/read#leanpub-auto-canvas-graphics

Let me finally move on to chapter 9. It is actually rather late now, but it feels earlier due to the sun still being out.

5:50pm. https://leanpub.com/purescript/read#leanpub-auto-the-foreign-function-interface

I am just skimming things. I am not interested what the code really does.

This is craziness after all. The interesting part of monads is where shifting them around leads to different computational tradeoffs. But I feel all this abstraction is besides the point.

The strength of functional languages is combining type inference, pattern matching and various other features to get a very effective programming style. Types are there to bolster the process of doing logic. Reading the book it feels like they replace the process of actual programming.

6pm. Typescript would be so much better if it was an expression based language and had ADTs and pattern matching. And got rid of that varargs bullshit.

6:05pm. Ok...

Fitting in row polymorphism is not too much an issue in Spiral. The main problem is that Spiral can remove fields as well as add them.

```
inl x = {}
{x with a=1; b=2 without c d}
```

That `without` is a problem.

Suppose I have something like this...

Actually let me see how PS would handle it.

```
q r = r { w = 3}
```

Oh, actually here it infers a different type than I thought it would.

```
q :: forall r. { w :: _ | r} -> {w :: Int | r}
q r = r { w = 3}
```

It actually cannot add wholy new fields. This is a surprise. To think I was worried about removing them.

This is something I want to ask.

Forget the book for a while. Let me check the docs on records.

https://github.com/purescript/documentation/blob/master/language/Records.md#extending-records

6:35pm. Had to leave for lunch. Before I call it a day, let me see if I can get the record update to work.

https://www.reddit.com/r/purescript/comments/8fjk4m/is_there_a_function_extend_forall_r_r_x_int_r/

So it is possible, but convoluted. Forget this.

6:45pm. If it is just updates, this would be extremely easy to add to the type system. I am going to disallow field removals in the typed segment in order to keep things sane.

Have I ever really used `without`? I'd be surprised if I did. Let me have a quick look in the ML library.

```
    inl init s size dsc =
        Struct.foldl_map (inl sublayer_size {x with init} ->
            indiv join
                inl {dsc size} = init sublayer_size
                inl weights = Struct.map' (inl x -> x s |> inl x -> x.init; x) dsc |> heap
                stack ({x without init with weights size}, size)
            ) size dsc
```

Oh, I have in fact.

But I should be able to do this better. It is not like I really need this.

I can specify outright all the fields.

...Alternatively...how about I change the semantics of without? In the typed segment how about I assume that if the field is getting removed, that it actually exists in the record?

Right now `without` if the record does not have the field would just ignore the removal. By making the semantics of it more rigid, I could get better utility.

Yeah, this is the way to go here.

Brilliant.

This will make things much easier than if I had to track removed rows explicitly.

7pm. It will simplify so much.

Right now I am looking at the PS milestones, but it does not seem like anything big is coming down the line, so I should be okay. I am glad to see it mentioned in that thread that the devs are conservative about adding new features.

https://leanpub.com/purescript/read#leanpub-auto-representing-quantified-types

Let me call it a day here."

---
## [lootz/NotaryNodes](https://github.com/lootz/NotaryNodes)@[c71ecb325d...](https://github.com/lootz/NotaryNodes/commit/c71ecb325d6c8c028ba98d2c1c3b084c53ba4b25)
#### Sunday 2020-03-15 20:19:41 by lootz

LooTz

 

Who’s Lootz?
My name is LooTz, I believe we need to change this world through technology and bravery. I have been with Komodo since its first days. I created the first SuperNET website and ran SuperNET Radio, which is now renamed to CryptoRadio.Live. With over 250 interviews, my Crypto Show has been downloaded thousands of times. 

I co-founded CryptoCoreMedia.com, a premier crypto information website, and marketing service. While I am primarily the resident SEO guru for CryptoCoremedia.com, my skill set also includes web development, content creation, CryptoRadio.Live hosting and most of all the “creator of magical opportunities”. 

I have boarded the Pirate Ship and naturally became a Pirate myself. I did this because I believe in privacy and in the strength of the Komodo ecosystem. In collaboration with other pirates, I have made the following contributions towards Pirate Chain: Pirate OS (thank You to Wieprz), Pruner Code (thank you to Forge and MrLynch),  Mobile Wallet (thank you to Forge, MrLynch, CHMEX, PWNZ), and several more collaborations I cannot disclose at this time.

I aim to be a champion of the Komodo ecosystem by running a notary node. As a tech specialist for over 30 years, I believe in the gradual and constant improvement of the node. Ultimately, this will create redundancy for lower downtime risks overtime. 

Our Team:
Our Notary Node team also includes theekgb. who is an expert in systems engineering, monitoring, and automation technologies. He has been involved in systems engineering and DevOps for 7 years, IT systems for 20 years and blockchain for over 2 years. He is very passionate about Komodo. While he is not active publicly, he has been involved in several Komodo technology projects behind the scenes. 


Let’s get into the meat and potatoes now…

Hardware (located in NYC)
16 core servers, 64gig ram, UPS setup, Fiber Internet 940/880 Mbps, 

Reward Allocations:

20% to Scalleywag thinktank - This is a think tank for like minded contributors interested in improving Komodo and Pirate Chain. Scallywag also functions as an R&D department making interoperable technologies such as DEXP2P, IPFS, with the goal of generating revenue streams for the ecosystem.
20% for Combined Marketing Initiative, including: 
                                                  5% to design 
                                                  5% to writers
                                                  10% to new initiatives

Having a revenue stream go to a steady writer will produce regular content for distribution increasing traffic and attention for all parties involved. Co-marketing will lower costs. Current marketing initiatives include:
Flyer Distribution - Boots on the Ground Initiative
Article Creation w/ Strategic Posting

40% to hardware – Server maintenance and upgrade 

10% Retirement Fund

10% Slush Fund - Coffee 

 
 
“ I don't want to be an emperor. That's not my business. I don't want to rule or conquer anyone. I would like to help everyone if possible. We all want to help one another. Human beings are like that. We want to live by each other's happiness, not by each other's misery. We don't want to hate and despise one another. In this world, there is room for everyone, and the good earth is rich and can provide for everyone. The way of life can be free and beautiful, but we have lost the way. Greed has poisoned men's souls, has barricaded the world with hate, has goose-stepped us into misery and bloodshed. We have developed speed, but we have shut ourselves in. Machinery that gives abundance has left us in want. Our knowledge has made us cynical; our cleverness, hard and unkind. We think too much and feel too little. More than machinery, we need humanity. More than cleverness, we need kindness and gentleness. Without these qualities, life will be violent and all will be lost. The airplane and the radio have brought us closer together. The very nature of these inventions cries out for the goodness in men; cries out for universal brotherhood; for the unity of us all.”~Chaplin

VOTE Address: REbnTZUHeYiqx6uNqGsUan3Usp9RJy5kjU

Contact
Twitter: @DatePickle
Scallywag Discord: https://discord.gg/C8H4qhb
Soundcloud: https://soundcloud.com/cryptoradio
Discord: Loo✟z#2749

---
## [lootz/NotaryNodes](https://github.com/lootz/NotaryNodes)@[8eea34ab0e...](https://github.com/lootz/NotaryNodes/commit/8eea34ab0e92d705aa6bd50988f969fbb6649fbd)
#### Sunday 2020-03-15 20:35:14 by lootz

LooTz

Who’s Lootz?
My name is LooTz, I believe we need to change this world through technology and bravery. I have been with Komodo since its first days. I created the first SuperNET website and ran SuperNET Radio, which is now renamed to CryptoRadio.Live. With over 250 interviews, my Crypto Show has been downloaded thousands of times.

I co-founded CryptoCoreMedia.com, a premier crypto information website, and marketing service. While I am primarily the resident SEO guru for CryptoCoremedia.com, my skill set also includes web development, content creation, CryptoRadio.Live hosting and most of all the “creator of magical opportunities”.

I have boarded the Pirate Ship and naturally became a Pirate myself. I did this because I believe in privacy and in the strength of the Komodo ecosystem. In collaboration with other pirates, I have made the following contributions towards Pirate Chain: Pirate OS (thank You to Wieprz), Pruner Code (thank you to Forge and MrLynch), Mobile Wallet (thank you to Forge, MrLynch, CHMEX, PWNZ), and several more collaborations I cannot disclose at this time.

I aim to be a champion of the Komodo ecosystem by running a notary node. As a tech specialist for over 30 years, I believe in the gradual and constant improvement of the node. Ultimately, this will create redundancy for lower downtime risks overtime.

Our Team:
Our Notary Node team also includes theekgb. who is an expert in systems engineering, monitoring, and automation technologies. He has been involved in systems engineering and DevOps for 7 years, IT systems for 20 years and blockchain for over 2 years. He is very passionate about Komodo. While he is not active publicly, he has been involved in several Komodo technology projects behind the scenes.

Let’s get into the meat and potatoes now…

Hardware (located in NYC)
16 core servers, 64gig ram, UPS setup, Fiber Internet 940/880 Mbps,

Reward Allocations:

20% to Scalleywag thinktank - This is a think tank for like minded contributors interested in improving Komodo and Pirate Chain. Scallywag also functions as an R&D department making interoperable technologies such as DEXP2P, IPFS, with the goal of generating revenue streams for the ecosystem.
20% for Combined Marketing Initiative, including:
5% to design
5% to writers
10% to new initiatives

Having a revenue stream go to a steady writer will produce regular content for distribution increasing traffic and attention for all parties involved. Co-marketing will lower costs. Current marketing initiatives include:
Flyer Distribution - Boots on the Ground Initiative
Article Creation w/ Strategic Posting

40% to hardware – Server maintenance and upgrade

10% Retirement Fund

10% Slush Fund - Coffee

“ I don't want to be an emperor. That's not my business. I don't want to rule or conquer anyone. I would like to help everyone if possible. We all want to help one another. Human beings are like that. We want to live by each other's happiness, not by each other's misery. We don't want to hate and despise one another. In this world, there is room for everyone, and the good earth is rich and can provide for everyone. The way of life can be free and beautiful, but we have lost the way. Greed has poisoned men's souls, has barricaded the world with hate, has goose-stepped us into misery and bloodshed. We have developed speed, but we have shut ourselves in. Machinery that gives abundance has left us in want. Our knowledge has made us cynical; our cleverness, hard and unkind. We think too much and feel too little. More than machinery, we need humanity. More than cleverness, we need kindness and gentleness. Without these qualities, life will be violent and all will be lost. The airplane and the radio have brought us closer together. The very nature of these inventions cries out for the goodness in men; cries out for universal brotherhood; for the unity of us all.”~Chaplin

VOTE Address: REbnTZUHeYiqx6uNqGsUan3Usp9RJy5kjU

Contact
Twitter: @DatePickle
Scallywag Discord: https://discord.gg/C8H4qhb
Soundcloud: https://soundcloud.com/cryptoradio
Discord: Loo✟z#2749

---
## [jiahaog/nativefier](https://github.com/jiahaog/nativefier)@[c9ee6667d4...](https://github.com/jiahaog/nativefier/commit/c9ee6667d4f7edbeb838ac0149cf15bc228fad89)
#### Sunday 2020-03-15 20:50:06 by Ronan Jouchet

Revamp and move to TypeScript (#898)

## Breaking changes

- Require **Node >= 8.10.0 and npm 5.6.0**
- Move to **Electron 8.1.1**.
- That's it. Lots of care went into breaking CLI & programmatic behavior
  as little as possible. **Please report regressions**.
- Known issue: build may fail behind a proxy. Get in touch if you use one:
  https://github.com/jiahaog/nativefier/issues/907#issuecomment-596144768

## Changes summary

Nativefier didn't get much love recently, to the point that it's
becoming hard to run on recent Node, due to old dependencies.
Also, some past practices now seem weird, as better expressible
by modern JS/TS, discouraging contributions including mine.

Addressing this, and one thing leading to another, came a
bigger-than-expected revamp, aiming at making Nativefier more
**lean, stable, future-proof, user-friendly and dev-friendly**,
while **not changing the CLI/programmatic interfaces**. Highlights:

- **Require Node>=8**, as imposed by many of our dependencies. Node 8
  is twice LTS, and easily available even in conservative Linux distros.
  No reason not to demand it.
- **Default to Electron 8**.
- **Bump** all dependencies to latest version, including electron-packager.
- **Move to TS**. TS is great. As of today, I see no reason not to use it,
  and fight interface bugs at runtime rather than at compile time.
  With that, get rid of everything Babel/Webpack.
- **Move away from Gulp**. Gulp's selling point is perf via streaming,
  but for small builds like Nativefier, npm tasks are plenty good
  and less dependency bloat. Gulp was the driver for this PR: broken
  on Node 12, and I didn't feel like just upgrading and keeping it.
- Add tons of **verbose logs** everywhere it makes sense, to have a
  fine & clear trace of the program flow. This will be helpful to
  debug user-reported issues, and already helped me fix a few bugs.
    - With better simple logging, get rid of the quirky and buggy
      progress bar based on package `progress`. Nice logging (minimal
      by default, the verbose logging mentioned above is only used
      when passing `--verbose`) is better and one less dependency.
- **Dump `async` package**, a relic from old callback-hell early Node.
  Also dump a few other micro-packages unnecessary now.
- A first pass of code **cleanup** thanks to modern JS/TS features:
  fixes, simplifications, jsdoc type annotations to types, etc.
- **Remove GitHub integrations Hound & CodeClimate**, which are more
  exotic than good'ol'linters, and whose signal-to-noise ratio is too low.
- Quality: **Add tests** and add **Windows + macOS CI builds**.
  Also, add a **manual test script**, helping to quickly verify the
  hard-to-programatically-test stuff before releases, and limit regressions.
- **Fix a very small number of existing bugs**. The goal of this PR was
  *not* to fix bugs, but to get Nativefier in better shape to do so.
  Bugfixes will come later. Still, these got addressed:
  - Add common `Alt`+`Left`/`Right` for previous/next navigation.
  - Improve #379: fix zoom with `Ctrl` + numpad `+`/`-`
  - Fix pinch-to-zoom (see https://github.com/jiahaog/nativefier/issues/379#issuecomment-598612128 )

---
## [danieljbuscaglia/ZeusOnTheLoose](https://github.com/danieljbuscaglia/ZeusOnTheLoose)@[1a5c938eeb...](https://github.com/danieljbuscaglia/ZeusOnTheLoose/commit/1a5c938eeb253b93eb816b60fbc5365072206d47)
#### Sunday 2020-03-15 21:32:33 by Daniel Buscaglia

Merge pull request #1 from Sharker55/master

Fuck you dan

---
## [ximion/metainfocreator](https://github.com/ximion/metainfocreator)@[523b229c03...](https://github.com/ximion/metainfocreator/commit/523b229c03d01b5b01603ff586caf4d19d8913fd)
#### Sunday 2020-03-15 23:05:18 by Matthias Klumpp

Remove stupid zero-width space characters from templates

This is such an annoying bug, caused by copying from the AppStream
specification which has these characters. I can't wait to change the
spec to finally not include this annoyance anymore.
I also love Vi for making it easy to spot these.
In any case, the MetaInfo Creator should now produce data that actually
validates.

---

# [<](2020-03-14.md) 2020-03-15 [>](2020-03-16.md)

