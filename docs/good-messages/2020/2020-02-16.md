# [<](2020-02-15.md) 2020-02-16 [>](2020-02-17.md)

1,515,554 events, 859,041 push events, 1,200,952 commit messages, 67,097,625 characters


## [mpv-player/mpv](https://github.com/mpv-player/mpv)@[0b35b4c917...](https://github.com/mpv-player/mpv/commit/0b35b4c91796fb020e13d955efd450021eb5eedb)
#### Sunday 2020-02-16 01:07:44 by wm4

sub: make filter_sdh a "proper" filter, allow runtime changes

Until now, filter_sdh was simply a function that was called by sd_ass
directly (if enabled).

I want to add another filter, so it's time to turn this into a somewhat
more general subtitle filtering infrastructure.

I pondered whether to reuse the audio/video filtering stuff - but better
not. Also, since subtitles are horrible and tend to refuse proper
abstraction, it's still messed into sd_ass, instead of working on the
dec_sub.c level. Actually mpv used to have subtitle "filters" and even
made subtitle converters part of it, but it was fairly horrible, so
don't do that again.

In addition, make runtime changes possible. Since this was supposed to
be a quick hack, I just decided to put all subtitle filter options into
a separate option group (=> simpler change notification), to manually
push the change through the playloop (like it was sort of before for OSD
options), and to recreate the sub filter chain completely in every
change. Should be good enough.

One strangeness is that due to prefetching and such, most subtitle
packets (or those some time ahead) are actually done filtering when we
change, so the user still needs to manually seek to actually refresh
everything. And since subtitle data is usually cached in ASS_Track (for
other terrible but user-friendly reasons), we also must clear the
subtitle data, but of course only on seek, since otherwise all subtitles
would just disappear. What a fucking mess, but such is life. We could
trigger a "refresh seek" to make this more automatic, but I don't feel
like it currently.

This is slightly inefficient (lots of allocations and copying), but I
decided that it doesn't matter. Could matter slightly for crazy ASS
subtitles that render with thousands of events.

Not very well tested. Still seems to work, but I didn't have many test
cases.

---
## [mpv-player/mpv](https://github.com/mpv-player/mpv)@[a4eb8f75c0...](https://github.com/mpv-player/mpv/commit/a4eb8f75c0644ce5cf7c0bcea6b3efd2a886027d)
#### Sunday 2020-02-16 01:07:44 by wm4

sub: add an option to filter subtitles by regex

Works as ad-filter. I had some more plans, for example replacing
matching text with different text, but for now it's dropping matches
only. There's a big warning in the manpage that I might change
semantics. For example, I might turn it into a primitive sed.

In a sane world, you'd probably write a simple script that processes
downloaded subtitles before giving them to mpv, and avoid all this
complexity. But we don't live in a sane world, and the sooner you learn
this, the happier you will be. (But I also want to run this on muxed
subtitles.)

This is pretty straightforward. We use POSIX regexes, which are readily
available without additional pain or dependencies. This also means it's
(apparently) not available on win32 (MinGW). The regex list is because I
hate big monolithic regexes, and this makes it slightly better.

Very superficially tested.

---
## [Adamantcheese/Kuroba](https://github.com/Adamantcheese/Kuroba)@[e1c4d10ded...](https://github.com/Adamantcheese/Kuroba/commit/e1c4d10dedc046053e0d77aae71a8e04802e357f)
#### Sunday 2020-02-16 03:25:33 by k1rakishou

Some people are still having troubles with image loading. It's like that one OkHttp bug all over again.

Add one important log to see what the fuck is going on for people who can't load images whatsoever.
The cause is IOException but I wonder what's the explanation to it (if there is any at all) so I want to log it.

---
## [greboid/conspectus](https://github.com/greboid/conspectus)@[dc069e8523...](https://github.com/greboid/conspectus/commit/dc069e8523feea996be04511041acadc740c49ea)
#### Sunday 2020-02-16 04:38:54 by Greg Holmes

Add demo and development headers without breaking html.

This is however a horrible, horrible hack and I do pretty much hate
it, but it does what you wanted and meets your requirements.

---
## [Citadel-Station-13/Citadel-Station-13](https://github.com/Citadel-Station-13/Citadel-Station-13)@[c95bb9f8db...](https://github.com/Citadel-Station-13/Citadel-Station-13/commit/c95bb9f8dbc08463d90e43796b6ab92d9dc75e2a)
#### Sunday 2020-02-16 06:31:33 by Seris02

FUCK SHIT I'M NAKED IS THIS A DREAM OR REAL FUCK FUCK WHERE ARE MY CLOTHES hallucination (#10857)

* FUCK SHIT I'M NAKED IS THIS A DREAM OR REAL FUCK FUCK WHERE ARE MY CLOTHES????

* fix

* no more getflaticon dabdabdabdabdabdabdab

* tada

---
## [VitaRox/Battleship](https://github.com/VitaRox/Battleship)@[75df24b018...](https://github.com/VitaRox/Battleship/commit/75df24b018f472faa34af4b1984720ae42316e92)
#### Sunday 2020-02-16 07:21:16 by Vita

- Exhaust self fucking with CSS and trying to figure out how to display images for board in a grid, a seemingly simple goddamn task;
- Figure out that need to put the div class for the individual cells into the dispBoard() function where it will be added to innerHTML;
- Use inner styling because lazy at the moment;
- Create new external CSS anyway; probably use later once this stupid thing works;

---
## [TJSLZLKJFZYXGSLIUZILI/-](https://github.com/TJSLZLKJFZYXGSLIUZILI/-)@[f13d0d4e1b...](https://github.com/TJSLZLKJFZYXGSLIUZILI/-/commit/f13d0d4e1bc3c37e8c177e01320e29b476224c69)
#### Sunday 2020-02-16 09:11:02 by TJSLZLKJFZYXGS LIUZILI

刘自力

Tianjin Liu Zili Technology Development Co., Ltd., the original ecosystem cloud service system of the global Internet portal. Inheriting the past and opening up the network of human civilization to pursue the dream of world cultural links with development!!! Extend your hand here are all friends, we are free, equal, fraternal, happy, inclusive, understanding, responsibility, obligation. We depend on each other lazily, work hand in hand, win-win cooperation, find the job you like, the way you learn, the life you want. My life orientation. We shoulder the sacred responsibility entrusted to us by human history to promote the development of another human civilization!!

Computer network technology, computer software and hardware technology development, transfer, consulting services; computer system integration; software development; advertising design, production, publication, agency; corporate image planning; etiquette celebration planning; building materials, decoration materials, hardware power delivery, daily department stores sales; self-operated and agent goods Import and Export of Technology; Construction and Installation Engineering; Landscape Greening Engineering; Hydropower Engineering; Labor Service. (Projects that must be approved according to law and approved by relevant departments before they can carry out business activities.) Tianjin Liu Zili Science and Technology Development Co., Ltd., the original ecosystem cloud service system of the global Internet portal, carries forward the past and opens up the network of human civilization to pursue the dream of world cultural links and develop together!! Our success will promote the development of another human civilization, blue sky, white clouds, green space, clear water. Birds are singing and flowers are fragrant, flowers blossom and schools of thought contend, and everything needs to be done. Form a global integrated intelligent ecological chain. Our future is not a dream!! Efforts, dear friends, we hand in hand, shoulder in hand, work together to look forward to the future!!
 
l20@z1.onmicrosoft.com,good.zili19@yandex.com,
liu11 <liu11@zili38.partner.onmschina.cn>;lzl11382019 <lzl11382019@outlook.com>;liu zili <liu@zili.onmicrosoft.com>;刘自力 <liu1967@bk.ru>;zili-67 <zili-67@mail.ru>;刘自力 <zili.liu2015@yandex.com>;刘自力 <15822158762@163.com>;刘自力 <liuzili5588@qun.mail.163.com>;刘自力 <liuzili762@outlook.com>;刘自力 <lzlliuzili@foxmail.com>;刘自力 <liuzili20185118@Outlook.com>;刘自力 <liu.czili@yandex.ru>;刘自力 <zili2018@vip.163.com>;刘自力 <zililiuws@foxmail.com>;刘自力 <zililiu1967@outlook.com>;13820160486 <13820160486@163.com>
                https://wordpress.com/home/tjslzl.wordpress.com,                                                                                                                              中国 China。
刘自力Zili Liu，120107196710095118，                                                                                                                                                户口地址:天津市滨海新区车站北路莱茵春天48栋2门201号，                                                                                                           TianjinBhxqczbllyct48d2m201h，邮政编码：300451，                                                                                                                         天津市刘自力科技发展有限公司TJSLZLKJFZYXGS，                                                                                                                                     公司注册地址:天津市滨海新区胡家园工贸园区科技创新中心A区8号                                                                                                            ，TianjinBhxqhjygmyqkjcxzxAq8h，邮政编码：300450，                                                                                                                           税务ID：91120116MA069NA327，                                                                                                                                                       公司账号:中国建设银行天津广州道支行，                                                                                                                                                银行地址:天津市滨海新区福建北路15号，
银行行号：105110039444，                                                                                                                                                                天津市刘自力科技发展有限公司TJSLZLKJFZYXGS，            公司账户；12050167045200000274，                                                                                                                                                  电子邮箱：liu11@zili38.partner.onmschina.cn,lzl11382019@outlook.com,                                                                                              办公室邮箱：liu@zili.onmicrosoft.com,                                                                                                                                                  宝贝paypal邮箱：2815151945@qq.com,                                                                                                                                              公司电话：18522744200，                                                                                                                                                                 私人电话：15822158762，                                                                                                                                                                   移动电话：13129385921，                                                                                                                                                                其他电话：17627659286,13370413515,13502114639.17802215781,18182194354

---
## [newstools/2020-naija-news-agency](https://github.com/newstools/2020-naija-news-agency)@[356946e4f2...](https://github.com/newstools/2020-naija-news-agency/commit/356946e4f21a592cf50246be3078e0116cf26435)
#### Sunday 2020-02-16 09:19:47 by NewsTools

Created Text For URL [naijanewsagency.com/olakunle-churchill-declares-his-undying-love-for-rosy-meurer-on-her-birthday/]

---
## [mrakgr/The-Spiral-Language](https://github.com/mrakgr/The-Spiral-Language)@[3d4c0a376a...](https://github.com/mrakgr/The-Spiral-Language/commit/3d4c0a376ad806a5ce2dcd9e76fcbe80f67fd845)
#### Sunday 2020-02-16 10:06:57 by Marko Grdinić

"8:50am. I am up. I think I have a cold, but it is nothing serious.

Let me do some morning chilling and then I will go through the other two LSP examples.

https://boards.4channel.org/sci/thread/11387295

I am amazed that there is an optimization thread on /sci/.

9:25am. Ok, enough slacking. I want to take a look at the last two examples. I'll think of what comes next after that.

9:40am. Focus me, focus.

https://github.com/Microsoft/vscode-extension-samples/tree/master/lsp-log-streaming-sample

9:45am. Ok, now I have a problem that the example does not run.

```
"languageServerExample.trace.server": {
  "format": "json",
  "verbosity": "verbose"
},
```

Also where am I supposed to add this setting? Let me check out the JSON files.

```
    "languageServerExample.trace.server": {
     "scope": "window",
     "type": "object",
```

There is this is `package.json`. So maybe it wants me to overwrite it?

9:50am. Well, forget his thing for now. Let me report it in the issue. After that I'll take a look at the code itself.

https://www.w3schools.com/js/js_operators.asp

```
 hasConfigurationCapability =
  !!capabilities.workspace && !!capabilities.workspace.configuration;
```

Hmmm...I thought that !! would be the not operator or something like that, but...

Wait, `&&` is definitely `and` based on the table. Does that mean that `!!` is `not not`? What the hell?

https://stackoverflow.com/questions/784929/what-is-the-not-not-operator-in-javascript

10:25am.

```
while ((m = pattern.exec(text)) && problems < settings.maxNumberOfProblems) {
```

How does `m = pattern.exec(text)` work. I am going to assume that it returns `m` after doing assignment which is evaled as `true` if it is not `null`.

10:35am. Done with the example. Let me move to the last one. Then I will start thinking about the next phase.

10:40am. Focus me, focus.

10:55am. The last example is particularly simple as it does nothing in particular.

With that let me stop here for a bit.

In summary, I am really disgusted what a waste of time the past week was and how inefficiently I am going through this. My Pharo experience was much better than this. It is making me realize how helpful being able to trace through the system really is. This is garbage.

At any rate, that is what I am going to do next.

All this effort of the past week was just there so I can get some basic familiarity with the system, so that I do not freeze like a deer in headlights when the fight starts.

11:05am. Ok...

From here on out the plan is simple...go through that LSP example and trace through it. Then do that exercise for some real plugin.

Then start work on my own.

Once I have the scaffolding down, I can resume work on Spiral. I really am grateful that I am going to have to master only LSP, and not the whole system. That will make this whole affair much eaiser."

---
## [newstools/2020-the-guardian-uk](https://github.com/newstools/2020-the-guardian-uk)@[9bf79cfe62...](https://github.com/newstools/2020-the-guardian-uk/commit/9bf79cfe62405bc7858ee011b0ddf384de8c64b1)
#### Sunday 2020-02-16 11:28:19 by NewsTools

Created Text For URL [www.theguardian.com/tv-and-radio/2020/feb/16/caroline-flack-boyfriend-lewis-burton-heartbroken-by-her-death-love-island]

---
## [vgstation-coders/vgstation13](https://github.com/vgstation-coders/vgstation13)@[dc50ee1f5d...](https://github.com/vgstation-coders/vgstation13/commit/dc50ee1f5d4dd91789a224ebbab6749587053202)
#### Sunday 2020-02-16 11:36:14 by Irradiation

Removes latejoin viruses. (#25751)

* Removes roundstart viruses.

Due to (probably?) a vocal minority complaining about it, I'm making this PR to see if people actually want this mechanic gone.

t. medbay main who doesn't care (or play often) either way.

* fuck you sekrit repo

* fuck off sekrit repo

* Update new_player.dm

* fuck the proc calling

* and fuck procs

* reeeeEEEEEE

---
## [Korialstrasz/AngelaStats](https://github.com/Korialstrasz/AngelaStats)@[dbb81fc028...](https://github.com/Korialstrasz/AngelaStats/commit/dbb81fc028e36365ef0e29b049fd8b33c3afd577)
#### Sunday 2020-02-16 13:22:18 by Korialstrasz

[STATS]
Updated scene info for "Anal Unscripted"
Added new scene "You Gotta Help My Wife!"
Added new scene "Lust, Love, Respect"
Added DVD link for "Lesbian Roommates 2"
Added DVD link for "When Girls Play 11"

---
## [nonrational/puma-dev](https://github.com/nonrational/puma-dev)@[51f02a720f...](https://github.com/nonrational/puma-dev/commit/51f02a720f701d473f7caee36f3573d79c2ce402)
#### Sunday 2020-02-16 13:55:21 by Alan Norton

run `go main()`, but we get stuck at keychain unlock

assert that we're getting the wrong thing consistently

ok, it _sometimes_ works

make sure that we create working directory before using it

ensure that arguments are reset as expected

use a higher port for travis, see if that makes a difference

once we realize that we don't have a response, fail immediately

pull out running puma, wait 5s

prepare travis osx filesystem before running tests

whoops, missing an indent

aaaaand semicolons

slowly but surely

OMG SO CLOSE

🐰🕳

let's try that

unlock that sucker

so sloooow

so frustrating!

Revert "so frustrating!"

This reverts commit 063ab03968cb71ebb016d9bcaa58d10975caa68d.

Revert "so sloooow"

This reverts commit a390a65f5b821699ff0fbf817e98482ea492f23d.

skip TLS config if we're not interactive

whoops, forgot

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

---
## [mpv-player/mpv](https://github.com/mpv-player/mpv)@[7d11eda72e...](https://github.com/mpv-player/mpv/commit/7d11eda72e90d7aa9df25127bd810aa7b191029c)
#### Sunday 2020-02-16 14:15:20 by wm4

Remove remains of Libav compatibility

Libav seems rather dead: no release for 2 years, no new git commits in
master for almost a year (with one exception ~6 months ago). From what I
can tell, some developers resigned themselves to the horrifying idea to
post patches to ffmpeg-devel instead, while the rest of the developers
went on to greener pastures.

Libav was a better project than FFmpeg. Unfortunately, FFmpeg won,
because it managed to keep the name and website. Libav was pushed more
and more into obscurity: while there was initially a big push for Libav,
FFmpeg just remained "in place" and visible for most people. FFmpeg was
slowly draining all manpower and energy from Libav. A big part of this
was that FFmpeg stole code from Libav (regular merges of the entire
Libav git tree), making it some sort of Frankenstein mirror of Libav,
think decaying zombie with additional legs ("features") nailed to it.
"Stealing" surely is the wrong word; I'm just aping the language that
some of the FFmpeg members used to use. All that is in the past now, I'm
probably the only person left who is annoyed by this, and with this
commit I'm putting this decade long problem finally to an end. I just
thought I'd express my annoyance about this fucking shitshow one last
time.

The most intrusive change in this commit is the resample filter, which
originally used libavresample. Since the FFmpeg developer refused to
enable libavresample by default for drama reasons, and the API was
slightly different, so the filter used some big preprocessor mess to
make it compatible to libswresample. All that falls away now. The
simplification to the build system is also significant.

---
## [showell/zulip](https://github.com/showell/zulip)@[7b26f621a8...](https://github.com/showell/zulip/commit/7b26f621a8704bdcac9afa6173dc23c1cc8b247b)
#### Sunday 2020-02-16 15:29:24 by Steve Howell

markdown: Add helper configuration for mobile.

This refactoring is the first step toward sharing
our markdown code with mobile.  This focuses on
the Zulip layer, not the underlying third party `marked`
library.

In this commit we do a one-time initialization to
wire up the markdown functions, but after further
discussions with Greg, it might make more sense
to just pass in helpers on every use of markdown
(which is generally only once per sent message).
I'll address that in follow-up commits.

Even though it looks like a pretty invasive change,
you will note that we barely needed to modify the
node tests to make this pass.  And we have pretty
decent test coverage here.

All of the places where we used to depend on
other Zulip modules now use helper functions that
any client (e.g. mobile) can configure themselves.
Or course, in the webapp, we configure these from
modules like people/stream_data/hash_util/etc.

Even in places where markdown used to deal directly with
data structures from other modules, we now use functions.
We may revisit this in a future commit, and we might
just pass data directly for certain things.

I decided to keep the helpers data structure completely flat,
so we don't have ugly nested names like
`helpers.emoji.get_emoji_codepoint`.  Because of this,
some of the names aren't 1:1, which I think is fine.

For example, we map `user_groups.is_member_of` to
`is_member_of_user_group`.

It's likely that mobile already has different names
for their versions of these functions, so trying for
fake consistency would only help the webapp.  In some
cases, I think the webapp functions have names that
could be improved, but we can clean that up in future
commits, and since the names aren't coupled to markdown
itself (i.e. only the config), we will be less
constrained.

It's worth noting that `marked` has an `options`
data structure that it uses for configuration, but
I didn't piggyback onto it, since the `marked`
options are more at the lexing/parsing layer vs.
the app-data layer stuff that our helpers mostly
help with.

Hopefully it's obvious why I just put helpers in
the top-level namespace for the module rather than
passing it around through multiple layers of the
parser.

There were a couple places in markdown where we
were doing awkward `hasOwnProperty` checks for
emoji-related stuff.  Now we use the Python
principle of ask-forgiveness-not-permission and
just handle the getters returning falsy data.  (It
should be `undefined`, but any falsy value is
unworkable in the places I changed, so I use
the simpler, less brittle form.)

We also break our direct dependency on
`emoji_codes.json` (with some help from the
prior commit).

In one place I rename streamName to stream_name,
fixing up an ancient naming violation that goes
way back to before this code was even extracted
away from echo.js.  I didn't bother to split this
out into a separate commit, since 2 of the 4
lines would be immediately re-modified in the
subsequent commit.

Note that we still depend on `fenced_code`
via the global namespace, instead of simply
requiring it directly or injecting it.  The
reason I'm postponing any action there is that
we'll have to change things once we move
markdown into a shared library.  (The most
likely outcome is that we'll rename/move both files
at the same time and fix the namespace/require
details as part of that commit.)

Also the markdown code still relies on `_` being
available in the global namespace.  We aren't
quite ready to share code with mobile yet, but the
underscore dependency should not be problematic,
since mobile already uses underscore to use the
webapp's shared typing_status module.

---
## [shaunlsy/instagram-challenge](https://github.com/shaunlsy/instagram-challenge)@[9931ea323d...](https://github.com/shaunlsy/instagram-challenge/commit/9931ea323dfcf941224eff347eee79cb1ee0a760)
#### Sunday 2020-02-16 16:37:58 by shaunlsy

omg i finally managed to solve the dropdown menu i spent more than one day solving this shit
- it's because I have to import bootstrap setting into the application.jso omg omg omg
- so i created a bootstrap_custom.js file and import all the shit they want thank god it's working after whole day testing the dropdown menu omg omg omgo omgomgomgomofmofmnomfomfd

---
## [HuberAnton/Graphics](https://github.com/HuberAnton/Graphics)@[d3180e8ae3...](https://github.com/HuberAnton/Graphics/commit/d3180e8ae3152e62b6e72763f4d9d2cbb41c66a0)
#### Sunday 2020-02-16 17:53:48 by Larry

Added input

Tested and doesn't work.
This is the most god awful fucking trash I've ever had to try and piece together.

---
## [mrakgr/The-Spiral-Language](https://github.com/mrakgr/The-Spiral-Language)@[df341db4d6...](https://github.com/mrakgr/The-Spiral-Language/commit/df341db4d67283387ffa32ecca79327a8adf89d3)
#### Sunday 2020-02-16 17:56:12 by Marko Grdinić

"12:20pm. The latest seasons of Railgun and Index are worlds apart in quality. Railgun is actually pretty good.

Done with breakfast. Let me do the chores and then I will start.

1:05pm. Let me finally start. I am dying here.

I want this to just be done already.

1:10pm. For some reason `lsp-sample` is not running now. Ah, for fuck's sake.

1:15pm. Resetting does nothing. Let me try building manually.

```
> Executing task: npm run watch <

> lsp-sample@1.0.0 watch e:\Typescript\vscode-extension-samples\lsp-sample
> tsc -b -w
```

Ah, I get it. It is freezing during the build.

1:30pm. "`fsp-sample` worked for me yesterday, but it does not today. I thought there was something wrong with the project, but now it seems like this is some VS Code specific bug.

Can I get some feedback on this please? I am specifically interested in doing a VS Code plugin for [my own language](https://github.com/mrakgr/The-Spiral-Language/tree/v0.2) and I do not have time to forever wait for this to be resolved. I've gone through all the samples to study the code and I want to start on this. I need to start tracing through the system in order to properly get a grasp on it, and I can hardly do that if the thing won't even run."

No I won't complain just yet. Let me just copy the files into a separate template.

1:45pm. Let me ask on SO, if it is possible for me myself to resolve this by tracing.

1:55pm. I need to find out how to trace. I am going to report this Extension Host launch failure on the main issue page.

Agh, let me do as they ask and I'll try Insiders version.

2pm. The Insiders version works. Nonetheless, I want to understand why this is happening.

...Oh, it works with extensions disabled as well. Let me disable all of them.

2:05pm. When I disable them manually it also works.

2:10pm. I disabled them only for the workspace.

2:15pm. The status bar example does not run even with the extensions disabled.

The insiders version runs it properly though.

2:20pm. Yeah, the nightly version does it properly. I can't get the regular VS Code to work.

"I want to create a VS Code plugin for [my own language](https://github.com/mrakgr/The-Spiral-Language/tree/v0.2), but I am running into [a nasty bug]() where various sample extensions will seemingly arbitrarily refuse to run. At first I thought there was something wrong with the samples, but seeing as the sample that worked for me yesterday now fails today, I now think this is a VS Code specific issue.

What is really annoying here is that the Extension Host instance will outright refuse to run, so placing breakpoints has no effect.

Last year I had a good debugging experience with Pharo where I could trace through the entire system and fix bugs that I otherwise could not. Since I need to trace through the LSP samples in order to get a grasp on them anyway, I am wondering if there is a way to start the trace from the very beginning - once I press the start button."

Let me back up this here in case I change my mind about asking. I am going to open an issue on the main repo for this.

2:35pm. I've opened issue 90781 on the main repo and closed the other one. Since the `statusbar-sample` works with the Insiders version, this has probably already been fixed in the dev version.

But since I am at it, let me ask the question about tracing.

2:40pm. No forget that. Let me just start this thing. These debugging issues have eaten enough time from my life.

2:45pm. Let me aright my mind.

2:55pm. Agh, damn. The breakpoints on the server are not getting hit. Maybe that is no strange given that it is launched as a separate process.

Let me check out that other example. I think there was something about debugging the server.

3:05pm. https://code.visualstudio.com/api/language-extensions/language-server-extension-guide

Focus me. Let me read this again. Unless I focus this is literally going to take months.

"Since the server is started by the LanguageClient running in the extension (client), we need to attach a debugger to the running server. To do so, switch to the Debug view and select the launch configuration Attach to Server and press F5. This will attach the debugger to the server."

3:20pm. I finally figured out how to debug the server. This is really testing my will like nothing else. But I need to follow the plan and go through this once. After that I will take a break.

3:35pm. Ok, break time. I got one thing out of the way. I still haven't debugged traced through the though, but one thing at a time.

4pm. I want to chill a bit more.

4:05pm. It is nowhere at the rate that I want, but I got the debugger to work for the LSP sample, and got all the samples to work. That is an accomplishment in itself. So far, I am really underwhelmed by TS. There was a guy who praised it, but now that I am seeing it in action I honestly never want to do webdev if I can help it. I guess I should not have expected much of a JS wrapper language.

Still, I'd much rather have it than raw JS.

4:20pm. Let me resume.

1.5 hours more of this, I can do it. Let me make a pass through the client and then I will take a look at the...

https://github.com/Microsoft/vscode-extension-samples/tree/master/lsp-log-streaming-sample

...log streaming example. Let me just say that I am a little bothered that I can only insert breakpoints in the middle. For some reason it fails at startup....

Let me look into this a bit more.

4:35pm. Ok, another short break.

4:45pm. Done with tracing through the client.

This is really, really complex. Way beyond my ability to grasp it just by looking at it. I would have a lot easier time if I had a webdev background, but I'll have to make do with what I have.

Now comes the log streaming example.

4:50pm. After that, what I am going to do is take the F# plugin, or maybe the C# one. Or anything really and study them.

I am going to tear them down and build them up again until I understand them from top to bottom.

These examples are crap. At the same time they are both too complex, and not detailed enough.

4:55pm. For once in my life, I am going to have to mutate what exists until I know enough to do it on my own.

Now, let me do the log streaming example. I want to get this thing out of the way today. I am certainly sick of it by this point.

```
    "languageServerExample.trace.server": {
     "scope": "window",
     "type": "object",
     "description": "Traces the communication between VS Code and the language server.",
     "properties": {
      "verbosity": {
       "type": "string",
       "description": "Controls the verbosity of the trace.",
       "enum": [
        "off",
        "message",
        "verbose"
       ],
       "default": "off"
      },
      "format": {
       "type": "string",
       "description": "Controls the output format of the trace.",
       "enum": [
        "text",
        "json"
       ],
       "default": "text"
      }
     }
                }
```

I think I have to add the two fields in the readme.

```
    "format": "json",
    "verbosity": "verbose"
```

Let me give this a shot.

5:10pm. I can't figure it out. There is a bunch of crap in the logs, but it is not from today. And I do not know how to clear that.

5:20pm. Seriously fuck. This is such bullshit.

The debugger itself is useless for getting me through the system unlike Pharo. These things are supposed to be communicating using JSON, but I am yet to see a single example of that.

And the log streaming does not work for whatever reason.

5:20pm. This is not going well, but I at least got the examples to run.

Let me stop here for a bit. I need to move to the next stage even though I've only accomplished a third of what I wanted in this one.

5:25pm. But hell if I feel like doing anything else right now. If I was a rational actor I'd keep going without end, but...

5:30pm. https://css-tricks.com/what-i-learned-by-building-my-own-vs-code-extension/

Let me read this.

```
Trivia! Even though TypeScript is an independent programming language with many popular uses including the Angular (2+) framework, VS Code is the sister project with the most impact on the language. Being developed in TypeScript as a TypeScript editor, VS Code has a strong symbiotic relationship with TypeScript. The best way to learn the language is by looking at the source code of Visual Studio Code.
```

Hmmmm...really?

Well, indeed, actually knowing how VS Code works would make things a lot easier.

Maybe I should give it a try?

5:45pm. https://github.com/microsoft/vscode

Ah, let me clone it and I will check out how large it is at least. No doubt it will be a few 100k LOC or something crazy like that.

5% of it is 9mb. Yikes.

Like hell will I be able to go through 180mb of code.

...Now it is not even 20% and it is at 80mb. If anything that figure was an underestimate.

5:50pm. Ok, I will give this a shot since I started it. I am curios of what the size of VS Code really is, but at 840k objects, VS Code is definitely into runaway evolution tier. It is large enough that I can treat it as a black box system that can only be understood through interaction.

The most annoying stuff is how all the plugin examples just assume a webdev background. This so annoying.

It is going to be close to 400mb total at this rate by the the time it finishes.

```
Receiving objects: 100% (842752/842752), 256.67 MiB | 501.00 KiB/s, done.
Resolving deltas: 100% (595479/595479), done.
Updating files: 100% (4292/4292), done.
```

I guess I was wrong.

Well, let me see what I can find in that repo.

5:55pm. Ok, the core of it is like 53mb only. What makes most of the size is the ginormous .git folder.

6:10pm. https://github.com/microsoft/vscode/wiki/How-to-Contribute#debugging

There is stuff here on debugging VS Code itself.

Let me try building the thing.

```
Tip! Open VS Code on the folder where you have cloned the vscode repository and press CMD+SHIFT+B (CTRL+SHIFT+B on Windows, Linux) to start the builder. To view the build output open the Output stream by pressing CMD+SHIFT+U.
```

There are a bunch of of ways of doing the build, but the easiest one seems to be this.

6:45pm. Done with lunch. Before I left, I tried getting it to build, but no matter what I try it seems to be missing some `gulp` tool.

Er, maybe I should have just gotten the package and installed it globally via `npm`. Right now I just ran `yarn install` in the vscode folder.

6:50pm. Let me just commit here. I'll leave trying the build for tomorrow.

I guess programming is really an adventure. I just can't do this fast even though I want to. Going fast requires familiarity.

No matter how much I try, I cannot violate the basic laws of cognition or computation with just my will.

6:55pm. I am going to crush this eventually."

---
## [cysk003/mpv](https://github.com/cysk003/mpv)@[be0878e121...](https://github.com/cysk003/mpv/commit/be0878e12102394c278457e5e8a8317d552862e7)
#### Sunday 2020-02-16 19:49:33 by wm4

demux: fix backward demuxing freeze if first packet is not a keyframe

Some files don't start with keyframe packets. Normally, this is not
sane, but the sample file which triggered this was a cut TV capture
transport stream. And this shouldn't happen anyway.

Introduce a further heuristic: if the last seek target was before the
start of the cached data, and the start of the cache is marked as BOF
(beginning of file), then we won't find anything better. This is
possibly a bit shaky, because both seek_start and back_seek_pos weren't
made for this purpose. But I can't come up with situations where this
would actually break. (Leave this to shitty broken files I hit later.)

I also considered finding the first packet in the cache that is marked
as keyframe, i.e. the first actual seek target, and comparing it to
"first", but I didn't like it much. Well whatever.

It's a bit silly that this caused a hard freeze (and similar issues
still will). The problem is that the demuxer holds the lock and has no
reason to release it. And in general, there's a single lock for the
entire demuxer cache. Finer grained locking would probably not make much
sense. In theory status of available data and maybe certain commands to
the demuxer could be moved to separate locks, but it would raise
complexity, and you'd probably still need to get the central lock in
some cases, which would deadlock you anyway.

It would still be nice if some minor corner case in the wonderfully
terrible and complex backward demuxer state machine couldn't lock up the
player. As a hack, unlock and then immediately lock again. Depending on
the OS mutex implementation, this may give other waiters a chance to
grab the lock. This is not a guarantee (some OSes may for example not
wake up other waiters until the next time slice or something), but works
well on Linux.

---
## [cysk003/mpv](https://github.com/cysk003/mpv)@[f439064e7f...](https://github.com/cysk003/mpv/commit/f439064e7f142c9503b2a7f99c7da0e49eaab660)
#### Sunday 2020-02-16 19:49:33 by wm4

demux: demux multiple audio frames in backward playback

Until now, this usually passed a single audio frame to the decoder, and
then did a backstep operation (cache seek + frame search) again. This is
probably not very efficient, especially considering it has to search the
packet queue from the "start" every time again.

Also, with most audio codecs, an additional "preroll" frame was passed
first. In these cases, the preroll frame would make up 50% of audio
decoding time. Also not very efficient.

Attempt to fix this by returning multiple frames at once. This reduces
the number of backstep operations and the ratio the preoll frames. In
theory, this should help efficiency. I didn't test it though, why would
I do this? It's just a pain. Set it to unscientific 10 frames.
(Actually, these are 10 keyframes, so it's much more for codecs like
TrueHD. But I don't care about TrueHD.)

This commit changes some other implementation details. Since we can
return more than 1 non-preroll keyframe to the decoder, some new state
is needed to remember how much. The resume packet search is adjusted to
find N ("total") keyframe packets in general, not just preroll frames.
I'm removing the special case for 1 preroll packet; audio used this, but
doesn't anymore, and it's premature optimization anyway.

Expose the new mechanism with 2 new options. They're almost completely
pointless, since nobody will try them, and if they do, they won't
understand what these options truly do. And if they actually do, they
most likely would be capable of editing the source code, and we could
just hardcode the parameters. Just so you know that I know that the
added options are pointless.

The following two things are truly unrelated to this commit, and more
like general refactoring, but fortunately nobody can stop me.

Don't set back_seek_pos in dequeue_packet() anymore. This was sort of
pointless, since it was set in find_backward_restart_pos() anyway (using
some of the same packets). The latter function tries to restrict this to
the first keyframe range though, which is an optimization that in theory
might break with broken files (duh), but in these cases a lot of other
things would be broken anyway.

Don't set back_restart_* in dequeue_packet(). I think this is an
artifact of the old restart code (cf. ad9e473c555). It can be done
directly in find_backward_restart_pos() now. Although this adds another
shitty packet search loop, I prefer this, because clearer what's
actually happening.

---
## [cysk003/mpv](https://github.com/cysk003/mpv)@[da6e862c4f...](https://github.com/cysk003/mpv/commit/da6e862c4fff9b33996607ce7ab18d3714704620)
#### Sunday 2020-02-16 19:49:33 by wm4

f_decoder_wrapper: hack for discarding preroll in backward playback mode

Some audio codecs will discard or cut the first frames when starting
decoding. While some of that works through well-defined mechanisms (like
initial padding), it's in general very codec/decoder specific, and not
really predictable. In addition, libavcodec isn't very good with
reporting "dropped" frames (and our internal interface reflects this).
It seems our only chance to handle this is through timestamps.

In theory, it would be best to discard frames that have timestamps
before the "resume" position. But since video has reordered timestamps,
we'd need to put some effort into finding this position. The first video
packet doesn't necessarily contain this timestamp. (In theory, we could
just do this in the demuxer with some trivial additional work, and set
it on the packet's kf_seek_pts field. Although this field is supposed to
contain just this value, the field is considered demuxer-internal, and I
didn't want to make matters worse by reusing it for the interface to the
decoder. With some more effort and buffering, we could calculate this
value within the decoder, but fuck that.)

The approach chosen in this commit is setting the timestamp to NOPTS.
This will break in some obscure situations, but backward playback is a
pretty obscure feature to begin with, so I considered this a reasonable
implementation choice.

Before passing a preroll packet to the decoder, its timestamps are set
to NOPTS. Frames that are returned from the decoder and have the NOPTS
timestamp are considered preroll and are discarded. This happens only
during "preroll" mode (preroll_discard==true), so it doesn't affect
normal forward playback. It's disabled on the first packet with a
timestamp, so it can tolerate some crap even in backward playback mode.
We don't check the dts fields out of laziness (decoded audio frames
don't even have this field).

I considered using an approach using the EDL clipping infrastructure (as
mentioned in the last two paragraphs in the commit message of commit
" demux_lavf: implement bad hack for backward playback of wav"). This
didn't work, and I blamed timestamp rounding within mpv for it. But the
problem was actually due to Matroska-rounded timestamps. Since the audio
frame size isn't exactly aligned to 1ms, there will be an overlap (or
gap) in the timestamps. This overlap is much smaller than 1ms, since
it's just the sub-millisecond remainder part of the audio frame size.
This makes the timestamps discontinuous and unreliable for the purpose
we wanted to use it. We can't just smooth the timestamps in the demuxer
either.

---
## [skierpage/matklad.github.io](https://github.com/skierpage/matklad.github.io)@[4ba4e81e5e...](https://github.com/skierpage/matklad.github.io/commit/4ba4e81e5e1bbdaeec7ae34f6e471e44c7a68795)
#### Sunday 2020-02-16 21:56:23 by skierpage

Apostrophes, "in retrospect".

> it's designed principles
> it's validity is enforced.

These aren't a contraction of "it is" or "it has", so no apostrophe. It's hella confusing because one does write "I like Rust's style" with an apostrophe for the possessive form, but "its" is already the possessive pronoun. The way I remember it is: you don't write "I like hi's principles," and "its principles" and even "the idea was hers" work the same.

The phrase is "obvious in retrospect", I also tweaked it to be, arguably, more idiomatic.

Your enthusiasm, even love, for the Rust language comes across clearly and that's what really matters :heart_eyes:

---
## [ButterfishGames/GGJ2020](https://github.com/ButterfishGames/GGJ2020)@[3e83f65d76...](https://github.com/ButterfishGames/GGJ2020/commit/3e83f65d76e37b613b282a8b22a85cf90315b013)
#### Sunday 2020-02-16 22:09:02 by Daimee MacIsaac

Repaired EJ level 2 draft, removed EJ level 3 from build settings, added myself as Level Designer to credits

Because I am one now. Fuck you fight me

---
## [duckinator/bork](https://github.com/duckinator/bork)@[9c1cce4c79...](https://github.com/duckinator/bork/commit/9c1cce4c79dad3bfaf4615f9febcde1d209f720f)
#### Sunday 2020-02-16 22:32:28 by bors[bot]

Merge #113

113: Update coloredlogs to 14.0 r=duckinator a=pyup-bot


This PR updates [coloredlogs](https://pypi.org/project/coloredlogs) from **12.0** to **14.0**.



<details>
  <summary>Changelog</summary>
  
  
   ### 14.0
   ```
   ----------------------------

Integrate native Windows 10 support for ANSI escape sequences (`71`_, `72`_).

Native support for ANSI escape sequences was added to Windows 10 after its
initial release, specifically in release 10.0.14393. I&#39;ve now updated
:pypi:`coloredlogs` and :pypi:`humanfriendly` to detect and enable this &quot;new&quot;
native support.

Windows 10 seems to comprise the majority of Windows installations worldwide so
in the interest of &quot;looking forward&quot; I&#39;ve decided to drop the :pypi:`colorama`
requirement, given that it has now become a minority use case.

Hopefully most existing users will not experience any regression because they
previously installed :pypi:`colorama` already, and when available it will still
be used. However new installations on older Windows systems now require users
to install :pypi:`colorama` separately. This has been documented in the readme
in an attempt to minimize resulting confusion.

PS. In case anyone is wondering: I decided that giving a major Windows support
update in :pypi:`coloredlogs` the version 13.0 was asking for trouble, so I
decided not to do that 😇.

.. _Release 14.0: https://github.com/xolox/python-coloredlogs/compare/12.0...14.0
.. _71: https://github.com/xolox/python-coloredlogs/issues/71
.. _72: https://github.com/xolox/python-coloredlogs/pull/72
   ```
   
  
</details>


 

<details>
  <summary>Links</summary>
  
  - PyPI: https://pypi.org/project/coloredlogs
  - Changelog: https://pyup.io/changelogs/coloredlogs/
  - Docs: https://coloredlogs.readthedocs.io
</details>



Co-authored-by: pyup-bot <github-bot@pyup.io>

---

# [<](2020-02-15.md) 2020-02-16 [>](2020-02-17.md)

