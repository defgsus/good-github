# [<](2020-01-25.md) 2020-01-26 [>](2020-01-27.md)

1,283,804 events, 723,984 push events, 1,049,764 commit messages, 64,042,093 characters


## [UtsavBalar1231/kernel_xiaomi_raphael@fce4e257a7...](https://github.com/UtsavBalar1231/kernel_xiaomi_raphael/commit/fce4e257a7c4a5d3a881ee695783127110c009b0)
##### 2020-01-26 05:44:17 by Alexander Potapenko

BACKPORT: mm: security: introduce init_on_alloc=1 and init_on_free=1 boot options

Upstream commit 6471384af2a6530696fc0203bafe4de41a23c9ef.

Patch series "add init_on_alloc/init_on_free boot options", v10.

Provide init_on_alloc and init_on_free boot options.

These are aimed at preventing possible information leaks and making the
control-flow bugs that depend on uninitialized values more deterministic.

Enabling either of the options guarantees that the memory returned by the
page allocator and SL[AU]B is initialized with zeroes.  SLOB allocator
isn't supported at the moment, as its emulation of kmem caches complicates
handling of SLAB_TYPESAFE_BY_RCU caches correctly.

Enabling init_on_free also guarantees that pages and heap objects are
initialized right after they're freed, so it won't be possible to access
stale data by using a dangling pointer.

As suggested by Michal Hocko, right now we don't let the heap users to
disable initialization for certain allocations.  There's not enough
evidence that doing so can speed up real-life cases, and introducing ways
to opt-out may result in things going out of control.

This patch (of 2):

The new options are needed to prevent possible information leaks and make
control-flow bugs that depend on uninitialized values more deterministic.

This is expected to be on-by-default on Android and Chrome OS.  And it
gives the opportunity for anyone else to use it under distros too via the
boot args.  (The init_on_free feature is regularly requested by folks
where memory forensics is included in their threat models.)

init_on_alloc=1 makes the kernel initialize newly allocated pages and heap
objects with zeroes.  Initialization is done at allocation time at the
places where checks for __GFP_ZERO are performed.

init_on_free=1 makes the kernel initialize freed pages and heap objects
with zeroes upon their deletion.  This helps to ensure sensitive data
doesn't leak via use-after-free accesses.

Both init_on_alloc=1 and init_on_free=1 guarantee that the allocator
returns zeroed memory.  The two exceptions are slab caches with
constructors and SLAB_TYPESAFE_BY_RCU flag.  Those are never
zero-initialized to preserve their semantics.

Both init_on_alloc and init_on_free default to zero, but those defaults
can be overridden with CONFIG_INIT_ON_ALLOC_DEFAULT_ON and
CONFIG_INIT_ON_FREE_DEFAULT_ON.

If either SLUB poisoning or page poisoning is enabled, those options take
precedence over init_on_alloc and init_on_free: initialization is only
applied to unpoisoned allocations.

Slowdown for the new features compared to init_on_free=0, init_on_alloc=0:

hackbench, init_on_free=1:  +7.62% sys time (st.err 0.74%)
hackbench, init_on_alloc=1: +7.75% sys time (st.err 2.14%)

Linux build with -j12, init_on_free=1:  +8.38% wall time (st.err 0.39%)
Linux build with -j12, init_on_free=1:  +24.42% sys time (st.err 0.52%)
Linux build with -j12, init_on_alloc=1: -0.13% wall time (st.err 0.42%)
Linux build with -j12, init_on_alloc=1: +0.57% sys time (st.err 0.40%)

The slowdown for init_on_free=0, init_on_alloc=0 compared to the baseline
is within the standard error.

The new features are also going to pave the way for hardware memory
tagging (e.g.  arm64's MTE), which will require both on_alloc and on_free
hooks to set the tags for heap objects.  With MTE, tagging will have the
same cost as memory initialization.

Although init_on_free is rather costly, there are paranoid use-cases where
in-memory data lifetime is desired to be minimized.  There are various
arguments for/against the realism of the associated threat models, but
given that we'll need the infrastructure for MTE anyway, and there are
people who want wipe-on-free behavior no matter what the performance cost,
it seems reasonable to include it in this series.

[glider@google.com: v8]
  Link: http://lkml.kernel.org/r/20190626121943.131390-2-glider@google.com
[glider@google.com: v9]
  Link: http://lkml.kernel.org/r/20190627130316.254309-2-glider@google.com
[glider@google.com: v10]
  Link: http://lkml.kernel.org/r/20190628093131.199499-2-glider@google.com
Link: http://lkml.kernel.org/r/20190617151050.92663-2-glider@google.com
Signed-off-by: Alexander Potapenko <glider@google.com>
Acked-by: Kees Cook <keescook@chromium.org>
Acked-by: Michal Hocko <mhocko@suse.cz>		[page and dmapool parts
Acked-by: James Morris <jamorris@linux.microsoft.com>]
Cc: Christoph Lameter <cl@linux.com>
Cc: Masahiro Yamada <yamada.masahiro@socionext.com>
Cc: "Serge E. Hallyn" <serge@hallyn.com>
Cc: Nick Desaulniers <ndesaulniers@google.com>
Cc: Kostya Serebryany <kcc@google.com>
Cc: Dmitry Vyukov <dvyukov@google.com>
Cc: Sandeep Patil <sspatil@android.com>
Cc: Laura Abbott <labbott@redhat.com>
Cc: Randy Dunlap <rdunlap@infradead.org>
Cc: Jann Horn <jannh@google.com>
Cc: Mark Rutland <mark.rutland@arm.com>
Cc: Marco Elver <elver@google.com>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

Removed the drivers/infiniband/core/uverbs_ioctl.c part, which is not in
android-common 4.14 kernel.

Change-Id: I6b5482fcafae89615e1d79879191fb6ce50d56cf
Bug: 138435492
Test: Boot cuttlefish with and without
Test:   CONFIG_INIT_ON_ALLOC_DEFAULT_ON/CONFIG_INIT_ON_FREE_DEFAULT_ON
Test: Boot an ARM64 mobile device with and without
Test:   CONFIG_INIT_ON_ALLOC_DEFAULT_ON/CONFIG_INIT_ON_FREE_DEFAULT_ON
Signed-off-by: Alexander Potapenko <glider@google.com>
(cherry picked from commit 8a4e1fcd4b5899935bf2375e7f23af39b95aaede)
(cherry picked from commit d995564220bfeb91ca6fcfe0cb1a769bc89a918a)
(cherry picked from commit ac7d8fe375d0b940f43e6b39f0415de509ae48f3)
Signed-off-by: UtsavBalar1231 <utsavbalar1231@gmail.com>

---
## [petre-symfony/Stripe-Subscriptions-Webhooks-Discounts@2844f2f096...](https://github.com/petre-symfony/Stripe-Subscriptions-Webhooks-Discounts/commit/2844f2f096e019fcf0015404a7ca707335783ef9)
##### 2020-01-26 07:35:40 by petrero

19.1.Live Webhook Testing with Ngrok
If the automated tests aren't your thing, or if you just really want to see your webhooks in action... in real life, you've got two options.

Testing on Beta
The best way, honestly, is to test your webhooks for real, out in the wild, on a beta server. Yep, I simply mean: deploy your code to beta, setup a webhook to point to your beta server, and then start creating test subscriptions through your site.
The only problem is that some webhooks are harder to simulate than others. Want to simulate customer.subscription.deleted? No problem: create a subscription on your site, then log into Stripe and cancel it. Then watch the webhook magic happen.
But faking the invoice.payment_failed webhook because your card is being declined on subscription renewal... well... that's a bit harder. You could wait 1 month and see what happens... if you have a lot of time. Or, you could temporarily create a new subscription plan and set its interval to one day.
Then, you can test a different situation each day: like make sure the subscription renewal webhook works, then update your card to one that will fail, wait one more day, and see how your system handles the invoice.payment_failed webhook.
It's not perfect, it's slow, but it's totally real-world.

Using your Local Machine with Ngrok
The second option is to point a webhook at your local development machine. But wait! That's not possible: our local machine is not accessible by the internet.
Well... that doesn't have to be true. By using a cool utility called Ngrok, you can temporarily tunnel a public URL to your computer.
Let's try it! Since I already have ngrok installed, I can use it from any directory on my system:

ngrok http 8000
That will expose port 8000 - the one we're serving our site on - to the web via this cool public URL.
Refresh again! Hey, it's our site! Via a public URL.

Using the Ngrok URL as a Webhook Endpoint
Now we're super dangerous! In your Stripe Webhook configuration, add an endpoint. Paste the URL and put this in the "Test" environment. For now, just receive the customer.subscription.deleted event. Create the endpoint!
Oh, wait, make sure the endpoint URL ends in /webhooks/stripe. That's better!
In our app, we already have an active subscription. So, in Stripe, click "Customers" and open our one Customer. Find the top subscription and... cancel it! Immediately!
That should cause a webhook to be sent to our local machine. So, moment of truth: refresh the account page! Oh no! The subscription doesn't look canceled!
Hmm, go back to Stripe. At the bottom of the Customer page, you can see all the events for this Customer. Or, another way to look at this is by clicking "Events & webhooks" on the left. Ah! And we can see the customer.subscription.deleted event! And at the bottom, it shows that the webhook to our ngrok URL was successful.
So, refresh the account page again. Ah, now the subscription is canceled. We were just too fast the first time.
So, choose your favorite method of testing these crazy webhook things, and make sure they are bug-free.

---
## [mrakgr/The-Spiral-Language@7a392ff350...](https://github.com/mrakgr/The-Spiral-Language/commit/7a392ff3506e88bdf57a71b7c07d25a0aaf44d00)
##### 2020-01-26 11:28:48 by Marko GrdiniÄ‡

"11:20am. Today I will be taking a break as I went to sleep at 6am and haven't gotten a wink of rest. I am also hung over.

I am not going to be doing any good programming in this state, so I won't do it at all.

11:25am. The night was interesting. The experience really pushed me in a big way towards where I had already started going this month.

For the first time, I've looked back at my failures of the past 5 years from a confident perspective and it made me realize something.

Besides my main goal, I have really many contradictory desires which I've been dealing with by averting my eyes and suppressing them. One is protecting those close to me. As one might expect I do not exactly want to shove my own parents into the oven. I do not want to be heartless. I want to be honest with my desires.

But much like the human civilization was not exactly the best thing to happen to the animal kingdom, the next evolutionary step will be a pretty bad thing for >99.99% of all humans. The self improvement talent should not be a widespread thing.

11:35am. So causing this sort of situation to occur goes against that desire. I am really perplexed by this. It feels that I fell into the same trap as the rationalists except from a different angle.

11:40am. Maybe it is the drugs and the wine talking, but I've had a certain vision. I've neglected to consider something very obvious in predictions - unlike in say logic, contradictory desires are not necessarily errors in the program even though they feel that way subjectively. I do not know what exactly is going to happen post-Singularity, but it might turn out to be the case that contradictions themselves are the main source of inspiration. It is not necessarily the case that they need to be resolved.

The brain is hiding a lot of stuff that we do not know about in plain view. The way Singularity will play out pretty much all depends on algorithmic realities of intelligence.

11:45am. And one more thing - my vision is spinning here, so let me write it down quickly.

For the past 5 years I've been operating on the assumption that the brain is very stable. But if I think about it a bit more closely, there is no reason at all to make that assumption. There is no reason to think that it is not savescumming much like I intend to do from here on out.

If I 'died' a few times over the night, there is actually no way I could ever verify it. And the brain certainly has every incentive not to freak me out with the glitches in its programming, so that sort of phenomenon would never get noticed.

So much like with contradictory desires, I am going to make a simplifying assumption here as well since assumptions about what the brain is doing have an out-sized effect on ML research direction regardless of their truthfulness.

It might be wrong, but it is better strategically. If it turns out to be true and I assume the opposite, then I will have made a huge blunder by casting my net in the wrong algorithm design space. If it turns out to be false, and I assume it is true, then correcting that error will be really cheap.

So I haven't been playing the right way here up to now.

Lastly, I do not need to hide for all the deadends I've gone down and the lack of progress. Humans place great stock on momentum, but I feel that Inspired with a legacy of failure are more realistic than with one of success. Failing upward and going forth with the demeanor of a king regardless of the results is what a rational agent would do. It treat the pain of regret as a inspiration tap."

---
## [newstools/2020-the-guardian-uk@b2ede29a0d...](https://github.com/newstools/2020-the-guardian-uk/commit/b2ede29a0db476288725422f16751c038c419b44)
##### 2020-01-26 15:50:35 by NewsTools

Created Text For URL [www.theguardian.com/society/2020/jan/26/love-loss-and-virtual-memories-my-brothers-digital-legacy-manchester-terror-attacks]

---
## [j3lackfire/RestaurantGame@edcb607479...](https://github.com/j3lackfire/RestaurantGame/commit/edcb60747931992df9c0e22410f4be68b25ec0c7)
##### 2020-01-26 21:46:00 by Minh Duc

[30min]Not much, opened the unity editor since 10.15, but only able to work for half an hour (it's 11.42) now, because I kept procrasting soo much.
It's Tet (lunar new year) holiday, so I was quite relaxed, and not in the mood of doing much. I also play a lot of video games (the true reason, lol), finish Yakuza Kiwami 1, finish watching the yakuza 0 story on youtube (it's an amazing story), and is starting Yakuza kiwami 2. Also, just downloaded Metro Exodus since it's on Xbox Game Pass pc and it's so cheap, like 1e/3 months, so I want to test the most demanding video game on my brand new pc. And somehow finally finish the true last boss of slay the spire, so yeah, mostly video game.
I also got super drunk on new year eve and vomit like a lot, really terrible, but I have been dirnking since soon (like 1 330ml bottle beer on lunch, 0.5 beer at the bar, and then in the eveing, 4 guys of us drink one vodka and one wiskey, but only I was vomitting, yeah..)

---
## [lzenner/cases@53275d22d4...](https://github.com/lzenner/cases/commit/53275d22d4f15b9c3bc96b94529ca7e2f7d5c888)
##### 2020-01-26 23:51:49 by Laurel Zenner

Added Proper and Upper case versions of PRO_HISHER, PRO_BROTHERSISTER, PRO_MALEFEMALE, and PRO_SONDAUGHTER.
Added Pro (lower), Proper and Upper case versions of HISHERS, FATHERMOTHER, DADMOM, and PAPAMAMA

---

# [<](2020-01-25.md) 2020-01-26 [>](2020-01-27.md)

