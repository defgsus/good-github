# [<](2020-06-01.md) 2020-06-02 [>](2020-06-03.md)

2,593,252 events, 1,241,085 push events, 2,039,242 commit messages, 152,046,937 characters


## [CalaMariGold/Rebirth-Of-The-Night](https://github.com/CalaMariGold/Rebirth-Of-The-Night)@[2c34f2b075...](https://github.com/CalaMariGold/Rebirth-Of-The-Night/commit/2c34f2b0758180944dea24d7f266704a476d46ea)
#### Tuesday 2020-06-02 01:18:59 by Lucas

Added Cyclic for ROTN 2.77.5

What's new:
 -Scaffolding!: These are pretty useful for building or moving around without leaving a mess behind. Even the Undead love them! so much that they will now use them to pillar up without leaving those pesky nerdpoles behind!
 -Conveyor belt: An horizontally placed powered ladder basically; it moves things on top of it around and it's somewhat slow
 -Fluid pumps and cables: These can extract and transport ANY liquid from any container to another. (their recipe may be changed in the future to be more expensive if Ceramics get added)
 -XP Pylon!: A mid-late game machination that can store and deposit XP into bottles
 -Special Hawthorns: You know those berries that spawn all around, are pointy and don't taste that good? well horses love them! so amass a lot of these and get to cooking some horse upgrades!
 -Wands: There are a few new wands that can occur as loot or be crafted, including the Spirit Seeker, Evoker Fang and Engraved Thunder.
 -Merchant Almanac: A super useful trinket that will grant you the knowledge of and let you trade with all villagers in near vicinity, stonks!
 -Big button: It's a button, but big.
 -Doorbell: Turns out that by expertly sawing a note block into smaller blocks is the perfect way to get notified of visitors to your door
  -Dice: Using the power of RNG and Chaos, we've come up with a block that will randomly output a number from 1 to 6 when right-clicked (other notations not included)
 -Deadhorse Delight: Why keep flogging a dead horse when you can become friends with it? this nasty treat will ensure you become bbf's for the afterlife
 -Stirrups: Horses are not your thing? (even with all those upgrades? smh) using this new and durable device you will be able to mount whatever your wish... don't expect collaboration though.
 -Carbon Paper: An item that may be used to copy what's written on a sign and paste elsewhere
 -Prospecting Set!: The tools of an expert, these will let you know if there's a cave behind, below, above or in front of you by analizing the block blocking your path.
 -Ore Prospector Rod: The bigger cousin to the prospecting set, this delicate and expensive device will let you know what ores reside behind those walls.
 -Obsidian Shears: Volcanic glass is very sharp you know
 -Block Locator: A weird spinning doo-dah that will store the exact coordinates of whatever block it interacts with and display an outline of it no matter how far you are
 -Merchant's Cure: Ye old remedy for any villager, on top of curing zombie villagers it will restock their trades if they run out! Now where did I leave those ancient coins?
 -Water Candle: You know the drill, 4 is a bad number for your Feng Shui, so just throw 44 souls at an unsuspecting candle to turn it into a mob atracting machination, hostile mob spawn will increase with it.
 -Climbing Gloves: Last but not least! a sturdy, lightweight and extremely useful device (they are actually very comfortable for a Bauble). Now you can stop placing ugly dirt on mountain sides to get up those two blocks.

---
## [DarshanASC6/Conversation-Bot](https://github.com/DarshanASC6/Conversation-Bot)@[33de8e38a2...](https://github.com/DarshanASC6/Conversation-Bot/commit/33de8e38a20aa8c3235477c5b4e9164be119c766)
#### Tuesday 2020-06-02 03:11:57 by Darshan Singh

shleep

yah boy tired. It's kinda late. I have school tomorrow. Code no work. This is a cry for help.

---
## [ThePrimeagen/first-deno-project](https://github.com/ThePrimeagen/first-deno-project)@[943d1e7894...](https://github.com/ThePrimeagen/first-deno-project/commit/943d1e78941ef3fe36724e43b818b6ef8d31395a)
#### Tuesday 2020-06-02 03:40:02 by Michael Paulson

notehunotehunoteuhntoehu

THis is for the stream so fuck you

---
## [LucidityAM/The-Great-Fossil-Fetch-Final](https://github.com/LucidityAM/The-Great-Fossil-Fetch-Final)@[4e2be6f593...](https://github.com/LucidityAM/The-Great-Fossil-Fetch-Final/commit/4e2be6f593f2440b833e809616b6c5f3a1e17e90)
#### Tuesday 2020-06-02 07:20:53 by LucidityAM

Final boss IS FUCKING DONE YOU GOT DAMN PIECE OF SHIT BITCHES

---
## [irenebenedetto/MLDL-incremental-learning-project](https://github.com/irenebenedetto/MLDL-incremental-learning-project)@[dd42a58931...](https://github.com/irenebenedetto/MLDL-incremental-learning-project/commit/dd42a58931d7246eee7384e6e57dffd7fb00045a)
#### Tuesday 2020-06-02 07:40:13 by m-pana

Changed default split seed from 3 to 2124

The reason why is actually a very interesting story. It was a dark and 
stormy night, and i had an epiphany. I had dreamt of a seed which would 
let us achieve the astounding performances of iCaRL's paper. I looked at 
my Rebuffi poster and shouted "EUREKA"! I rushed to my desk, frantically 
opened Atom, and shed tears of joy as i changed the random seed from 3 
to 2124. That was it. I had won. Knowledge, wisdom, the power of 
incremental learning, i was clutching them all in my hands. The future 
was bright.
(actually it was just 21:24 when i needed to change seed)

---
## [mrakgr/The-Spiral-Language](https://github.com/mrakgr/The-Spiral-Language)@[da5824967b...](https://github.com/mrakgr/The-Spiral-Language/commit/da5824967b02da920a51effdcb74b05828399f59)
#### Tuesday 2020-06-02 10:36:47 by Marko GrdiniÄ‡

"8:20am. Tonight's sleep was heavy on the dreams, but it was restful in the end. The way one sleeps is definitely related to how stress gets worked off, and this kind of sleep is good for that.

8:55am. Enough of the /a/ threads. Let me catch up with FLFO and then I'll start. New OPM chapter is up too.

9:55am. Let me finally start.

https://www.youtube.com/watch?v=kiIjNgNFzmg
Gearman and ZeroMQ, two different animals by Jachim Coudenys

Yesterday this video caught my attention so I'll watch it. First time hearing about Gearman.

10am. https://www.nginx.com/resources/glossary/round-robin-load-balancing/

I've been wondering about how dealer and push sockets do load balancing and the guide says they use round robin. So it is the simple possible scheme and does not do any explicit sensing of whether the server is free.

I am going to have to go with the request server + explicit load balancing like in the example then.

10:20am. Forget this video. I need to move to the guide. Let me pry myself off from the KB thread and I'll do it properly. I want to go trough at least two examples today.

10:30am.

```
        let balancer (log : string -> unit) (poller : NetMQPoller) =
            init RouterSocket poller (bind uri_frontend) <| fun frontend ->
            init RouterSocket poller (bind uri_backend) <| fun backend ->

            let workers = Queue()
            let clients = Queue()

            let queue_try_work () =
                if clients.Count > 0 && workers.Count > 0 then
                    let client : NetMQMessage = clients.Dequeue()
                    let worker : NetMQFrame = workers.Dequeue()
                    client.PushEmptyFrame()
                    client.Push(worker)
                    backend.SendMultipartMessage(client)

            use __ = frontend.ReceiveReady.Subscribe(fun x ->
                let msg = x.Socket.ReceiveMultipartMessage()
                clients.Enqueue(msg)
                queue_try_work()
                )
            use __ = backend.ReceiveReady.Subscribe(fun x ->
                let msg = x.Socket.ReceiveMultipartMessage()
                let address = msg.Pop()
                msg.Pop() |> ignore
                match msg.FrameCount / 2 with
                | 0 -> () // ready
                | _ -> frontend.SendMultipartMessage(msg) // local message
                workers.Enqueue(address)
                queue_try_work()
                )
            poller.Run()
```

This should do it for the balancer. Now let me do the worker, and after that I'll do the client.

```
        let worker (log : string -> unit) (poller : NetMQPoller) =
            init RequestSocket poller (connect uri_backend) <| fun worker ->
            worker.SendFrameEmpty()
            log "Ready"
            let rnd = Random()
            use __ = worker.ReceiveReady.Subscribe(fun _ ->
                let msg = worker.ReceiveMultipartMessage()
                Thread.Sleep(rnd.Next(20))
                worker.SendMultipartMessage(msg)
                )
            poller.Run()
            log "Done."
```

This should do it for the worker.

10:35am.

```
    module SimplePirate =
        let uri x = sprintf "ipc://simple_pirate/%s" x
        let uri_frontend = uri "frontend"
        let uri_backend = uri "backend"

        let task_id = let x = ref 0 in fun () -> Interlocked.Add(x,1)
        let timeout = TimeSpan.FromSeconds 0.5
        let num_requests = 20
        let num_retries = 6
        let client (log : string -> unit) (poller : NetMQPoller) =
            let rec loop_req i =
                let id = task_id()
                let rec loop_retry retries =
                    let is_succ =
                        init RequestSocket poller (connect uri_backend) <| fun req ->
                        req.SendFrame(sprintf "task %i" id)
                        let mutable s = null
                        if req.TryReceiveFrameString(timeout,&s) then log <| sprintf "Received: %s" s; true
                        else log <| sprintf "Task %i timed out." id; false
                    if is_succ then loop_req (i+1)
                    elif retries > 0 then log "Retrying..."; loop_retry (retries-1)
                    else log "Aborting."
                if i < num_requests then loop_retry num_retries
                else log "Done."
            loop_req 0

        let worker (log : string -> unit) (poller : NetMQPoller) =
            init RequestSocket poller (connect uri_backend) <| fun worker ->
            worker.SendFrameEmpty()
            log "Ready"
            let rnd = Random()
            use __ = worker.ReceiveReady.Subscribe(fun _ ->
                let msg = worker.ReceiveMultipartMessage()
                Thread.Sleep(rnd.Next(20))
                worker.SendMultipartMessage(msg)
                )
            poller.Run()
            log "Done."

        open System.Collections.Generic
        let balancer (log : string -> unit) (poller : NetMQPoller) =
            init RouterSocket poller (bind uri_frontend) <| fun frontend ->
            init RouterSocket poller (bind uri_backend) <| fun backend ->

            let workers = Queue()
            let clients = Queue()

            let queue_try_work () =
                if clients.Count > 0 && workers.Count > 0 then
                    let client : NetMQMessage = clients.Dequeue()
                    let worker : NetMQFrame = workers.Dequeue()
                    client.PushEmptyFrame()
                    client.Push(worker)
                    backend.SendMultipartMessage(client)

            use __ = frontend.ReceiveReady.Subscribe(fun x ->
                let msg = x.Socket.ReceiveMultipartMessage()
                clients.Enqueue(msg)
                queue_try_work()
                )
            use __ = backend.ReceiveReady.Subscribe(fun x ->
                let msg = x.Socket.ReceiveMultipartMessage()
                let address = msg.Pop()
                msg.Pop() |> ignore
                match msg.FrameCount / 2 with
                | 0 -> () // ready
                | _ -> frontend.SendMultipartMessage(msg) // local message
                workers.Enqueue(address)
                queue_try_work()
                )
            poller.Run()
```

Let me plug this into the UI and then I'll look at the book code to see what sort failures might happen on the server side.

10:50am. Had to take a little break. Let me resume.

10:55am. It is not working for some reason. I'll have to figure out why.

```
init RequestSocket poller (connect uri_backend) <| fun req ->
```

It is connecting to the wrong thing.

Ok, now it works. Let me check out the guide code.

It uses the same worker as in the lazy example. Ok...

11:05am.

```
        let worker (log : string -> unit) (poller : NetMQPoller) =
            init RequestSocket poller (connect uri_backend) <| fun res ->
            res.SendFrameEmpty()
            log "Ready"
            let rnd = Random()
            let rec loop i =
                let msg = res.ReceiveMultipartMessage()
                let tired = 2 < i
                //if tired && rnd.Next(8) = 0 then log "Simulating a crash." else
                if tired && rnd.Next(3) = 0 then log "Simulating an overload."; Thread.Sleep(timeout)
                //Thread.Sleep(timeout/2.0)
                log <| sprintf "Got: %s" (msg.Last.ConvertToString())
                res.SendMultipartMessage(msg)
                loop (i+1)

            loop 0
```

This is not good. For some reason timeouts cause the whole thing to die.

I do not get it. Even when I increase the number of retries to 15 it still fails. Why are overloads so troublesome?

11:10am. Ah, I get it. The reason has be because even though the request gets cancelled, there are still stale requests in the queue.

11:15am. Fuck.

I have no choice at this point. I have to ask how to do ZeroMQ style pooling in NetMQ. This is ridiculous.

https://github.com/NetMQ/Samples/tree/master/src/Load%20Balancing%20Pattern

Ah, there is something here.

That guy is not reading my issues at all.

11:25am. https://github.com/NetMQ/Samples/blob/master/src/Load%20Balancing%20Pattern/ROUTERbrokerREQworkers/Program.cs

He does not even do pooling here. Agh...

I am going to have to ask.

https://github.com/NetMQ/Samples/blob/master/src/Pirate%20Pattern/Simple%20Pirate/SimplePirate.Client/Program.cs

There is something here.

```
                while (true)
                {
                    backend.Poll(TimeSpan.FromMilliseconds(500));

                    if (workerQueue.Count > 0)
                        frontend.Poll(TimeSpan.FromMilliseconds(500));
                }
```

This is how it implements the loop?

Seriously, how does poller run work? This library is ridiculous.

11:45am. Now I am looking at NetMQ library. I've decided - I really do not like this library. It is causing me so much annoyance with the way it does polling. Based on the sample code, the author of it is a somewhat mediocre programmer with no sense for good design. He should not have deviated from the original design of ZeroMQ. The way ZeroMQ does polling is a variant of the MVU pattern, but what NetMQ does is starkly inferior to that.

11:50am. I have chores waiting for me, so I am really feeling pressured by this. I can't believe I am still stuck on this shit. I've done several variants of load balancing by now and none of them are good.

12:25pm. https://stackoverflow.com/questions/62149865/is-there-a-way-to-do-zeromq-style-polling-in-netmq

I asked this question. An idea is coming to me though. I hadn't planned on doing this, but why don't I ditch the NetMQ library since it is giving me all this trouble and switch to the ZeroMQ bindings one?

12:35pm. Let me stop here as I need to do the chores and have breakfast."

---
## [bertearazvan/friends_and_posts_react_node](https://github.com/bertearazvan/friends_and_posts_react_node)@[bb95c96652...](https://github.com/bertearazvan/friends_and_posts_react_node/commit/bb95c966523104925a62cdfbb5d35b33ae9c1757)
#### Tuesday 2020-06-02 11:34:14 by bertearazvan

Merge branch 'master' of https://github.com/bertearazvan/friends_and_posts_react_node
commit message fuck this shit

---
## [kurpingspace2/kractl](https://github.com/kurpingspace2/kractl)@[f8f29ec3d1...](https://github.com/kurpingspace2/kractl/commit/f8f29ec3d1c8d2d15c4f1772c635771ead954ca8)
#### Tuesday 2020-06-02 14:38:30 by kurpingspace2

fixed a few bugs

~ total servers are not re-counted every time the bot leaves/joins a server
~ removing multiple spaces actually works now
~ fixed an issue with the new prefix system
~ channels shouldn't get replaced when a ping is in the same phrase
~ removed support discord fuck you public bot sites you suck and i hate you smelly :(

---
## [cansat-ptl/cansat-kernel-v2](https://github.com/cansat-ptl/cansat-kernel-v2)@[45c67124be...](https://github.com/cansat-ptl/cansat-kernel-v2/commit/45c67124bec17d15f5a866c1b3f46fc4bf998506)
#### Tuesday 2020-06-02 15:16:26 by ThePetrovich

Final revision of scheduler algorithm
kernel: rewritten scheduler from scratch (hate my life), proper round-robin is now a thing
kernel: implemented priority queues and O(1) scheduler
kernel: everything now uses doubly linked lists

---
## [Codehoff/UniFind2](https://github.com/Codehoff/UniFind2)@[5d802b224a...](https://github.com/Codehoff/UniFind2/commit/5d802b224ae1ee938ea378c68ac42f7a5d19b3f7)
#### Tuesday 2020-06-02 16:12:36 by Enno Kirchhoff

Merge pull request #3 from Codehoff/fuck-you-SCHEMA

fuck you schemaaa

---
## [Freegame94/Ping.](https://github.com/Freegame94/Ping.)@[0d2839320e...](https://github.com/Freegame94/Ping./commit/0d2839320e4d6135b24e216d54ac115dd342ef00)
#### Tuesday 2020-06-02 16:22:26 by Cristopherlz

ss

Welcome! ðŸ‘‹
Thanks for checking out this front-end coding challenge.

Frontend Mentor challenges allow you to improve your skills in a real-life workflow.

To do this challenge, you need a basic understanding of HTML, CSS and JavaScript.

The challenge
Your challenge is to build out this Coming Soon page and get it looking as close to the design as possible.

You can use any tools you like to help you complete the challenge. So if you've got something you'd like to practice, feel free to give it a go.

Your users should be able to:

View the optimal layout for the site depending on their device's screen size
See hover states for all interactive elements on the page
Submit their email address using an input field
Receive an error message when the form is submitted if:
The input field is empty. The message for this error should say "Whoops! It looks like you forgot to add your email"
The email address is not formatted correctly (i.e. a correct email address should have this structure: name@host.tld). The message for this error should say "Please provide a valid email address"
Want some support on the challenge? Join our Slack community and ask questions in the #help channel.

Where to find everything
Your task is to build out the project to the designs inside the /design folder. You will find both a mobile and a desktop version of the design to work to.

The designs are in JPG static format. This will mean that you'll need to use your best judgment for styles such as font-size, padding and margin. This should help train your eye to perceive differences in spacings and sizes.

If you would like the Sketch file in order to see sizes etc, it is available to download from the challenge page.

You will find all the required assets in the /images folder. The assets are already optimized.

There is also a style-guide.md file, which contains the information you'll need, such as color palette and fonts.

Building your project
Feel free to use any workflow that you feel comfortable with. Below is a suggested process, but do not feel like you need to follow these steps:

Initialize your project as a public repository on GitHub. This will make it easier to share your code with the community if you need some help. If you're not sure how to do this, have a read through of this Try Git resource.
Configure your repository to publish your code to a URL. This will also be useful if you need some help during a challenge as you can share the URL for your project with your repo URL. There are a number of ways to do this, but we recommend using Vercel. We've got more information about deploying your project with Vercel below.
Look through the designs to start planning out how you'll tackle the project. This step is crucial to help you think ahead for CSS classes that you could create to make reusable styles.
Before adding any styles, structure your content with HTML. Writing your HTML first can help focus your attention on creating well-structured content.
Write out the base styles for your project, including general content styles, such as font-family and font-size.
Start adding styles to the top of the page and work down. Only move on to the next section once you're happy you've completed the area you're working on.
If you'd like to try making your project fully responsive, we'd recommend checking out Sizzy. It's a great browser that makes it easy to view your site across multiple devices.
Deploying your project
As mentioned above, there are a number of ways to host your project for free. We recommend using Vercel as it's an amazing service and extremely simple to get set up with. If you'd like to use Vercel, here are some steps to follow to get started:

Sign up to Vercel and go through the onboarding flow, ensuring your GitHub account is connected by using their Vercel for GitHub integration.
Connect your project to Vercel from the "Import project" page, using the "From Git Repository" button and selecting the project you want to deploy.
Once connected, every time you git push, Vercel will create a new deployment and the deployment URL will be shown on your Dashboard. You will also receive an email for each deployment with the URL.
Sharing your solution
There are multiple places you can share your solution:

Submit it on the platform so that other users will see your solution on the site. Here's our "Complete guide to submitting solutions" to help you do that.
Share your solution page in the #finished-projects channel of the Slack community.
Tweet @frontendmentor and mention @frontendmentor including the repo and live URLs in the tweet. We'd love to take a look at what you've built and help share it around.
Giving feedback
Feedback is always welcome, so if you have any to give on this challenge please email hi[at]frontendmentor[dot]io.

This challenge is completely free. Please share it with anyone who will find it useful for practice.

Have fun building! ðŸš€

Community Sponsors
A massive thank you to our community sponsors!

Vercel offers an amazing website hosting service, which is super simple to set up. Just connect your GitHub account, point to a repo and your site will be deployed. Perfect for your website and frontend hosting needsâ€Š-â€Šespecially since it's free to get started!
Sizzy is an extremely useful browser designed specifically to improve a developer's workflow when building websites. You can fire up multiple device emulators and run them all in sync while building out your web pages. Perfect for helping build fully responsive websites!
Dracula PRO is a beautiful dark theme to help keep you focused and productive while you code. The theme isn't just for your editor either. You can also apply it to your most-used apps like your terminal and even Slack!

---
## [deliciousmods/1956_beta](https://github.com/deliciousmods/1956_beta)@[e691b000b3...](https://github.com/deliciousmods/1956_beta/commit/e691b000b314da7656d7ceddf04fdf3ab3dbfe02)
#### Tuesday 2020-06-02 17:34:02 by Thinking-waffle

Waffle may 5 (#1271)

* last batch of things

* Many things

Fix missing stats radola gadja as marshal
fix decision where USA could annex SOV and force peace on the eastern front through the friendship of magic taken from ponnies
Added game rule to give agencies to everybody
Unique name for Austrian agency
Russian female names
Some details about intervention in spain for France
Fixing graphism of Austrian heavy fightter bomber

* Makes yugoslavia pick between allies and axis a bit better.

* Some spying events and effects related to game rules

* slavic female names

* debug my earlier changes

---
## [mrakgr/The-Spiral-Language](https://github.com/mrakgr/The-Spiral-Language)@[41647a3d5a...](https://github.com/mrakgr/The-Spiral-Language/commit/41647a3d5acb1ac9b7fc7765ad6ceea140100d96)
#### Tuesday 2020-06-02 18:15:23 by Marko GrdiniÄ‡

"7:05pm. I am done with lunch and while it is still raining outside, the thunder seems to have gone.

Let me do more programming.

```
                        req.SendFrameEmpty()
                        req.SkipFrame()
```

Let me do this like so.

```
                        frontend.SkipMultipartMessage()
                        frontend.SendFrameEmpty()
```

Yeah, the reason everything is broken is because I completely forgot the protocol.

```
frontend.ReceiveMultipartMessage() |> frontend.SendMultipartMessage
```

I forgot that the address is needed to send the message back.

Now let me see if this handshake changes things. If the client literally starts waiting once the message is sent then no wonder things are broken.

7:10pm. Now things are more stable, but the workers get empty frames sometimes. I know why that is. Crap.

```
                    in' frontend (fun _ ->
                        frontend.ReceiveMultipartMessage() |> frontend.SendMultipartMessage
                        let msg = frontend.ReceiveMultipartMessage()
                        msg.PushEmptyFrame()
                        msg.Push(workers.Dequeue())
                        backend.SendMultipartMessage(msg)
                        )
```

There is nothing to guarantee that the second message received here will be from the same user.

...This really is a large problem.

You know what, let me change to the dealer socket. Because this is ridiculous.

```
                        init DealerSocket poller (connect uri_frontend) <| fun req ->
                        req.SendFrame(sprintf "task %i" id)
                        req.SkipMultipartMessage()
                        let mutable s = null
                        if req.TryReceiveFrameString(timeout,&s) then log <| sprintf "Received: %s" s; true
                        else log <| sprintf "Task %i timed out." id; false
```

Let me try something like this. Actually, I need to see what gets printed. For some reason the dealer sockets get that empty frame first. That confused me in the previous example and I did not look into it too much.

```
                        let msg = req.ReceiveMultipartMessage()
                        NetMQMessage.show msg |> log
```

No it does not seem like I get an extra empty frame. That was only when I set the identity on the dealer and sent a message directly.

7:20pm. Ok, I've got it.

```
                        init DealerSocket poller (connect uri_frontend) <| fun req ->
                        req.SendFrame(sprintf "task %i" id)
                        req.SkipMultipartMessage()
                        let mutable s = null
                        if req.TryReceiveFrameString(timeout,&s) then log <| sprintf "Received: %s" s; true
                        else log <| sprintf "Task %i timed out." id; false
```

...

```
                    in' frontend (fun _ ->
                        let msg = frontend.ReceiveMultipartMessage()
                        frontend.SendMultipartMessage(msg)
                        msg.PushEmptyFrame()
                        msg.Push(workers.Dequeue())
                        backend.SendMultipartMessage(msg)
                        )
```

Since I've added this handshaking things are much more stable now. Let me add that timeout.

7:20pm. Yeah, it is super stable, even with overloads.

```
frontend.SendFrame(msg.First.Buffer,true); frontend.SendFrameEmpty()
```

Let me reply without any message.

```
frontend.SendFrame(msg.First.Buffer,true); frontend.SendFrameEmpty()
```

It works, but do I even need that last empty delimiter?

```
frontend.SendFrame(msg.First.Buffer)
```

Let me try just this.

Nope. It needs empty delimiter after all.

7:30pm.

```
                        req.SendFrame(sprintf "task %i" id)
                        req.SkipMultipartMessage() // I am doing a little trick to make the send synchronous.
```

Is there no way to make the send to a router socket synchronous.

```
                        if req.TrySendFrame(timeout,sprintf "task %i" id) then
                            let mutable s = null
                            if req.TryReceiveFrameString(timeout,&s) then log <| sprintf "Received: %s" s; true
                            else log <| sprintf "Task %i timed out." id; false
                        else log <| sprintf "Task's send %i timed out." id;false
```

Let me try this though I doubt it will work.

```
                        if req.TrySkipMultipartMessage(timeout) then // I am doing a little trick to make the send synchronous.
                            let mutable s = null
                            if req.TryReceiveFrameString(timeout,&s) then log <| sprintf "Received: %s" s; true
                            else log <| sprintf "Task %i timed out." id; false
                        else log <| sprintf "Task send %i timed out." id; false
```

It did not work. Let me try this out and then I will call it a day. I am tired of experimenting.

7:55pm.

```
                        if req.TrySkipMultipartMessage(timeout*3.0) then // I am doing a little trick to make the send synchronous.
                            let mutable s = null
                            if req.TryReceiveFrameString(timeout,&s) then log <| sprintf "Received: %s" s; true
                            else log <| sprintf "Task %i timed out." id; false
                        else log <| sprintf "Task send %i timed out." id; false
```

This works, but now I am just fiddling with settings.

```
                        init DealerSocket poller (connect uri_frontend) <| fun req ->
                        req.SendFrame(sprintf "task %i" id)
                        if req.TrySkipMultipartMessage(timeout*3.0) then // I am doing a little trick to make the send synchronous.
                            let mutable s = null
                            if req.TryReceiveFrameString(timeout,&s) then log <| sprintf "Received: %s" s; true
                            else log <| sprintf "Task %i's work timed out." id; false
                        else log <| sprintf "Task %i's send timed out." id; false
```

Let me go with this. Damn, I am beat from this today. As it turns out the two queue thing had nothing to do with the problem - even though the way I am doing polling now is undoubtedly simpler.

```
        let uri_frontend = "ipc://simple_pirate"
        let uri_backend = "inproc://simple_pirate"
```

Let me use `inproc` for workers.

8:10pm. 172/515. Made the Lithe commit. I ended up writing quite a bit in it.

Let me close the day here for real. I really did have enough for today.

Hopefully tomorrow things will go faster, but often those hopes end up being dashed when going through the ZeroMQ guide.

Nothing in it goes against common sense - expect the polling thing which I've resolved, but it really is taking me long to learn this. I have no idea when I started this anymore."

---
## [jenniferlawewn/FREEFORTNITEVBUCKSGENERATOR](https://github.com/jenniferlawewn/FREEFORTNITEVBUCKSGENERATOR)@[32bd7691e2...](https://github.com/jenniferlawewn/FREEFORTNITEVBUCKSGENERATOR/commit/32bd7691e2674b5c34b7fe46d67f6ee84c7f94b2)
#### Tuesday 2020-06-02 18:34:57 by jenniferlawewn

Update README.md

Free V Bucks Code | Fortnite Free V Bucks Generator 2020 | Free V Bucks
This is it now. Find How To Get V Bucks For Free. We will Help you. Visit us! Search for How To Get V Bucks For Free. Updated Info Here! Find it Now. Get More Results. Latest Today. Free V Bucks Generator To Get more then in Your Fortnite Account a Easy Steps Claim it Now Free Vbucks Generator...

Click Here >> https://bit.ly/2XNOWKp

Click Here >> https://bit.ly/2XNOWKp

Fortnite Free V Bucks Generator 2020..Free V Bucks Generator (Get Fortnite Free V Bucks Generator Unlimited Free V Bucks) is a Fortnite Battle Royale 2020 game trick..fortnite v bucks generator | free v bucks generator | free v bucks generator, v bucks generator no survey | v bucks generator no human verification, v bucks ...

Free V Bucks, FREE V-BUCKS GENERATOR, Free V Bucks Generator, FREE V BUCKS FORTNITE, FREE V BUCKS HACK, Fortnite Generator, Fortnite V Bucks, FORTNITE V BUCKS HACK, FORTNITE HACK V BUCKS, FORTNITE V BUCKS GENERATOR, FORTNITE FREE V BUCKS GENERATOR, VBuck Generator, V Buck Generator, V Buck Generators, V Bucks Generator, V-BUCKS FREE, V-BUCKS GENERATOR, V Bucks Free, How to Get Free V Bucks

Fortnite Fortnite Hack Fortnite Hack Generator Fortnite Free V Bucks Generator No Survey Fortnite Free V Bucks Generator No Verification Fortnite Free V Bucks Generator no Download no Offers Fortnite Free V Bucks Generator 20 Fortnite hack Free V Bucks Fortnite v bucks generator Fortnite v bucks generator no human verification season 9 Fortnite v bucks generator no human verification Fortnite v bucks generator season 11 Fortnite v bucks generator no verification Fortnite v bucks generator 20 Fortnite v bucks generator free Fortnite v bucks generator ad Fortnite v bucks generator no human verification or survey Fortnite v bucks generator unblocked Fortnite v bucks generator 20 ps4 Fortnite v bucks generator app Fortnite v bucks generator tool Fortnite v bucks generator pro Fortnite v bucks generator season 8 Fortnite v bucks generator download Fortnite v bucks generator for Nintendo switch Fortnite v bucks generator pro v2.211 Fortnite Fortnite v bucks generator and skins Fortnite v bucks generator apk Fortnite v bucks generator app download Fortnite v bucks generator android Fortnite v bucks generator and battle pass Fortnite v bucks generator with automatic human verification Fortnite free v bucks generator app Fortnite v-bucks generator that actually works Free v bucks generator Nintendo switch no human verification Free v bucks generator for the switch Fortnite free v bucks generator Xbox one Free v bucks generator pro no verification Free v bucks generator IOS no human verification Free v bucks generator without survey Free v bucks generator pc Free v bucks generator no human verification mobile Free v bucks generator for Fortnite Free v bucks generator that actually works Free v bucks generator 20 no human verification free v bucks generator free v bucks generator no human verification 20 free v bucks generator ad free v bucks generator that actually works free v bucks generator season 11 free v bucks generator mobile free v bucks generator no download free v bucks generator without human verification ps4 free v bucks generator that works free v bucks generator android free v bucks generator ios free v bucks generator pro free v bucks generator season 11 free v bucks generator no human verification pc free v bucks generator 20 free v bucks generator fortnite free v bucks generator xbox one free v bucks generator no verification ps4 fortnite free v bucks generator season 11 fortnite free v bucks generator mobile free v bucks generator no human verification mobile free v bucks generator without downloading apps free v bucks generator no app download free v bucks generator no human verification ps4 fortnite free v bucks generator no human verification ps4 free v bucks generator no human verification or survey ps4 free v bucks generator android no human verification free v bucks generator ios no human verification free v bucks generator ios no verification free v bucks generator iphone fortnite free v bucks generator ios free v bucks generator pro ios free v bucks generator 2020 ios fortnite free v bucks generator no human verification ios free v bucks generator pro v2.211 free v bucks generator pro no verification free v bucks generator pro version v bucks generator pro hack free code 20 fortnite free v bucks generator pro free v bucks generator season 11 no human verification fortnite free v bucks generator season 11 fortnite free v bucks generator no human verification pc free v bucks hack pc no human verification free v bucks generator 20 no human verification free v bucks generator 20 ps4 free v bucks generator 20 no verification fortnite battle royale free v bucks generator 2020 free v bucks generator fortnite no verification free v bucks generator fortnite battle royale free v bucks generator fortnite money free v bucks generator fortnite no human verification free v bucks generator fortnite ps4 free v bucks fortnite generator without human verification fortnite free v bucks generator fortnite money navetic gaming get free v bucks fortnite generator fortnite free v bucks generator navetic gaming free v bucks generator xbox one no human verification free v bucks generator xbox one no survey free v bucks generator xbox 1 fortnite free v bucks generator xbox one free v bucks generator for xbox one no verification how to get free v bucks xbox one generator fortnite free v bucks generator pro v2.211 fortnite free v bucks generator no verification or survey fortnite free v bucks generator no verify fortnite free v bucks generator no human verification or survey fortnite free v bucks generator no human verification nintendo switch fortnite free v bucks generator no human verification xbox fortnite free v bucks generator no human verification xbox one free v bucks fortnite ps4 generator no human verification free v bucks fortnite generator no human verification free v bucks fortnite hack no human verification fortnite free v bucks hack without human verification free v bucks fortnite generator free v bucks fortnite generator ps4 free v bucks fortnite generator no verification get your free v bucks fortnite v bucks generator free vbucks xbox one generator free v bucks generator xbox one s free v bucks generator no human verification or survey xbox 1 fortnite free v bucks generator no verification fortnite free v bucks generator without verification fortnite free v bucks generator no human verification fortnite free v bucks generator without human verification fortnite free v bucks generator with no human verification fortnite free v bucks hack no human verification fortnite free v bucks glitch no human verification free v bucks fortnite generator ad fortnite free v bucks hack no verification free v bucks xbox one generator free v bucks xbox one generator no human verification free vbucks fortnite xbox one generator free fortnite v bucks xbox one generator fortnite free v bucks generator no human verification no survey free v bucks hack xbox one no human verification free v bucks fortnite xbox one generator fortnite free v bucks fortnite free v bucks generator fortnite free v bucks generator no human verification fortnite free v bucks generator ps4 fortnite free v bucks hack fortnite free v bucks no human verification fortnite free v bucks code fortnite free v bucks app fortnite free v bucks ps4 fortnite free v bucks no verification buckfort fortnite free v bucks fortnite free v bucks generator 2019 fortnite free v bucks glitch fortnite free v bucks without human verify fortnite free v bucks with no human verification fortnite free v bucks without human verification fortnite free v bucks season 9 fortnite free v bucks nintendo switch fortnite free v bucks website fortnite free v bucks 2019 fortnite free v bucks and skins how to get fortnite free v bucks fortnite free v bucks ad game-reward/fortnite free v bucks fortnite free v bucks generator nintendo switch fortnite free v bucks hack no human verification fortnite free v bucks for nintendo switch fortnite free v bucks hack xbox one fortnite free v bucks xbox one is fortnite giving free v bucks fortnite battle royale free v bucks hack fortnite free v bucks.win fortnite free v bucks no survey fortnite free vbucks no human verification or survey fortnite free v bucks online fortnite free v bucks generator real fortnite free the v bucks fortnite free v bucks no verification xbox fortnite free v bucks xbox 1 fortnite free v bucks for ps4 free fortnite v bucks without downloading apps fortnite free v bucks season 7 fortnite free v bucks without verification fortnite free v bucks generator 2019 no human verification fortnite battle royale free v bucks generator fortnite free v bucks boost fortnite free v bucks season 8 how to hack fortnite free v bucks fortnite free v bucks no human verification nintendo switch fortnite free v bucks ps4 no human verification fortnite daily free v bucks fortnite free v bucks for pc fortnite free v bucks hack download free 950 v bucks fortnite facebook fortnite free v bucks mobile fortnite free v bucks scams fortnite free v bucks quiz fortnite free v bucks no survey or verification fortnite free v bucks no download fortnite free v bucks hack 2019 fortnite for free v bucks fortnite free v bucks ps4 season 6 fortnite free v bucks season 6 free v bucks fortnite battle royale no human verification fortnite how to get free v bucks season 8 fortnite free v bucks.org fortnite free v bucks no verification or survey fortnite free v bucks xbox fortnite free v bucks survey does fortnite free v bucks work fortnite free v bucks working fortnite free v bucks generator ios fortnite free v bucks xbox one no human verification fortnite free v bucks code pc fortnite free v bucks android fortnite how to get free v bucks season 7 fortnite free v bucks meme fortnite free v bucks iphone fortnite free v bucks method fortnite free v bucks on xbox one fortnite how to get free v bucks season 9 hacks for fortnite free v bucks fortnite free v bucks easy keep your account secure fortnite free v bucks fortnite free v bucks unlimited fortnite free v bucks save the world fortnite free v bucks for ios fortnite free v bucks generator season 10 fortnite free v bucks youtube fortnite free v bucks generator easy fortnite free v bucks generator season 8 fortnite free v bucks pc fortnite free v bucks online generator fortnite free v bucks pc no human verification fortnite free v bucks for xbox fortnite 950 v bucks free epic games fortnite free v bucks ps4 generator fortnite free 500 v bucks fortnite free v bucks xbox no human verification free v bucks fortnite ps4 season 8 fortnite free v bucks event fortnite free v bucks battle royale fortnite free v bucks special event fortnite free v bucks mission fortnite free v bucks generator season 7 fortnite free v bucks no verification ios fortnite free v bucks generator no download no offers fortnite free v bucks on nintendo switch fortnite online generator generate free v-bucks for your account fortnite free v bucks hack ps4 fortnite free v bucks generator without verification fortnite free v bucks xbox one 2018 fortnite free v bucks no verification ps4 fortnite free v bucks ios fortnite free v bucks hack generator fortnite free v bucks that works fortnite free v bucks rewards fortnite free v bucks 2fa fortnite free v bucks generator no human verification season 9 loot fortnite free v bucks fortnite free v bucks ios no human verification how to get free v bucks fortnite season 7 glitch fortnite free v bucks redeem code fortnite get your free v-bucks now fortnite free v bucks on mobile fortnite free v bucks apk fortnite free v bucks generator download fortnite free v bucks no scams fortnite free v bucks 13500 fortnite free v bucks add is fortnite giving away free v bucks fortnite free v bucks ipad fortnite free v bucks us fortnite free v bucks for xbox one fortnite free v bucks ps4 app fortnite free v bucks account free v-bucks fortnite battle royale generator fortnite free v bucks reddit fortnite free v bucks ps4 2019 fortnite tracker free v bucks does fortnite give free v bucks fortnite free 1 000 v bucks fortnite battle royale free v bucks no human verification fortnite free v bucks ps4 hack fortnite free v bucks on pc fortnite free v bucks download fortnite free v bucks hack ios fortnite free v bucks boost working 2018 fortnite free v bucks 2018 fortnite free v bucks generator mobile fortnite free v bucks epic games fortnite free v bucks for mobile fortnite season 7 free v bucks no verification fortnite free v bucks generator 2018 fortnite free v bucks legit fortnite get your free v bucks fortnite free v bucks hack no verification fortnite free v bucks card fortnite free v bucks switch free-v bucks-fortnite 01 fortnite free v bucks on ps4 fortnite free v bucks generator season 9 fortnite free v bucks generator legit fortnite hacks free v bucks mobile get free v bucks fortnite upgrade fortnite free v bucks hack nintendo switch fortnite free v bucks unlimited v bucks hack fortnite can you get free v bucks cheat codes for fortnite free v bucks fortnite free v bucks on ipad fortnite free v bucks epic games website fortnite free v bucks legal is fortnite free v bucks legit fortnite free v bucks instagram fortnite free v bucks forum fortnite to get free v bucks fortnite free v bucks glitch mobile fortnite free 2 000 v bucks fortnite free v bucks without survey fortnite free v bucks update fortnite free v bucks no virus fortnite free v bucks no verification generator fortnite free v bucks 1000 how to get free v bucks fortnite youtube fortnite free 5000 v bucks fortnite free v bucks generator no human verification or survey ps4 fortnite free v bucks live fortnite free v bucks glitch season 8 fortnite free v bucks mod does fortnite give you free v bucks fortnite free v bucks twitter fortnite free v bucks pc download how do you hack fortnite free v bucks fortnite free v bucks chapter 2 season 1 fortnite free v bucks ps4 uk fortnite free v bucks on switch fortnite free v bucks for pc ps4 and xbox one fortnite free v bucks season 2 fortnite free v bucks generator no human verification 2020 fortnite free v bucks hack 2020 fortnite free v bucks xbox one code fortnite free v bucks discord fortnite free v bucks for switch how to get free v bucks in fortnite legit fortnite free 300 vbucks fortnite free v bucks for 2fa codes for fortnite free v bucks kako dobiti free v bucks u fortnite fortnite free v bucks no email fortnite free v bucks jailbreak fortnite free v bucks generator 13500 fortnite free v bucks season 10 fortnite season 9 free v bucks event is fortnite free v bucks real fortnite free v bucks hack without human verification fortnite free v bucks codes ps4 fortnite free v bucks glitch ios fortnite how to get free v bucks season 6 fortnite free v bucks easy way fortnite free v bucks map fortnite free v bucks season 2 chapter 2 fortnite free v bucks xbox one generator free fortnite v bucks trial fortnite free v bucks and battle pass fortnite free v bucks from epic games fortnite free v bucks glitch ps4 season 7 fortnite free v bucks generator season 6 fortnite free v bucks generator 2020 fortnite free v bucks tweet fortnite free v bucks 2020 kako dobiti free v bucks za fortnite freevbucks.life-fortnite free vbucks boost working 2018 fortnite free v bucks generator unblocked fortnite how to free v bucks fortnite free v bucks generator no human verification real fortnite free v bucks xbox one glitch fortnite free v bucks advertisement fortnite free vbucks booster fortnite free v bucks tutorial fortnite free v bucks today fortnite free v bucks unblocked fortnite free v bucks season 1 chapter 2 fortnite free v bucks boost working 2020 fortnite free v bucks code mobile fortnite free v bucks xbox one hack fortnite free v bucks advert fortnite free v bucks ps4 easy fortnite free v bucks chapter 2 fortnite free skin + 300 v bucks fortnite free v bucks now fortnite free vbucks levels fortnite free v bucks ps4 2020 fortnite free v bucks l is fortnite giving out free v bucks fortnite free v bucks and upgrade fortnite free v bucks game fortnite free v bucks chapter 2 season 2 fortnite free v bucks by epic games fortnite free v bucks season 11 fortnite free v bucks code ios fortnite season 9 free v bucks glitch fortnite free v bucks how to get fortnite save the world free v bucks daily fortnite free v bucks ps4 season 9 free v bucks fortnite pc season 7 fortnite free v bucks season 7 ps4 fortnite free v bucks in game free fortnite v bucks with no verification fortnite free 999.999 vbucks fortnite free v bucks glitch season 6 fortnite free v bucks generator epic games fortnite free v bucks phone number fortnite v bucks generator free v bucks update fortnite how do you get free v bucks fortnite season 7 free v bucks glitch fortnite free v bucks generator ps4 season 8 fortnite free v bucks generator season 11 fortnite free v bucks login fortnite free v bucks 100 working fortnite free v bucks code nintendo switch fortnite skin generator 2020 fortnite skin generator ps4 free fortnite skin generator random fortnite skin generator fortnite skin generator no verification free skin generator fortnite skin generator no human verification fortnite skin generator free no verification free fortnite skins generator app free fortnite skins on switch how to hack fortnite skins xbox one fortnite skin generator chapter 2 free skin generator chapter 2 battle pass generator no human verification random fortnite gun generator fortnite skin generator ps4 fortnite skin combo tester fortnite skin generator 2020 my fortnite locker make fortnite skins make fortnite wallpapers how to become a fortnite skin creator fortnite skin creator beta fortnite skin generator no human verification

---
## [RelationalAI-oss/Salsa.jl](https://github.com/RelationalAI-oss/Salsa.jl)@[4b431ebc6d...](https://github.com/RelationalAI-oss/Salsa.jl/commit/4b431ebc6d92de548f8931a7f41827bd5df7be8b)
#### Tuesday 2020-06-02 19:36:07 by Nathan Daly

MiniSalsa Performance Improvements

This PR contains various constant-factor performance improvements to the MiniSalsa package.

The main conceptual improvements are the following:
1. Miscellaneous improvements to the MiniSalsa package that bring it up to feature parity with Salsa: debugging / tracing / etc.
1. We reduced allocations by sharing the vectors for tracing a functions dependencies in a "trace pool" and a freelist. This is needed because each derived function needs its own vector to track dependencies, and vectors have to be heap allocated, but allocs are expensive. We can avoid them by sharing them in a pool with a freelist.
2. We reduced allocations by making the new Salsa Tracing Runtime isbits. We need to generate a new _TracingRuntime per derived function call to support multithreaded task parallelism, so that different derived functions can each have their own vectors in which to record their dependencies, without clobbering each other.
    - To make them isbits, we have to remove the reference to the trace arrays. To do this, we use an integer index to refer to the trace vector (the int indexes into the pool, and is pushed and popped from the freelist).
     - Also, to make them isbits, we had to remove the pointer to the Storage, since the Storage object itself is mutable. To do this, we (in an ugly hack) just keep a `Ptr{}` to the storage, since we know that the storage will always survive past the lifetime of the derived functions (since it's referenced by the _TopLevelRuntime).
3. We made some other minor julia-related changes that made small allocations reductions, such as:
    - Removing return type annotations. E.g. removing `::Any` from `memoized_lookup()` made it 10x faster in a microbenchmark.
    - Changing from `lock(l) do ... end` lambdas to manual `lock(l) try ... finally unlock(l) end` blocks. Our best guess is that if the lambda is capturing local mutable variables in a closure, the lambda object ends up on the heap. Unsure why that isn't getting compiled away.
4. We realized that DerivedValues were not isbits since they contain an array, so we made reverted this back to what it was in old Salsa: we them mutable and now we edit them in-place, rather than constructing a new one for every derived function.
    - I can no longer remember if this was helpful or not... I think it should be fine either way, so it maybe makes sense to leave this how it was in old salsa, as we can always re-evaluate it in the future?

-----------------------

Co-Authored-By: @comnik

Upstreamed from RelationalAI

---
## [maxneuds/aai_artastic](https://github.com/maxneuds/aai_artastic)@[9bc8f327a3...](https://github.com/maxneuds/aai_artastic/commit/9bc8f327a3428daa136142935d14991bd5745d61)
#### Tuesday 2020-06-02 19:41:08 by Nico  Puhlmann

Make Docker Build the fucking different environments. Still Buggy so don't merge or use this code unless you are willing to spend another 6 hours fixing bullshit bugs.

---
## [git/git](https://github.com/git/git)@[d2d7fbe129...](https://github.com/git/git/commit/d2d7fbe12945dd9032c9c7c14a4563dbecc7e629)
#### Tuesday 2020-06-02 19:57:36 by Jeff King

diff: discard blob data from stat-unmatched pairs

When performing a tree-level diff against the working tree, we may find
that our index stat information is dirty, so we queue a filepair to be
examined later. If the actual content hasn't changed, we call this a
stat-unmatch; the stat information was out of date, but there's no
actual diff.  Normally diffcore_std() would detect and remove these
identical filepairs via diffcore_skip_stat_unmatch().  However, when
"--quiet" is used, we want to stop the diff as soon as we see any
changes, so we check for stat-unmatches immediately in diff_change().

That check may require us to actually load the file contents into the
pair of diff_filespecs. If we find that the pair isn't a stat-unmatch,
then no big deal; we'd likely load the contents later anyway to generate
a patch, do rename detection, etc, so we want to hold on to it. But if
it is a stat-unmatch, then we have no more use for that data; the whole
point is that we're going discard the pair. However, we never free the
allocated diff_filespec data.

In most cases, keeping that data isn't a problem. We don't expect a lot
of stat-unmatch entries, and since we're using --quiet, we'd quit as
soon as we saw such a real change anyway. However, there are extreme
cases where it makes a big difference:

  1. We'd generally mmap() the working tree half of the pair. And since
     the OS may limit the total number of maps, we can run afoul of this
     in large repositories. E.g.:

       $ cd linux
       $ git ls-files | wc -l
       67959
       $ sysctl vm.max_map_count
       vm.max_map_count = 65530
       $ git ls-files | xargs touch ;# everything is stat-dirty!
       $ git diff --quiet
       fatal: mmap failed: Cannot allocate memory

     It should be unusual to have so many files stat-dirty, but it's
     possible if you've just run a script like "sed -i" or similar.

     After this patch, the above correctly exits with code 0.

  2. Even if you don't hit mmap limits, the index half of the pair will
     have been pulled from the object database into heap memory. Again
     in a clone of linux.git, running:

       $ git ls-files | head -n 10000 | xargs touch
       $ git diff --quiet

     peaks at 145MB heap before this patch, and 94MB after.

This patch solves the problem by freeing any diff_filespec data we
picked up during the "--quiet" stat-unmatch check in diff_changes.
Nobody is going to need that data later, so there's no point holding on
to it. There are a few things to note:

  - we could skip queueing the pair entirely, which could in theory save
    a little work. But there's not much to save, as we need a
    diff_filepair to feed to diff_filespec_check_stat_unmatch() anyway.
    And since we cache the result of the stat-unmatch checks, a later
    call to diffcore_skip_stat_unmatch() call will quickly skip over
    them. The diffcore code also counts up the number of stat-unmatched
    pairs as it removes them. It's doubtful any callers would care about
    that in combination with --quiet, but we'd have to reimplement the
    logic here to be on the safe side. So it's not really worth the
    trouble.

  - I didn't write a test, because we always produce the correct output
    unless we run up against system mmap limits, which are both
    unportable and expensive to test against. Measuring peak heap
    would be interesting, but our perf suite isn't yet capable of that.

  - note that diff without "--quiet" does not suffer from the same
    problem. In diffcore_skip_stat_unmatch(), we detect the stat-unmatch
    entries and drop them immediately, so we're not carrying their data
    around.

  - you _can_ still trigger the mmap limit problem if you truly have
    that many files with actual changes. But it's rather unlikely. The
    stat-unmatch check avoids loading the file contents if the sizes
    don't match, so you'd need a pretty trivial change in every single
    file. Likewise, inexact rename detection might load the data for
    many files all at once. But you'd need not just 64k changes, but
    that many deletions and additions. The most likely candidate is
    perhaps break-detection, which would load the data for all pairs and
    keep it around for the content-level diff. But again, you'd need 64k
    actually changed files in the first place.

    So it's still possible to trigger this case, but it seems like "I
    accidentally made all my files stat-dirty" is the most likely case
    in the real world.

Reported-by: Jan Christoph Uhde <Jan@UhdeJc.com>
Signed-off-by: Jeff King <peff@peff.net>
Signed-off-by: Junio C Hamano <gitster@pobox.com>

---
## [fuglore/PD2-Hyper-Heisting](https://github.com/fuglore/PD2-Hyper-Heisting)@[7d0484edd2...](https://github.com/fuglore/PD2-Hyper-Heisting/commit/7d0484edd28f064097053623d4d0da4e26b6671e)
#### Tuesday 2020-06-02 21:41:24 by Neslon-Poggers

fuck joe jonas

he's insane

made anarchist temporarily use resmod values
fixed weirdness with charon and hoxton
slight loud detection tweaks
made enemies' reaction times EVIL >:)

---

# [<](2020-06-01.md) 2020-06-02 [>](2020-06-03.md)

