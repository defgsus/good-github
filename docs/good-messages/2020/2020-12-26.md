# [<](2020-12-25.md) 2020-12-26 [>](2020-12-27.md)

1,552,504 events, 912,161 push events, 1,267,908 commit messages, 72,603,475 characters


## [magiblot/tvision](https://github.com/magiblot/tvision)@[45e408ac9d...](https://github.com/magiblot/tvision/commit/45e408ac9d41577177484df85ed4c0c766c3691d)
#### Saturday 2020-12-26 06:37:17 by magiblot

Fix (TCollection *) to (TSortedCollection *) cast in TSortedListBox::list()

God damn. Because TCollection and TSortedCollection are no more than forward declarations by the time TSortedListBox::list() is defined, the cast is implemented as a reinterpret_cast. As a consequence, invoking TSortedListBox::list() would provide the wrong result.

Amazingly, Borland C++ handles this fine, so I have been hugely confused while debugging this.

This is my first experience where C-style casts have silenced a compilation error.

---
## [angeloanan/angeloanan.xyz](https://github.com/angeloanan/angeloanan.xyz)@[ad44160d78...](https://github.com/angeloanan/angeloanan.xyz/commit/ad44160d7817cd3f0e5be1784fa7f77bc810dd85)
#### Saturday 2020-12-26 07:22:30 by Christopher Angelo

housekeeping: yarn cache && update deps

Holy shit. 1123 things are staged. What the actual fuck is happening.

I'm scared.

---
## [ezio84/abc_frameworks_base](https://github.com/ezio84/abc_frameworks_base)@[02442894dd...](https://github.com/ezio84/abc_frameworks_base/commit/02442894dd60656155980fabf0f576355be1324c)
#### Saturday 2020-12-26 13:03:44 by ezio84

Hidden gestural bar: fix visual glitches when switching states

hacky way but it works (TODO: find a proper fix in the new year,
i don't have motivation to dig into navbar/keyguard code fuckery now lol)

setting the height to 1px keeps the navbar almost invisible
but fixes the annoying visual glitches when going from screen
off to ambient pulsing or lockscreen (more noticeable on some devices
like bonito)
to replicate the issue without this commit:
- screen ON, then screen off, then double tap to go to ambient,
then double tap to go to lockscreen, then double tap to switch screen off,
then switch screen on again
- or just switch screen off/on a few times with the power button

Also sync the hide pill code with Pulse hide pill feature

Change-Id: Ib1cc83492f8a091be5cac4563d844010cef69dbc

---
## [mrakgr/The-Spiral-Language](https://github.com/mrakgr/The-Spiral-Language)@[a0edbe926c...](https://github.com/mrakgr/The-Spiral-Language/commit/a0edbe926c09574e6ccf53ba1a07c38a7ac0c7d3)
#### Saturday 2020-12-26 14:38:50 by Marko Grdinić

"11:10am. I did not go to bed too late yesterday, but I had a hard time falling asleep. Sigh.

11:15am. Let me go for dinner, and chores. Then I'll resume the docs. I am really groggy right now, but I need to get a move on.

12pm. Let me do the chores and then I will start this thing. I slacked way too much.

12:25pm. Done with chores.

12:30pm. Focus me. Let me start work on the docs. I think it is time to showcase macros.

During the night I had some awkward thoughts.

If we assume that Spiral's `let` statements are equivalent to F#'s, while `inl` is `let inline`, then wouldn't that mean that F# in facts supports the Spiral style inlining in full?

If somebody asked me this, I'd find it embarassing to reply. I actually do not know how F# works under the hood. Though I am a functional programming expert by now, I simply never cracked open the disassembler and looked at what comes out.

The reason for that is, even if in theory F# could hit the permance goals, it would not give me the language introp capabilities that I need. So I won't go into it in the docs.

Since I am going to be applying to chip companies, instead of pushing performance, I really do need to highlight the language interop benefits of Spiral.

Let me take a look at the tests.

12:45pm. Let me just go with macros. It seems that I want to get the differences from existing languages out of the way so let me go with theme.

1:35pm. Macros come up to two pages. This is nice and easy.

1:45pm. I am thinking how to approach the next section and even what it should be.

2:10pm. Had to take a break. Let me resume.

2:15pm. Focus me. Let me start writing this thing. I think I've covered 30% of the stuff in the top down segment. It does not have to be 10k exactly. I can do this for two weeks. I'll do this for as long as needed. Until I feel satisfied.

Let me do the layout types next.

3:10pm.

```
inl main () =
    inl a = mut {q=1i32; w=2i32}
    a <- {q=3; w=4}
```
```fs
type Heap0 = {l0 : int32; l1 : int32}
and Mut0 = {mutable l0 : int32; mutable l1 : int32}
let v0 : Mut0 = {l0 = 1; l1 = 2} : Mut0
v0.l0 <- 3
v0.l1 <- 4
```

This is a compiler error. That `Heap0` is not supposed to manifest. What is going on here?

Also when it comes to doing the real segment I really will require some way of taking advantage of `print_static`.

3:15pm. Focus me. Let me switch gears so I can debug this error. I'll have to track this down.

Let me make this one of the tests.

```fs
let rec heap = layout (fun s x ->
        line s (sprintf "Heap%i = {%s}" x.tag (x.free_vars |> Array.map (fun (L(i,t)) -> sprintf "l%i : %s" i (tyv_proxy t)) |> String.concat "; "))
        )
    and mut = layout (fun s x ->
        line s (sprintf "Mut%i = {%s}" x.tag (x.free_vars |> Array.map (fun (L(i,t)) -> sprintf "mutable l%i : %s" i (tyv_proxy t)) |> String.concat "; "))
        )
```

Hmmm, these are both `layout`.

3:25pm. What is going on here, I have no idea.

3:30pm. I finally got the plugin to run from the host again. I forgot how to do that recently. Does `heap` actually trigger at some point? What is going on here?

```fs
    let rec heap = layout (fun s x ->
        line s (sprintf "Heap%i = {%s}" x.tag (x.free_vars |> Array.map (fun (L(i,t)) -> sprintf "l%i : %s" i (tyv_proxy t)) |> String.concat "; "))
        )
```

I'll put a break point here and then take a look at the call stack.

```fs
        | TyLayoutToHeap(a,b) -> sprintf "{%s} : Heap%i" (layout_vars a) (heap b).tag |> simple
        | TyLayoutToHeapMutable(a,b) -> sprintf "{%s} : Mut%i" (layout_vars a) (heap b).tag |> simple
```

Ah, look at that `heap b` on the last line. Whops.

It should be `mut b`.

```fs
type Mut0 = {mutable l0 : int32; mutable l1 : int32}
let v0 : Mut0 = {l0 = 1; l1 = 2} : Mut0
v0.l0 <- 3
v0.l1 <- 4
```

Yeah, now I get correct compilation. This was a minor copy paste error still lurking inside the compiler, probably there are more of a similar kind in there. Let me publish the change as a patch.

I'll commit here."

---
## [virtuNat/aoc-12020](https://github.com/virtuNat/aoc-12020)@[078ce9385d...](https://github.com/virtuNat/aoc-12020/commit/078ce9385d17a2aa83989f8d9e6ed58e332f0ecb)
#### Saturday 2020-12-26 15:48:50 by virtuNat

Reorganize files even less idiotically

-- note: haskell files will break unless copy pasted in the source folder because haskell path manipulation is bullshit

---
## [Perl/perl5](https://github.com/Perl/perl5)@[98feab8f7a...](https://github.com/Perl/perl5/commit/98feab8f7ad1d47a3fa72ed5a8da3bfc0f770461)
#### Saturday 2020-12-26 16:18:24 by Tony Cook

Data::Dumper (XS): use mortals to prevent leaks if magic throws

For example:

  use Tie::Scalar;
  use Data::Dumper;
  sub T::TIESCALAR { bless {}, shift}
  sub T::FETCH { die }
  my $x;
  tie $x, "T" or die;
  while(1) {
      eval { () = Dumper( [ \$x ] ) };
  }

would leak various work SVs.

I start a new scope (ENTER/LEAVE) for most recursive DD_dump() calls
so that the work SVs don't accumulate on the temps stack, for example
if we're dumping a large array we'd end up with several SVs on the
temp stack for each member of the array.

The exceptions are where I don't expect a large number of unreleased
temps to accumulate, as with scalar or glob refs.

(cherry picked from commit 815b4be4ab7ae210f796fc9d29754e55fc0d1f0e)

---
## [boom100100/new_sanctuary_asylum](https://github.com/boom100100/new_sanctuary_asylum)@[9216e1a54b...](https://github.com/boom100100/new_sanctuary_asylum/commit/9216e1a54be94a36f028d34ae532e46e29697301)
#### Saturday 2020-12-26 17:15:32 by Grey Moore

parent 9f8dddc5e34f9af27f614482b08c13ea7e3a175d
author Grey Moore <greyharperm@gmail.com> 1584497424 -0400
committer boom100100 <bsd231@nyu.edu> 1609002686 -0500

add judge_imposed_i589_deadline column to friends

allow filtering Friends by judge-imposed deadline in range

add judge-imposed deadline to Friend form

add judge-imposed deadline to accompaniment report form

reorder search filters

remove notification emails when application is submitted

Add has_a_lawyer and lawyer_name to friends table

allow setting has_a_lawyer and lawyer_name from accompaniment report form

validate lawyer_name presence if has_a_lawyer

allow admin to edit lawyer info for friend

allow admin to filter Friends list by has_a_lawyer

dont require lawyer_name for Friends who have a lawyer

update in_review -> review_requested

update changes_requested -> review_added

improve ux for regional admins

fix failing spec with regional admin dropdown options

[Remote Lawyers] Remove Team From View, Not Needed

[Remote Lawyers] 'Add Review' --> Button, Move By Approve, Add Edit

[Remote Lawyers] Move Status First, Color Differently for Lawyers, Rm Review Date, Add Reviews Col

[Remote Lawyer] Add Headers For Col Names

[Remote Lawyer] Change 'Review by'... to 'Your Review' if Name is Viewer

spacing adjustments

beginning

fix remote_review_action validations

mvp version of remote review action log

only send email after all database commits are successful

move remote review index to its own controller

additional associations and validations for remote_review_actions

add sort by last name asc and desc

simplify remote clinic lawyer friend list

allow remote clinic lawyers to upload drafts

[Regional Admins] Remote Lawyers Parity View for Drafts

[NY Regional Admins] Bring Page to Parity with Remote Clinic Lawyers (a.k.a. prettify)

upgrade rails to 5.2.4.3

make access time slot calendar weekly rather than monthly

regional admins navigate from friend record to remote clinic and can submit a draft

update puma to 3.12.6

remove activity event column

rename activity types in seeds

refactor some colors

remove clinic training zine link

add rollbar

cleanup

[Download] Our Best Guess (lol)

try

try

try

fix spacing

add view and download options for pdfs

fix specs

order applications alphabetically

ignore action controller routing errors in rollbar

Fix app init using docker compose

Replace chosen with select2

rename chosen classes to select2 and fix specs

fix duplicating select2 elements when the browser back button is used

clarify docker-specific instructions around postgres

initiate select2 with bootstrap theme on all pages except search

use standard activateSelect2() to initiate select2 on volunteer access page

kick the can down the road on select2 with attendance specs

turns out select2 does not work at all on dropdowns with thousands of options...but chosen does...so putting chosen back in for these...we probably should not have dropdowns with thousands of options, bet that impacts page load time

only display confirmed users in user access dropdowns

use select2 ajax search for admin volunteer access collection search

ajax search for family member association dropdown on Friend record

replace the rest of the chosen js dropdowns with select2 backed by ajax search

upgrade to rails 6

configuration changes for rails 6

remove webpacker gem

fix failing specs and deprecation issues from rails 6 upgrade

fix spec

cleanup dev and test gems and remove springs, model and controller specs pass

use selenium chrome driver and fix previously skipped specs

dont install phantomjs in circleci and dont seed db

cleanup

get rid of specs that are testing standard rails associations and validations, some spec fixes for rails upgrade

update bundler in circleci config

gem updates

explicitly set rubygems as source

fix ajax search for attendance dropdowns

update production gems

fix friend collection_select on activity form

upgrade to ruby 2.6.6

simplify flash messages

reorder so constant is at top of helper file

make remote clinic lawyer a full role

upgrade rails to 6.0.3.3 and update gems

update seeds for new faker version

[Friends] Fix Render Table

Added `ampm` to all datetime fields

fix datetime picker helper for specs

Update invitations_controller.rb

fix for existing functionality for regional admins to set 'Remote Clinic Lawyer' role when inviting users

create a new array of roles, rather than changing frozen array

fix combined array

remove old remote_clinic_lawyer boolean

Pull pg 9.6 correctly

Fix config

Remove mac-specific instructions, and added a bit about setting correct file contents

Removed irrelevant instruction

add helper notes specific to Windows OS

add a delay for select2 ajax calls to mitigate 429 responses

display social work notes on friend show page

add a notes label to social work referral notes

include a blank option on lawyer selects

change eoir case status options and status options

allow primary community admins to assign remote clinic lawyers and other small tweaks

fix scope for remote clinic lawyer dashboard

small tweaks

add ip blocking configuration for rack attack

remove all links from emails

add devise authy

conditionally display 2fa enable/disable

override devise require_token? method to check password_changed_at timestamp

more devise-authy customization

[Authy] Log Whether Admin Logged in Using 2Fac or Not

add to authy code instructions and limit friend pagination to 10 results per page

make logging style a bit more consistent and set 1.week authy rememberable configuration

remove pagination and limit results for friend and users index

restrict user editing for admins and data entry users

rough cut of adapting the eoir caller roler for accompaniment leader data entry

cleanup

grant some missing accompaniment leader functionality to eoir_caller

allow eoir callers to confirm/unconfirm activities

allow accompaniment leader data entry to see 4 weeks instead of 3

add data entry policies agreement boolean to users

---
## [copperwater/xNetHack](https://github.com/copperwater/xNetHack)@[5fd6d2367d...](https://github.com/copperwater/xNetHack/commit/5fd6d2367deed8346a4bcd890c1f6cd3a873c1b0)
#### Saturday 2020-12-26 18:28:24 by copperwater

Revamp blessed gain ability

One balance problem in NetHack is that blessed gain ability is not a
very interesting item: all attributes are raised equally and there's no
choice involved, so there's never any real reason you might want to save
one for later. Also, I think it's rather too powerful: you only really
need about 3-5 of them in most games to get high enough, if not maxed,
scores in all six attributes, perhaps contributing to the issue where
all high-level characters of a given role feel the same.

This makes it so that blessed gain ability raises one attribute by d2
points, with the player able to choose which or let it choose randomly.
With this change, using it becomes more of a decision into how you want
to build your character (there still isn't much reason to save it for
later unless you're not sure of how your build will go, though). For
instance, it allows a Knight who wants to cast spells to target his
low starting intelligence for boosts.

Also in this commit is a refactor of how gain ability randomly picks an
attribute to raise, for uncursed potions and blessed potions if the
player chooses the random option. Previously it made 6 tries to raise a
random attribute, and if all 6 attempts picked a maxed one you were out
of luck. Now it shuffles an array of the six attributes and iterates
through them until a raisable one is found, so it's still random but
doesn't have a chance of failing to do anything.

---
## [boom100100/new_sanctuary_asylum](https://github.com/boom100100/new_sanctuary_asylum)@[b845891c54...](https://github.com/boom100100/new_sanctuary_asylum/commit/b845891c54c8053487868c7689a7bad6461b32da)
#### Saturday 2020-12-26 18:32:56 by Grey Moore

add judge_imposed_i589_deadline column to friends

allow filtering Friends by judge-imposed deadline in range

add judge-imposed deadline to Friend form

add judge-imposed deadline to accompaniment report form

reorder search filters

remove notification emails when application is submitted

Add has_a_lawyer and lawyer_name to friends table

allow setting has_a_lawyer and lawyer_name from accompaniment report form

validate lawyer_name presence if has_a_lawyer

allow admin to edit lawyer info for friend

allow admin to filter Friends list by has_a_lawyer

dont require lawyer_name for Friends who have a lawyer

update in_review -> review_requested

update changes_requested -> review_added

improve ux for regional admins

fix failing spec with regional admin dropdown options

[Remote Lawyers] Remove Team From View, Not Needed

[Remote Lawyers] 'Add Review' --> Button, Move By Approve, Add Edit

[Remote Lawyers] Move Status First, Color Differently for Lawyers, Rm Review Date, Add Reviews Col

[Remote Lawyer] Add Headers For Col Names

[Remote Lawyer] Change 'Review by'... to 'Your Review' if Name is Viewer

spacing adjustments

beginning

fix remote_review_action validations

mvp version of remote review action log

only send email after all database commits are successful

move remote review index to its own controller

additional associations and validations for remote_review_actions

add sort by last name asc and desc

simplify remote clinic lawyer friend list

allow remote clinic lawyers to upload drafts

[Remote Clinic] Abstract View Into Partial

[Regional Admins] Remote Lawyers Parity View for Drafts

[NY Regional Admins] Bring Page to Parity with Remote Clinic Lawyers (a.k.a. prettify)

upgrade rails to 5.2.4.3

make access time slot calendar weekly rather than monthly

regional admins navigate from friend record to remote clinic and can submit a draft

update puma to 3.12.6

remove activity event column

rename activity types in seeds

refactor some colors

remove clinic training zine link

add rollbar

cleanup

[Download] Our Best Guess (lol)

try

try

try

fix spacing

add view and download options for pdfs

fix specs

order applications alphabetically

ignore action controller routing errors in rollbar

Fix app init using docker compose

Replace chosen with select2

rename chosen classes to select2 and fix specs

fix duplicating select2 elements when the browser back button is used

clarify docker-specific instructions around postgres

initiate select2 with bootstrap theme on all pages except search

use standard activateSelect2() to initiate select2 on volunteer access page

kick the can down the road on select2 with attendance specs

turns out select2 does not work at all on dropdowns with thousands of options...but chosen does...so putting chosen back in for these...we probably should not have dropdowns with thousands of options, bet that impacts page load time

only display confirmed users in user access dropdowns

use select2 ajax search for admin volunteer access collection search

ajax search for family member association dropdown on Friend record

replace the rest of the chosen js dropdowns with select2 backed by ajax search

upgrade to rails 6

configuration changes for rails 6

remove webpacker gem

fix failing specs and deprecation issues from rails 6 upgrade

fix spec

cleanup dev and test gems and remove springs, model and controller specs pass

use selenium chrome driver and fix previously skipped specs

dont install phantomjs in circleci and dont seed db

cleanup

get rid of specs that are testing standard rails associations and validations, some spec fixes for rails upgrade

update bundler in circleci config

gem updates

explicitly set rubygems as source

fix ajax search for attendance dropdowns

update production gems

fix friend collection_select on activity form

upgrade to ruby 2.6.6

simplify flash messages

reorder so constant is at top of helper file

make remote clinic lawyer a full role

upgrade rails to 6.0.3.3 and update gems

update seeds for new faker version

[Friends] Fix Render Table

Added `ampm` to all datetime fields

fix datetime picker helper for specs

Update invitations_controller.rb

fix for existing functionality for regional admins to set 'Remote Clinic Lawyer' role when inviting users

create a new array of roles, rather than changing frozen array

fix combined array

remove old remote_clinic_lawyer boolean

Pull pg 9.6 correctly

Fix config

Remove mac-specific instructions, and added a bit about setting correct file contents

Removed irrelevant instruction

add helper notes specific to Windows OS

add a delay for select2 ajax calls to mitigate 429 responses

display social work notes on friend show page

add a notes label to social work referral notes

include a blank option on lawyer selects

change eoir case status options and status options

allow primary community admins to assign remote clinic lawyers and other small tweaks

fix scope for remote clinic lawyer dashboard

small tweaks

add ip blocking configuration for rack attack

remove all links from emails

add devise authy

conditionally display 2fa enable/disable

override devise require_token? method to check password_changed_at timestamp

more devise-authy customization

[Authy] Log Whether Admin Logged in Using 2Fac or Not

add to authy code instructions and limit friend pagination to 10 results per page

make logging style a bit more consistent and set 1.week authy rememberable configuration

remove pagination and limit results for friend and users index

restrict user editing for admins and data entry users

rough cut of adapting the eoir caller roler for accompaniment leader data entry

cleanup

grant some missing accompaniment leader functionality to eoir_caller

allow eoir callers to confirm/unconfirm activities

allow accompaniment leader data entry to see 4 weeks instead of 3

add data entry policies agreement boolean to users

---
## [insilications/rpm](https://github.com/insilications/rpm)@[e13a57c455...](https://github.com/insilications/rpm/commit/e13a57c4557fcf8c2065122ad63a0126c689e3df)
#### Saturday 2020-12-26 20:05:12 by insilications

rpm: Autospec creation for update from version 4.10.2 to version 1

Florian Festi (1):
      Fix whitespace in Python doc string

Jakub Jelinek (1):
      Add DWARF-4 support to debugedit (RhBug:707677)

Jindrich Novy (3):
      Avoid freeing an unallocated variable (RhBug:688091)
      Understand 'PK00' zip archives (RhBug:699529)
      Fix find-lang so that it finds *@*.qm QT i18n files (RhBug:699945)

Mark Wielaard (1):
      Add -r flag to find-debuginfo.sh to invoke eu-strip --reloc-debug-sections.

Michael Schroeder (9):
      Allow uncompressed payload in packages
      Fix corner-case behavior on dependency matching when release not present
      Fix "method not permitted before handle's open method" on --verifydb
      Fix segfault on build with empty %prep section
      Do not abort if chown/chmod fails but the file is already correct
      Always copy macro source when expanding it
      Support "magic_and_path" flag in fileattrs
      Do not die on empty changelog section
      Restore %defattr() behavior on special %doc

Panu Matilainen (151):
      A bit of sanity checking in rpmtsRebuildDB()
      Kick out some long since invalid comments
      Add beginnings of python bindings test-suite
      Remove broken versioned provides rpmlib() tracking
      Support excluding by path or magic in file classification
      Rename pattern -> path for, duh, path patterns
      Refactor the helper execution out of rpmfcHelper()
      Some further preliminaries for next bits
      Implement filtering of autogenerated dependencies
      Implement transaction ordering hinting
      Replace verified header tracking bitfield with a hash table
      Cut down the initial db checked hash allocation somewhat
      Remove hardcoded lock and mail group id's
      Split user+group caching to separate source (again), rename
      Unify the user+group caching between librpm and librpmbuild
      Remove the now unused user/group caching code
      Eliminate ancient dependency loop whiteout mechanism
      Support GetEntry() for hashes without datatype too
      Add a "unique string cache" to rpmug
      Unbreak file user/groupname handling in build
      Permit comparison operator strings (<, >= etc) in python ds constructor
      Move python test-suite macros to local.at, rename
      Add a pile of dependency matching tests for "obvious" cases
      Add pile of further dependency match testcases
      Yet another pile of depmatch tests + added commentary
      Rip the stillborn, broken apply/commit transaction goo
      Rip the remains of --aid and --nosuggest, except for the callback
      Mark two more unused rpmts flags as such
      Free up a bunch of bits from rpmtransFlags_e
      Move rpmtsSELabelFoo() functions to an internal-only header
      Update translations to kick out removed messages etc
      Make rpmplugins.h private for now
      Only sepolicy-plugin needs linking to libsemanage
      Require %files section for package generation again
      Bump up default BDB cache- and allowed mmap size considerably
      A largish man-page update
      Tweak up BDB flags to avoid breakage from --verifydb
      Hide --verifydb switch again
      Honor --root in rpmkeys too
      Fix rpmsign --key-id popt alias typo
      Add switch to allow printing only soname dependencies to elfdeps helper
      Preparing for 4.9.0-beta1
      Permit queries from rpmdb on read-only media (RhBug:671200)
      Restore default SIGPIPE handling for build scriptlets (RhBug:651463)
      Fix python documentation wrt dbIndex()
      Avoid automatic index generation on db rebuild
      Fix rpmdb index match iteration termination with NULL keyp (#671149)
      Plug potential division by zero in the rpmdb size calculation (RhBug:671056)
      Don't try to remove existing environment when using private environment
      Teach rpm about post-transaction dependencies
      Add an error message + comments on open(".") behavior (RhBug:672576)
      Eww, mono rules both buggy AND missing from tarballs, doh.
      Argh, yet more mono dependency generation braindamage
      Mark the identical signature warning as translatable
      Adjust OCaml detection rule for libmagic 5.04 -> 5.05 string change
      Fix segfault when building more than one rpm (RhBug:675565)
      Add + use a db error callback function
      Callback argument mismatch from previous commit, meh
      Import the C-level ts python object as TransactionSetCore
      Allow installation of self-conflicting packages (ticket #806, RhBug:651951)
      Preparing for 4.9.0-rc1
      Allow both string + unicode in python addInstall() / addErase()
      Fix braindamage in the depgen helper collector loop (RhBug:675002)
      Fix db cursor double-open, causing yum to hang on reinstall (RhBug:678644)
      Silence error callback during from BDB during environment open
      Preparing for 4.9.0
      Throw an exception from Fseek() errors in python rpmfd.seek()
      Make peace with autoconf-2.68
      Preferred color pkgs should be erased last
      Improve the dependency loop debug message a bit
      Take file state into account for file dependencies
      Verify some properties of replaced and wrong-colored files (RhBug:528383)
      Python 3 fixups
      Fix the PyBytes vs PyString compatibility defines
      Update librpm doxygen module list
      Missing va_end() call
      Plug memory leaks on macro definition error cases
      Fix a small memleak in rpmsign tool
      Fix classification of ELF binaries with sticky bit (RhBug:689182)
      Use pkg-config to find Lua + determine flags (ticket #88)
      Add a more useful example to rpm2cpio manpage
      Dont reference transaction set from transaction elements
      Fix dangling databases from iterators (ticket #820)
      Remember to free db index iterators too on forced termination
      Reflect file classifier errors in rpmdeps exit code
      Actually handle headerGet() / pgpPrtPkts() failure on signature verify
      Catch write errors when generating scriptlet temporary files
      Give at least some indication of error from fchdir() failures
      Remove redundant indentation block from rpmSign()
      headerPut() and headerDel() returns aren't interesting here
      Handle errors from moving target file into place in rpmSign()
      Empty transaction is not an error (RhBug:699929)
      -D is for --define, not --predefine (RhBug:706161)
      Unify fileattr include- and exclude-rule handling
      Whoops, flags needs to be sorted for argvSearch() to work correctly
      Handle HEADERFLAG_SORTED bit correctly in headerUnsort()
      Fix %prep parse error to abort build
      Bail out of debuginfo if stabs format encountered (RhBug:453506)
      Plug a memory leak on Lua rpm.expand()
      Add support for nested Lua macro expansion (RhBug:490740)
      Issue an error on failure to replace original package on signing
      Don't run collections on script stages like %pre/posttrans, ugh.
      Permit %verifyscript from non-installed packages
      Disable all scriptlets and collections centrally on --test and --justdb
      Both files must be colored for multilib conflict resolution (RhBug:705115)
      Colored conflict resolution part II
      Handle readlink() failure in genCpioListAndHeader() correctly
      Clean up + fix memleaks in readIcon()
      Clean up + plug memleak in parseDescription()
      Fix a logic error leading to unlink(NULL) call, oops.
      Reset cli configured flag on rpmcliFini() (RhBug:709421)
      Abort depgen output reading on EOF, not child exiting
      Handle EINTR on the spot instead of restarting the entire loop
      Eww, python ds.Instance() doesn't take any arguments
      Adjust script detection rules to work with file >= 5.07 too (RhBug:712251)
      Don't remove buildroot docdir on %doc usage (ticket #836)
      Export rpmteFailed() to python bindings
      Error on unclosed macros & trailing line continuations in spec (RhBug:681567)
      Support retrieving the spec contents in parsed format
      Add --parse option to rpmspec tool to dump parsed spec contents
      Avoid extra newlines in parsed spec output outside preamble
      Honor trailing slash in rpmGlob()
      Pay attention to dir vs file when building (RhBug:505995)
      Enable GLOB_ONLYDIR of the bundled glob() on platforms that support it
      Fix explicit directory %attr() when %defattr() is active (RhBug:481875)
      Fix the totally broken rpm.fd() read method
      Fix the broken python header  __getattr__() behavior, take 13 (or so)
      zlib is mandatory, fail at configure if missing + remove conditionals
      Fix the sanity check on number of query/verify sources (RhBug:691930)
      Only increment number of query/verify sources when we encounter new types
      Oops, rpmPubkeyDig() should return NULL if pgpPrtPkts() fails
      Fix crash on PGP packets/armors with more than one key (RhBug:667582)
      Fix memleak on keys with more than one user id
      Sanity check signatures even if we dont have a key
      Shut up unused-but-set warnings from gcc (if supported)
      Preparing for 4.9.1
      Remove ugly isDir recurse prevention hack on build
      pgpVerifySig() check of NULL hash is the wrong way around
      Strip trailing slash from paths at addFile()
      Preparing for 4.9.1.1
      Only muck with signals on first and last db open/close
      Sanity check region offset in regionSwab()
      Sanity check region offset range on headerLoad()
      Preparing for 4.9.1.2
      Sanity check region length on header load
      Verify the entire region trailer, not just its offset, is within data area
      Fix dribble length calculation on headerLoad()
      Specifically validate region tag on header import
      Differentiate between non-existent and invalid region tag
      Validate negated offsets too in headerVerifyInfo()
      Preparing for 4.9.1.3

Tero Aho (2):
      Fix uninitialized variable in fsm
      Plug a minor memleak on writeRPM() error paths

Ville Skyttä (8):
      Comment spelling fix.
      Avoid emitting empty perl() module deps.
      Documentation spelling fixes.
      Man page syntax fixes.
      Mention %bcond_with* in conditional build doc.
      Honor $TMPDIR in various scripts.
      Add lzip support.
      Add lrzip support.

---
## [Lavonathan/50-Webdev-Project-Repo](https://github.com/Lavonathan/50-Webdev-Project-Repo)@[c07fdcc052...](https://github.com/Lavonathan/50-Webdev-Project-Repo/commit/c07fdcc05248dc45ac42b9e2fbe014a56534dc30)
#### Saturday 2020-12-26 21:08:30 by Lavon

Completed project 014 Animated Navigation

Completed the animated navigation project. Nothing special here. Very simply project. Honestly not my favourite one. The effect looks kinda gimmicky to be honest.

---
## [insilications/rpm](https://github.com/insilications/rpm)@[74f3d1dcdb...](https://github.com/insilications/rpm/commit/74f3d1dcdb5c42483e7297b1913439e789b58cd6)
#### Saturday 2020-12-26 21:15:41 by insilications

rpm: Autospec creation for update from version 4.16.1.2 to version 4.14.2.1

Alan Jenkins (2):
      ndb glue: closeEnv() should always clear rdb->db_dbenv
      rpmidxHandleObsolete(): Fix fd leak in error path

Andreas Schwab (1):
      debugedit: handle RISC-V relocation

Athos Ribeiro (1):
      Add missing option to rpmspec manpage

Bernhard M. Wiedemann (1):
      find-debuginfo.sh: sort output of find

Bernhard Rosenkränzer (1):
      Fix division by zero in prelink detection, issue 420

Colin Walters (1):
      COPYING: Minor grammar fixes

Filipe Brandenburger (1):
      Add shortcut to --nodebuginfo

Florian Festi (8):
      Fix formatting in man page
      Rename _RPMVSF_* constants to RPMVSF_MASK_*
      Use new RPMVSF_MASK_* constants
      Expose new RPMVSF_MASK_* constants in Python binding
      Use new RPMVSF_MASK_* constants in comment of the macros file
      Add --allow-empty to the initial commit of __scm_setup_git
      Add switch to disable systemd-inhibit plugin
      Call checkOwners() first to get useful error message on broken sources

Igor Gnatenko (3):
      metainfo.prov: scan /usr/share/metainfo and /usr/share/appdata for both types
      tests: Add tests for boolean dependencies
      brp-compress: compress fish manpages

Jan Pazdziora (2):
      Make python examples run with python 3, the print commands.
      rpm.spec's .prep seems to be an attribute.

Jeff Johnson (1):
      Add LMDB backend to RPM

Jun Aruga (1):
      Fix Python bindings library path for custom prefix.

Kir Kolyshkin (3):
      Factor out and unify setting CLOEXEC
      Optimize rpmSetCloseOnExec
      rpmSetCloseOnExec: use getrlimit()

Mark Wielaard (11):
      Rename addPackageRequires to addPackageDeps in build/files.
      Add debugsource recommends to debuginfo packages.
      Avoid warning about mbAppendStr if lui support isn't enabled.
      Fix rpmlog printing of off_t in fdConsume.
      Fix rpmlog warning in lzopen_internal from too big length specifier.
      debugedit: edit_dwarf2 check lndx is in range before checking r_offset.
      Support --jobs as an alias to -j in find-debuginfo.sh (RhBug:1518120)
      Fix type mismatch calculating new line program offset in debugedit.c.
      debugedit: Check .debug_str index is valid before use.
      debugedit: Only try to collect comp_dir in phase zero.
      find-debuginfo.sh: Handle application/x-pie-executable (file 5.33 output).

Michael Schroeder (7):
      Fix classification of ELF binaries with both setuid/setgid set
      Add support for 'unless' rich dependencies
      Allow rpmrichParse to be called with no callback
      Forbid 'if' richops in 'or' context and 'unless' richops in 'and' context
      Fix sigheader generation for big archives
      Fix inode handling for zero-sized files
      Improve hardlink handling in the disk space calculation

Michal Čihař (1):
      Follow man page conventions in rpm-misc.8

Mike Crowe (1):
      Make configure cope with multiple users/groups with ID 0

Miro Hrončok (3):
      brp-python-bytecompile: Run a pre-flight find before invoking $default_python
      Provide a way to opt out from Python bytecompilation out side of lib dir
      Python generators: Use nonstandardlib for purelib definition

Neal Gompa (2):
      ci: Add lmdb-devel to CI Dockerfile
      configure: Fix typo for libcrypto usability check for OpenSSL check

Nikola Forró (1):
      Only destroy lua tables if there are no BASpecs left

Panu Matilainen (191):
      Remember to add macro-scope.spec to tarballs
      Revert "Only build bundled fts if system has a bad version that doesn't handle LFS"
      Disable two of the sigpipe tests, they're too unstable
      Make the rpm 4.4.x compat layer removal explicit via an error message
      Revert "Support quoting of macro arguments (#222)"
      Add missing "il" to header sanity check error message
      Make _dbibyteswapped static within lmdb.c
      _DBSWAP() macro is identical between lmdb.c and db3.c, consolidate to dbi.h
      Add a flag to allow quiet test for package existence with lookupPackage()
      Use silent lookup for debuginfo packages (#1482144)
      Remove redundant max_macro_depth initialization
      Bump macro max recursion limit up
      Eliminate unnecessary "delete" argument to freeArgs()
      Allow running rpmbuild with debug verbosity
      Leave build scripts around in debug mode (#1442015)
      Export rpmsqBlock() to python bindings as blockSignals()
      Limit automatic fallback to DB_PRIVATE to read-only operations
      Fallback to DB_PRIVATE on readonly DB_VERSION_MISMATCH too (RhBug:1465809)
      Only fallback to MDB_RDONLY if readonly database is requested
      Eliminate a bunch of idiotic assert()'s in rpmtd getters
      Restore 4.13 behavior with single value tags in query format arrays
      Add more queryformat array testcases
      Make queryformat array behavior consistent for all types
      Add a few more parametric macro argument tests
      Support parametric macro argument quoting, take three (#222)
      Avoid macro expansion on every rpmlog() call + fix a related memleak
      Plug what's probably an ancient memleak in build code
      Soften the 4.4.x COMPAT error into a warning for 4.14.x
      Add documentation for all/most built-in macros
      Don't assume %{quote:...} is surrounded by whitespace
      Remove leftover parentheses, no functional change.
      Mark ndb and lmdb experimental in configure too
      Limit "<package> has N files" debug diagnostics to install/erase goals
      Fix %transfiletriggerpostun diagnostic showing "unknown"
      Always execute scriptlet callbacks with owning header (RhBug:1485389)
      Use pkg-config for figuring python cflags and libs
      Eliminate the rest of idiotic assert()'s in rpmtd.c
      Sync disks at the end of transactions (RhBug:1461765)
      Revert "Sync disks at the end of transactions (RhBug:1461765)"
      Fix false negatives on signature/digest tests inside "make distcheck"
      Enable python build during dist-check
      Fix PYTHONPATH in test-suite when prefix differs from system python (#265)
      Preparing for rpm 4.14.0-rc1
      Fix file triggers failing to match on some packages (MgBug:18797)
      Avoid multiple strlen() calls on the constant prefix string when searching
      Fix Ftell() past 2GB on 32bit architectures (RhBug:1492587)
      Add testcases for unpackaged files and directories detection
      Don't follow symlinks on file creation (CVE-2017-7501)
      Fix excessive dependencies for elfdeps and sepdebugcrcfix
      Add configuration option for controlling file IO flushing behavior
      Create $(prefix)/rpm/macros.d directory on make install
      Add + use a separate helper function for debuginfo test-cases
      Restrict following symlinks to directories by ownership (CVE-2017-7500)
      Make verification match the new restricted directory symlink behavior
      Unbreak make distcheck again
      And another test-suite related distcheck regression fix...
      Preparing for rpm 4.14.0-rc2
      Always initialize hdrp retval of rpmReadPackageFile()
      Ensure all indexes get created on --rebuilddb
      Remove excessive linking from our cli tools
      Don't spew out usage message just because rpm is in verbose mode
      Fix "substatus" (eg NOKEY) regression on package read (#330)
      Add tests for signed package read for both NOKEY and OK cases
      Avoid local path in testsuite expected results, oops
      Update CREDITS for new contributors since 4.13.0
      Preparing for rpm 4.14.0
      Don't assume per-user groups in test-suite
      Switch from Transifex to Zanata
      Test for lsetxattr() presence, don't try building IMA plugin without it
      Remove find-lang.sh embedded changelog, merge authors to CREDITS
      Add actual command + arguments to dependency generator debug output (#338)
      Error out on --enable-ndb if system doesn't support mremap() (#334)
      Generalize argvAddDir() into a helper supporting arbitrary virtual attributes
      Add support for new virtual file attribute "%artifact"
      Check for getline() as a required function in configure
      Add tests for file attribute filtering in query and verification
      Only fallback to read-only locking on EACCES (RhBug:1502134 revisited)
      Mark build-id and dwz entries in packages as %artifact files
      Fix not all %transfiletriggerpostun triggers executing (RhBug:1514085)
      Don't require signature header to be in single contiguous region (#270)
      Don't segfault on NULL fi in generated rpmfi iterators, doh
      Fixups to file trigger internal api docs + comments
      Fix file lists getting fed to file triggers multiple times (#370)
      Add a testcase for issue #370
      Fixup transfiletrigger comments
      Move %transfiletriggerun after problem checking and fingerprinting
      Explicitly skip non-installed files on erasure
      Don't fire file triggers on non-installed files
      Fix %ghost/%missingok files causing bogus verify failures (RhBug:1533092)
      Preparing for rpm 4.14.1
      Add rpmcliVSFlags which is populated with the actual vsflags from popt
      Grab number of elements in transaction into a local helper variable
      Allow verification callbacks to signal stopping, document the callback
      Typecheck header tags match our definitions prior to import (#242, #414)
      Handle missing keyring same as key not found in rpmKeyringVerifySig()
      Further relax type checking among different string tag types (#414)
      Streamline digest/signature info initialization
      Always honor vsflags when appending new items to verify set
      Use the same verify callback for verbose and non-verbose operation
      Store digest/signature verify results in the sinfo struct directly
      Split verify set creation to separate allocation + init steps
      Store digest bundle handle in verify set as part of initialization
      Store keyring handle in verify set as part of creation
      Remove now unnecessary flags test on payload digest append
      Add getter for verify set vsflags, use it for the one external access
      Pass verify sets to rpmpkgRead() instead of flags and keyrings
      Remember unfinalized digest context in rpmsinfo struct
      Separate signature/digest verification from the digest finalization
      Ignore non-signature tags on rpmvsInit()
      PGP 5 is rather ancient history, don't bother
      Drop unused leadtype argument to applyRetrofits()
      Plug the last data "leak" from rpmlead
      Add another corrupted header signature/digest testcase
      Test for rpmkeys return codes too in [rpmkeys -Kv <signed> 1]
      Add a separate vsflags macro for package (signature/digest) verification
      Add internal API for allocating and freeing hdrblob objects
      Use allocated hdr blobs in rpmpkgRead() instead of local structs
      Lift logging out of rpmpkgRead() to callers
      "sigset" is a terrible variable name since it's ambigious, rename
      Separate verification & other extra logic from package reading
      Make retrofit etc helpers static again now that we can
      Attempt to (re)verify anything that has a digest context
      Identify non-present signatures too (based on their assumed algo)
      Preliminaries for reporting non-present verification items
      Sort verify set results by type as well, signatures before digests
      Only init/fini verify ranges we're using
      Implement configurable, mandatory signature/digest verify level for rpm -K
      Handle system verify level centrally and internally in rpmvs
      Make verify set sorting more precise (and hopefully, more useful)
      Add package verification step to transactions
      Switch verify level to digest by default
      Plug a memory leak from commit 170bc61a337f74a3619be0357bb3da96306c2769
      Create transaction set only after initializing rpm itself, oops
      Eliminate weirdo "usesys" argument from rpmvsVerify()
      Move verify level configuration to transaction set public API
      Make --nosignature/--nodigest affect verification level too
      Add Python bindings + simple testcase for the verification level API
      Oops, add verification callback symbols to python bindings
      Rename vslevel back to vfylevel everywhere, sigh
      Add a public API for controlling package verification flags
      Eliminate rpmcliVSFlags from core transaction code
      Add rudimentary documentation to the vfylevel and -flags apis
      Macroize build root policies for consistent disable/override ability
      Don't bother falling back to gpg from gpg2 in test-suite
      Fix misleading error message when missing TTY (#355)
      Avoid hard dependency on python via the python macro helper script (#387)
      Fix memleak on gpg-pubkey header generation
      Only use offset optimization for string types in HEADERIMPORT_FAST (#398)
      Drop a redundant binary entry size assignment
      Clarify Fread() and Fwrite() semantics
      Make rpmErase() exit code resemble rpmInstall() exit code
      Use rpm's non-failing allocators for ndb too (#357)
      Improve rpm2cpio examples a bit (RhBug:1553898)
      Make python addSign() and delSign() actually work (RhBug:1558126)
      Remember to include macros.testfile in dist tarballs
      Fix a leak and a race in rpmdb open/close handling
      Use just numeric uid/gid for user/group verification
      Expect failure for invalid directory symlink fails when run as root
      Really fix CVE-2017-7500. Ugh.
      Add support for --whatconflicts for good measure
      Log a more specific error on scriptlet exec() failure
      Make test-suite work with coreutils multicall binary too
      Adjust file verify to really follow CVE-2017-7500 rules, doh
      Adjust testsuite for CVE-2017-7500 verify tweak, deep sigh
      Fix out-of-tree build regression
      Preparing for rpm 4.14.2-rc1
      Fix a memleak in file verification
      Fix ancient FILE leak in file manifest reading
      Fix leak on dlopen()'ed handle in case our _hooks symbol is not found
      Fix leaking opendir() handle on database rebuild
      Fix an ancient leak and missing error logging on src.rpm create failure
      Fix ancient memleaks on buildRoot re-expansion sanity checks
      Copy DISTTAG to source rpms too if present
      Fix an obvious typo in dwz filename generation
      Remove redundant rpmGlob() retval condition
      Fix memleak in changelog full timestamp parsing
      Fix ancient memleak in spec preamble parse
      Fix rpmlog error handling regressions from colorization (RhBug:1597274)
      Clean up and improve rpmlog error handling + reporting
      Preparing for rpm 4.14.2-rc2
      Fix ancient memleaks on error paths of expression parsing
      Include expected output in more install test-cases
      Document tag=pattern query/verify selector in the manual (#451)
      Actually remember weak dependencies in transaction elements (RhBug:1593185)
      Increase order test coverage
      Preparing for rpm 4.14.2
      Fix a blindingly obvious memleak in package verify step
      Fix ancient python GIL locking bug on callback (RhBug:1632488)
      Resurrect long since broken Lua library path
      Fix nasty --setperms/--setugids regression in 4.14.2 (RhBug: 1640470)
      Preparing for rpm 4.14.2.1

Pavlina Moravcova Varekova (17):
      Unified messages printed by %{echo:...}, %{warn:...}, and %{error:...}
      Make macro %{error:...} cause an actual failure
      %trace mb states at the beginning/end of expandMacro must be equal
      Bring manual for %{echo:...}, %{warn:...} , %{error:...} up to date
      When printMacro() is used, print newline after "(empty)" macro
      Add documentation for %load macro
      Move %define and %undefine tests into rpmmacro.at and simplify them
      Don't expand %{verbose:...} argument on false condition
      Fix progress bar printing for packages with wrong archive size (RhBug:1478051)
      Add --queryformats for displaying numbers human readable (#375)
      Fix a macro end detection if the first char of a macro line is '}' (#401)
      Update Query formats documentation
      Correct Query formats documentation
      Add popt-based options --setcaps and --restore (RhBug:1550745)
      Remove misleading --setperms and --setugids warnings (RhBug: 1538610)
      Fix creating bogus requirements by perl.req (RhBug: 1539344)
      Add missing documentation for --jobs in find-debuginfo.sh

Per Øyvind Karlsen (1):
      Add support for passing multiple names to find-lang.sh

Peter Kjellerstedt (1):
      Add a new option --alldeps to rpmdeps

Piotr Drąg (1):
      Update Polish plural forms

Richard Purdie (1):
      Remove dubious condition on scriptlet exec()

Ruediger Oertel (1):
      Define DistTag as optional tag with macro just like DistURL

Stefan Berger (4):
      Split off function wfd_close() to close a file
      Split off function wfd_open() to open a file
      Create first hard link file and keep open, write it at end
      Remove now redundant code and parameters from expandRegular()

Thierry Vignaud (1):
      Add support for --whatobsoletes

Ville Skyttä (4):
      Use separate script instead of python -c to retrieve %python_* values
      Get %python_version from platform.python_version_tuple
      python-macro-helper: Drop -tt from shebang
      Invoke python-macro-helper with -Es python args

---

# [<](2020-12-25.md) 2020-12-26 [>](2020-12-27.md)

